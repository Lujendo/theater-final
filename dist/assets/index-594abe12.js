var sT=Object.defineProperty;var aT=(e,t,n)=>t in e?sT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pe=(e,t,n)=>(aT(e,typeof t!="symbol"?t+"":t,n),n);function s3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var _s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a3={exports:{}},bh={},o3={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),oT=Symbol.for("react.portal"),lT=Symbol.for("react.fragment"),cT=Symbol.for("react.strict_mode"),uT=Symbol.for("react.profiler"),dT=Symbol.for("react.provider"),fT=Symbol.for("react.context"),hT=Symbol.for("react.forward_ref"),pT=Symbol.for("react.suspense"),mT=Symbol.for("react.memo"),gT=Symbol.for("react.lazy"),ay=Symbol.iterator;function xT(e){return e===null||typeof e!="object"?null:(e=ay&&e[ay]||e["@@iterator"],typeof e=="function"?e:null)}var l3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c3=Object.assign,u3={};function Nc(e,t,n){this.props=e,this.context=t,this.refs=u3,this.updater=n||l3}Nc.prototype.isReactComponent={};Nc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function d3(){}d3.prototype=Nc.prototype;function Og(e,t,n){this.props=e,this.context=t,this.refs=u3,this.updater=n||l3}var jg=Og.prototype=new d3;jg.constructor=Og;c3(jg,Nc.prototype);jg.isPureReactComponent=!0;var oy=Array.isArray,f3=Object.prototype.hasOwnProperty,Mg={current:null},h3={key:!0,ref:!0,__self:!0,__source:!0};function p3(e,t,n){var r,i={},a=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(a=""+t.key),t)f3.call(t,r)&&!h3.hasOwnProperty(r)&&(i[r]=t[r]);var g=arguments.length-2;if(g===1)i.children=n;else if(1<g){for(var v=Array(g),x=0;x<g;x++)v[x]=arguments[x+2];i.children=v}if(e&&e.defaultProps)for(r in g=e.defaultProps,g)i[r]===void 0&&(i[r]=g[r]);return{$$typeof:fd,type:e,key:a,ref:d,props:i,_owner:Mg.current}}function vT(e,t){return{$$typeof:fd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lg(e){return typeof e=="object"&&e!==null&&e.$$typeof===fd}function yT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ly=/\/+/g;function h1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yT(""+e.key):t.toString(36)}function Kf(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case fd:case oT:d=!0}}if(d)return d=e,i=i(d),e=r===""?"."+h1(d,0):r,oy(i)?(n="",e!=null&&(n=e.replace(ly,"$&/")+"/"),Kf(i,t,n,"",function(x){return x})):i!=null&&(Lg(i)&&(i=vT(i,n+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(ly,"$&/")+"/")+e)),t.push(i)),1;if(d=0,r=r===""?".":r+":",oy(e))for(var g=0;g<e.length;g++){a=e[g];var v=r+h1(a,g);d+=Kf(a,t,n,v,i)}else if(v=xT(e),typeof v=="function")for(e=v.call(e),g=0;!(a=e.next()).done;)a=a.value,v=r+h1(a,g++),d+=Kf(a,t,n,v,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function _f(e,t,n){if(e==null)return e;var r=[],i=0;return Kf(e,r,"","",function(a){return t.call(n,a,i++)}),r}function wT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vr={current:null},Zf={transition:null},bT={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Zf,ReactCurrentOwner:Mg};function m3(){throw Error("act(...) is not supported in production builds of React.")}Ct.Children={map:_f,forEach:function(e,t,n){_f(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _f(e,function(){t++}),t},toArray:function(e){return _f(e,function(t){return t})||[]},only:function(e){if(!Lg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ct.Component=Nc;Ct.Fragment=lT;Ct.Profiler=uT;Ct.PureComponent=Og;Ct.StrictMode=cT;Ct.Suspense=pT;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bT;Ct.act=m3;Ct.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=c3({},e.props),i=e.key,a=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,d=Mg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(v in t)f3.call(t,v)&&!h3.hasOwnProperty(v)&&(r[v]=t[v]===void 0&&g!==void 0?g[v]:t[v])}var v=arguments.length-2;if(v===1)r.children=n;else if(1<v){g=Array(v);for(var x=0;x<v;x++)g[x]=arguments[x+2];r.children=g}return{$$typeof:fd,type:e.type,key:i,ref:a,props:r,_owner:d}};Ct.createContext=function(e){return e={$$typeof:fT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dT,_context:e},e.Consumer=e};Ct.createElement=p3;Ct.createFactory=function(e){var t=p3.bind(null,e);return t.type=e,t};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(e){return{$$typeof:hT,render:e}};Ct.isValidElement=Lg;Ct.lazy=function(e){return{$$typeof:gT,_payload:{_status:-1,_result:e},_init:wT}};Ct.memo=function(e,t){return{$$typeof:mT,type:e,compare:t===void 0?null:t}};Ct.startTransition=function(e){var t=Zf.transition;Zf.transition={};try{e()}finally{Zf.transition=t}};Ct.unstable_act=m3;Ct.useCallback=function(e,t){return Vr.current.useCallback(e,t)};Ct.useContext=function(e){return Vr.current.useContext(e)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(e){return Vr.current.useDeferredValue(e)};Ct.useEffect=function(e,t){return Vr.current.useEffect(e,t)};Ct.useId=function(){return Vr.current.useId()};Ct.useImperativeHandle=function(e,t,n){return Vr.current.useImperativeHandle(e,t,n)};Ct.useInsertionEffect=function(e,t){return Vr.current.useInsertionEffect(e,t)};Ct.useLayoutEffect=function(e,t){return Vr.current.useLayoutEffect(e,t)};Ct.useMemo=function(e,t){return Vr.current.useMemo(e,t)};Ct.useReducer=function(e,t,n){return Vr.current.useReducer(e,t,n)};Ct.useRef=function(e){return Vr.current.useRef(e)};Ct.useState=function(e){return Vr.current.useState(e)};Ct.useSyncExternalStore=function(e,t,n){return Vr.current.useSyncExternalStore(e,t,n)};Ct.useTransition=function(){return Vr.current.useTransition()};Ct.version="18.3.1";o3.exports=Ct;var L=o3.exports;const ue=wh(L),Pg=s3({__proto__:null,default:ue},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT=L,ET=Symbol.for("react.element"),NT=Symbol.for("react.fragment"),_T=Object.prototype.hasOwnProperty,ST=CT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AT={key:!0,ref:!0,__self:!0,__source:!0};function g3(e,t,n){var r,i={},a=null,d=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)_T.call(t,r)&&!AT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ET,type:e,key:a,ref:d,props:i,_owner:ST.current}}bh.Fragment=NT;bh.jsx=g3;bh.jsxs=g3;a3.exports=bh;var c=a3.exports,nm={},x3={exports:{}},Ci={},v3={exports:{}},y3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,Se){var Re=ce.length;ce.push(Se);e:for(;0<Re;){var Ye=Re-1>>>1,nt=ce[Ye];if(0<i(nt,Se))ce[Ye]=Se,ce[Re]=nt,Re=Ye;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var Se=ce[0],Re=ce.pop();if(Re!==Se){ce[0]=Re;e:for(var Ye=0,nt=ce.length,sn=nt>>>1;Ye<sn;){var gt=2*(Ye+1)-1,hn=ce[gt],De=gt+1,Oe=ce[De];if(0>i(hn,Re))De<nt&&0>i(Oe,hn)?(ce[Ye]=Oe,ce[De]=Re,Ye=De):(ce[Ye]=hn,ce[gt]=Re,Ye=gt);else if(De<nt&&0>i(Oe,Re))ce[Ye]=Oe,ce[De]=Re,Ye=De;else break e}}return Se}function i(ce,Se){var Re=ce.sortIndex-Se.sortIndex;return Re!==0?Re:ce.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var v=[],x=[],b=1,E=null,_=3,k=!1,A=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ce){for(var Se=n(x);Se!==null;){if(Se.callback===null)r(x);else if(Se.startTime<=ce)r(x),Se.sortIndex=Se.expirationTime,t(v,Se);else break;Se=n(x)}}function q(ce){if(R=!1,O(ce),!A)if(n(v)!==null)A=!0,ge(Q);else{var Se=n(x);Se!==null&&me(q,Se.startTime-ce)}}function Q(ce,Se){A=!1,R&&(R=!1,I(G),G=-1),k=!0;var Re=_;try{for(O(Se),E=n(v);E!==null&&(!(E.expirationTime>Se)||ce&&!fe());){var Ye=E.callback;if(typeof Ye=="function"){E.callback=null,_=E.priorityLevel;var nt=Ye(E.expirationTime<=Se);Se=e.unstable_now(),typeof nt=="function"?E.callback=nt:E===n(v)&&r(v),O(Se)}else r(v);E=n(v)}if(E!==null)var sn=!0;else{var gt=n(x);gt!==null&&me(q,gt.startTime-Se),sn=!1}return sn}finally{E=null,_=Re,k=!1}}var z=!1,j=null,G=-1,H=5,se=-1;function fe(){return!(e.unstable_now()-se<H)}function ae(){if(j!==null){var ce=e.unstable_now();se=ce;var Se=!0;try{Se=j(!0,ce)}finally{Se?re():(z=!1,j=null)}}else z=!1}var re;if(typeof D=="function")re=function(){D(ae)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ee=ve.port2;ve.port1.onmessage=ae,re=function(){ee.postMessage(null)}}else re=function(){M(ae,0)};function ge(ce){j=ce,z||(z=!0,re())}function me(ce,Se){G=M(function(){ce(e.unstable_now())},Se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){A||k||(A=!0,ge(Q))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(v)},e.unstable_next=function(ce){switch(_){case 1:case 2:case 3:var Se=3;break;default:Se=_}var Re=_;_=Se;try{return ce()}finally{_=Re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,Se){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Re=_;_=ce;try{return Se()}finally{_=Re}},e.unstable_scheduleCallback=function(ce,Se,Re){var Ye=e.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?Ye+Re:Ye):Re=Ye,ce){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Re+nt,ce={id:b++,callback:Se,priorityLevel:ce,startTime:Re,expirationTime:nt,sortIndex:-1},Re>Ye?(ce.sortIndex=Re,t(x,ce),n(v)===null&&ce===n(x)&&(R?(I(G),G=-1):R=!0,me(q,Re-Ye))):(ce.sortIndex=nt,t(v,ce),A||k||(A=!0,ge(Q))),ce},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(ce){var Se=_;return function(){var Re=_;_=Se;try{return ce.apply(this,arguments)}finally{_=Re}}}})(y3);v3.exports=y3;var TT=v3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT=L,bi=TT;function Ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w3=new Set,Bu={};function hl(e,t){oc(e,t),oc(e+"Capture",t)}function oc(e,t){for(Bu[e]=t,e=0;e<t.length;e++)w3.add(t[e])}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rm=Object.prototype.hasOwnProperty,DT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cy={},uy={};function IT(e){return rm.call(uy,e)?!0:rm.call(cy,e)?!1:DT.test(e)?uy[e]=!0:(cy[e]=!0,!1)}function RT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OT(e,t,n,r){if(t===null||typeof t>"u"||RT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yr(e,t,n,r,i,a,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=d}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wr[e]=new Yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wr[t]=new Yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wr[e]=new Yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wr[e]=new Yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wr[e]=new Yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wr[e]=new Yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wr[e]=new Yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wr[e]=new Yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wr[e]=new Yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fg=/[\-:]([a-z])/g;function Bg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fg,Bg);wr[t]=new Yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fg,Bg);wr[t]=new Yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fg,Bg);wr[t]=new Yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ug(e,t,n,r){var i=wr.hasOwnProperty(t)?wr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OT(t,n,i,r)&&(n=null),r||i===null?IT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ya=kT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sf=Symbol.for("react.element"),Bl=Symbol.for("react.portal"),Ul=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),b3=Symbol.for("react.provider"),C3=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),am=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),E3=Symbol.for("react.offscreen"),dy=Symbol.iterator;function du(e){return e===null||typeof e!="object"?null:(e=dy&&e[dy]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,p1;function Nu(e){if(p1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);p1=t&&t[1]||""}return`
`+p1+e}var m1=!1;function g1(e,t){if(!e||m1)return"";m1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var r=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){r=x}e.call(t.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var i=x.stack.split(`
`),a=r.stack.split(`
`),d=i.length-1,g=a.length-1;1<=d&&0<=g&&i[d]!==a[g];)g--;for(;1<=d&&0<=g;d--,g--)if(i[d]!==a[g]){if(d!==1||g!==1)do if(d--,g--,0>g||i[d]!==a[g]){var v=`
`+i[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=g);break}}}finally{m1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nu(e):""}function jT(e){switch(e.tag){case 5:return Nu(e.type);case 16:return Nu("Lazy");case 13:return Nu("Suspense");case 19:return Nu("SuspenseList");case 0:case 2:case 15:return e=g1(e.type,!1),e;case 11:return e=g1(e.type.render,!1),e;case 1:return e=g1(e.type,!0),e;default:return""}}function om(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ul:return"Fragment";case Bl:return"Portal";case im:return"Profiler";case zg:return"StrictMode";case sm:return"Suspense";case am:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C3:return(e.displayName||"Context")+".Consumer";case b3:return(e._context.displayName||"Context")+".Provider";case Wg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hg:return t=e.displayName||null,t!==null?t:om(e.type)||"Memo";case Ba:t=e._payload,e=e._init;try{return om(e(t))}catch{}}return null}function MT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return om(t);case 8:return t===zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LT(e){var t=N3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,a.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Af(e){e._valueTracker||(e._valueTracker=LT(e))}function _3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=N3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function b0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lm(e,t){var n=t.checked;return An({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ao(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function S3(e,t){t=t.checked,t!=null&&Ug(e,"checked",t,!1)}function cm(e,t){S3(e,t);var n=ao(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?um(e,t.type,n):t.hasOwnProperty("defaultValue")&&um(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function um(e,t,n){(t!=="number"||b0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _u=Array.isArray;function Jl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ao(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return An({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function py(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ae(92));if(_u(n)){if(1<n.length)throw Error(Ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ao(n)}}function A3(e,t){var n=ao(t.value),r=ao(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function my(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function T3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tf,k3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tf=Tf||document.createElement("div"),Tf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PT=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(e){PT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Du[t]=Du[e]})});function D3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Du.hasOwnProperty(e)&&Du[e]?(""+t).trim():t+"px"}function I3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=D3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var FT=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hm(e,t){if(t){if(FT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ae(62))}}function pm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=null;function qg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gm=null,ec=null,tc=null;function gy(e){if(e=md(e)){if(typeof gm!="function")throw Error(Ae(280));var t=e.stateNode;t&&(t=Sh(t),gm(e.stateNode,e.type,t))}}function R3(e){ec?tc?tc.push(e):tc=[e]:ec=e}function O3(){if(ec){var e=ec,t=tc;if(tc=ec=null,gy(e),t)for(e=0;e<t.length;e++)gy(t[e])}}function j3(e,t){return e(t)}function M3(){}var x1=!1;function L3(e,t,n){if(x1)return e(t,n);x1=!0;try{return j3(e,t,n)}finally{x1=!1,(ec!==null||tc!==null)&&(M3(),O3())}}function zu(e,t){var n=e.stateNode;if(n===null)return null;var r=Sh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ae(231,t,typeof n));return n}var xm=!1;if(fa)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){xm=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{xm=!1}function BT(e,t,n,r,i,a,d,g,v){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(b){this.onError(b)}}var Iu=!1,C0=null,E0=!1,vm=null,UT={onError:function(e){Iu=!0,C0=e}};function zT(e,t,n,r,i,a,d,g,v){Iu=!1,C0=null,BT.apply(UT,arguments)}function WT(e,t,n,r,i,a,d,g,v){if(zT.apply(this,arguments),Iu){if(Iu){var x=C0;Iu=!1,C0=null}else throw Error(Ae(198));E0||(E0=!0,vm=x)}}function pl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function P3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xy(e){if(pl(e)!==e)throw Error(Ae(188))}function HT(e){var t=e.alternate;if(!t){if(t=pl(e),t===null)throw Error(Ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return xy(i),e;if(a===r)return xy(i),t;a=a.sibling}throw Error(Ae(188))}if(n.return!==r.return)n=i,r=a;else{for(var d=!1,g=i.child;g;){if(g===n){d=!0,n=i,r=a;break}if(g===r){d=!0,r=i,n=a;break}g=g.sibling}if(!d){for(g=a.child;g;){if(g===n){d=!0,n=a,r=i;break}if(g===r){d=!0,r=a,n=i;break}g=g.sibling}if(!d)throw Error(Ae(189))}}if(n.alternate!==r)throw Error(Ae(190))}if(n.tag!==3)throw Error(Ae(188));return n.stateNode.current===n?e:t}function F3(e){return e=HT(e),e!==null?B3(e):null}function B3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B3(e);if(t!==null)return t;e=e.sibling}return null}var U3=bi.unstable_scheduleCallback,vy=bi.unstable_cancelCallback,qT=bi.unstable_shouldYield,VT=bi.unstable_requestPaint,Wn=bi.unstable_now,YT=bi.unstable_getCurrentPriorityLevel,Vg=bi.unstable_ImmediatePriority,z3=bi.unstable_UserBlockingPriority,N0=bi.unstable_NormalPriority,GT=bi.unstable_LowPriority,W3=bi.unstable_IdlePriority,Ch=null,Ds=null;function $T(e){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Ch,e,void 0,(e.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:KT,XT=Math.log,QT=Math.LN2;function KT(e){return e>>>=0,e===0?32:31-(XT(e)/QT|0)|0}var kf=64,Df=4194304;function Su(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,d=n&268435455;if(d!==0){var g=d&~i;g!==0?r=Su(g):(a&=d,a!==0&&(r=Su(a)))}else d=n&~i,d!==0?r=Su(d):a!==0&&(r=Su(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-is(t),i=1<<n,r|=e[n],t&=~i;return r}function ZT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-is(a),g=1<<d,v=i[d];v===-1?(!(g&n)||g&r)&&(i[d]=ZT(g,t)):v<=t&&(e.expiredLanes|=g),a&=~g}}function ym(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function H3(){var e=kf;return kf<<=1,!(kf&4194240)&&(kf=64),e}function v1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-is(t),e[t]=n}function ek(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-is(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Yg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-is(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Xt=0;function q3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V3,Gg,Y3,G3,$3,wm=!1,If=[],Xa=null,Qa=null,Ka=null,Wu=new Map,Hu=new Map,Wa=[],tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yy(e,t){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Wu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(t.pointerId)}}function hu(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=md(t),t!==null&&Gg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function nk(e,t,n,r,i){switch(t){case"focusin":return Xa=hu(Xa,e,t,n,r,i),!0;case"dragenter":return Qa=hu(Qa,e,t,n,r,i),!0;case"mouseover":return Ka=hu(Ka,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Wu.set(a,hu(Wu.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Hu.set(a,hu(Hu.get(a)||null,e,t,n,r,i)),!0}return!1}function X3(e){var t=Ho(e.target);if(t!==null){var n=pl(t);if(n!==null){if(t=n.tag,t===13){if(t=P3(n),t!==null){e.blockedOn=t,$3(e.priority,function(){Y3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mm=r,n.target.dispatchEvent(r),mm=null}else return t=md(n),t!==null&&Gg(t),e.blockedOn=n,!1;t.shift()}return!0}function wy(e,t,n){Jf(e)&&n.delete(t)}function rk(){wm=!1,Xa!==null&&Jf(Xa)&&(Xa=null),Qa!==null&&Jf(Qa)&&(Qa=null),Ka!==null&&Jf(Ka)&&(Ka=null),Wu.forEach(wy),Hu.forEach(wy)}function pu(e,t){e.blockedOn===t&&(e.blockedOn=null,wm||(wm=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,rk)))}function qu(e){function t(i){return pu(i,e)}if(0<If.length){pu(If[0],e);for(var n=1;n<If.length;n++){var r=If[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xa!==null&&pu(Xa,e),Qa!==null&&pu(Qa,e),Ka!==null&&pu(Ka,e),Wu.forEach(t),Hu.forEach(t),n=0;n<Wa.length;n++)r=Wa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wa.length&&(n=Wa[0],n.blockedOn===null);)X3(n),n.blockedOn===null&&Wa.shift()}var nc=ya.ReactCurrentBatchConfig,S0=!0;function ik(e,t,n,r){var i=Xt,a=nc.transition;nc.transition=null;try{Xt=1,$g(e,t,n,r)}finally{Xt=i,nc.transition=a}}function sk(e,t,n,r){var i=Xt,a=nc.transition;nc.transition=null;try{Xt=4,$g(e,t,n,r)}finally{Xt=i,nc.transition=a}}function $g(e,t,n,r){if(S0){var i=bm(e,t,n,r);if(i===null)T1(e,t,r,A0,n),yy(e,r);else if(nk(i,e,t,n,r))r.stopPropagation();else if(yy(e,r),t&4&&-1<tk.indexOf(e)){for(;i!==null;){var a=md(i);if(a!==null&&V3(a),a=bm(e,t,n,r),a===null&&T1(e,t,r,A0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else T1(e,t,r,null,n)}}var A0=null;function bm(e,t,n,r){if(A0=null,e=qg(r),e=Ho(e),e!==null)if(t=pl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=P3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return A0=e,null}function Q3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YT()){case Vg:return 1;case z3:return 4;case N0:case GT:return 16;case W3:return 536870912;default:return 16}default:return 16}}var Va=null,Xg=null,e0=null;function K3(){if(e0)return e0;var e,t=Xg,n=t.length,r,i="value"in Va?Va.value:Va.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===i[a-r];r++);return e0=i.slice(e,1<r?1-r:void 0)}function t0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rf(){return!0}function by(){return!1}function Ei(e){function t(n,r,i,a,d){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(a):a[g]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rf:by,this.isPropagationStopped=by,this}return An(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),t}var _c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qg=Ei(_c),pd=An({},_c,{view:0,detail:0}),ak=Ei(pd),y1,w1,mu,Eh=An({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mu&&(mu&&e.type==="mousemove"?(y1=e.screenX-mu.screenX,w1=e.screenY-mu.screenY):w1=y1=0,mu=e),y1)},movementY:function(e){return"movementY"in e?e.movementY:w1}}),Cy=Ei(Eh),ok=An({},Eh,{dataTransfer:0}),lk=Ei(ok),ck=An({},pd,{relatedTarget:0}),b1=Ei(ck),uk=An({},_c,{animationName:0,elapsedTime:0,pseudoElement:0}),dk=Ei(uk),fk=An({},_c,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hk=Ei(fk),pk=An({},_c,{data:0}),Ey=Ei(pk),mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xk[e])?!!t[e]:!1}function Kg(){return vk}var yk=An({},pd,{key:function(e){if(e.key){var t=mk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=t0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kg,charCode:function(e){return e.type==="keypress"?t0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?t0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wk=Ei(yk),bk=An({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ny=Ei(bk),Ck=An({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kg}),Ek=Ei(Ck),Nk=An({},_c,{propertyName:0,elapsedTime:0,pseudoElement:0}),_k=Ei(Nk),Sk=An({},Eh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ak=Ei(Sk),Tk=[9,13,27,32],Zg=fa&&"CompositionEvent"in window,Ru=null;fa&&"documentMode"in document&&(Ru=document.documentMode);var kk=fa&&"TextEvent"in window&&!Ru,Z3=fa&&(!Zg||Ru&&8<Ru&&11>=Ru),_y=String.fromCharCode(32),Sy=!1;function J3(e,t){switch(e){case"keyup":return Tk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zl=!1;function Dk(e,t){switch(e){case"compositionend":return e4(t);case"keypress":return t.which!==32?null:(Sy=!0,_y);case"textInput":return e=t.data,e===_y&&Sy?null:e;default:return null}}function Ik(e,t){if(zl)return e==="compositionend"||!Zg&&J3(e,t)?(e=K3(),e0=Xg=Va=null,zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z3&&t.locale!=="ko"?null:t.data;default:return null}}var Rk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rk[e.type]:t==="textarea"}function t4(e,t,n,r){R3(r),t=T0(t,"onChange"),0<t.length&&(n=new Qg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ou=null,Vu=null;function Ok(e){f4(e,0)}function Nh(e){var t=ql(e);if(_3(t))return e}function jk(e,t){if(e==="change")return t}var n4=!1;if(fa){var C1;if(fa){var E1="oninput"in document;if(!E1){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),E1=typeof Ty.oninput=="function"}C1=E1}else C1=!1;n4=C1&&(!document.documentMode||9<document.documentMode)}function ky(){Ou&&(Ou.detachEvent("onpropertychange",r4),Vu=Ou=null)}function r4(e){if(e.propertyName==="value"&&Nh(Vu)){var t=[];t4(t,Vu,e,qg(e)),L3(Ok,t)}}function Mk(e,t,n){e==="focusin"?(ky(),Ou=t,Vu=n,Ou.attachEvent("onpropertychange",r4)):e==="focusout"&&ky()}function Lk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nh(Vu)}function Pk(e,t){if(e==="click")return Nh(t)}function Fk(e,t){if(e==="input"||e==="change")return Nh(t)}function Bk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ls=typeof Object.is=="function"?Object.is:Bk;function Yu(e,t){if(ls(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rm.call(t,i)||!ls(e[i],t[i]))return!1}return!0}function Dy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iy(e,t){var n=Dy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dy(n)}}function i4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s4(){for(var e=window,t=b0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=b0(e.document)}return t}function Jg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uk(e){var t=s4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&i4(n.ownerDocument.documentElement,n)){if(r!==null&&Jg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Iy(n,a);var d=Iy(n,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zk=fa&&"documentMode"in document&&11>=document.documentMode,Wl=null,Cm=null,ju=null,Em=!1;function Ry(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Em||Wl==null||Wl!==b0(r)||(r=Wl,"selectionStart"in r&&Jg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ju&&Yu(ju,r)||(ju=r,r=T0(Cm,"onSelect"),0<r.length&&(t=new Qg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wl)))}function Of(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hl={animationend:Of("Animation","AnimationEnd"),animationiteration:Of("Animation","AnimationIteration"),animationstart:Of("Animation","AnimationStart"),transitionend:Of("Transition","TransitionEnd")},N1={},a4={};fa&&(a4=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function _h(e){if(N1[e])return N1[e];if(!Hl[e])return e;var t=Hl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in a4)return N1[e]=t[n];return e}var o4=_h("animationend"),l4=_h("animationiteration"),c4=_h("animationstart"),u4=_h("transitionend"),d4=new Map,Oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(e,t){d4.set(e,t),hl(t,[e])}for(var _1=0;_1<Oy.length;_1++){var S1=Oy[_1],Wk=S1.toLowerCase(),Hk=S1[0].toUpperCase()+S1.slice(1);uo(Wk,"on"+Hk)}uo(o4,"onAnimationEnd");uo(l4,"onAnimationIteration");uo(c4,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(u4,"onTransitionEnd");oc("onMouseEnter",["mouseout","mouseover"]);oc("onMouseLeave",["mouseout","mouseover"]);oc("onPointerEnter",["pointerout","pointerover"]);oc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Au));function jy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,WT(r,t,void 0,e),e.currentTarget=null}function f4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var d=r.length-1;0<=d;d--){var g=r[d],v=g.instance,x=g.currentTarget;if(g=g.listener,v!==a&&i.isPropagationStopped())break e;jy(i,g,x),a=v}else for(d=0;d<r.length;d++){if(g=r[d],v=g.instance,x=g.currentTarget,g=g.listener,v!==a&&i.isPropagationStopped())break e;jy(i,g,x),a=v}}}if(E0)throw e=vm,E0=!1,vm=null,e}function un(e,t){var n=t[Tm];n===void 0&&(n=t[Tm]=new Set);var r=e+"__bubble";n.has(r)||(h4(t,e,2,!1),n.add(r))}function A1(e,t,n){var r=0;t&&(r|=4),h4(n,e,r,t)}var jf="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[jf]){e[jf]=!0,w3.forEach(function(n){n!=="selectionchange"&&(qk.has(n)||A1(n,!1,e),A1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jf]||(t[jf]=!0,A1("selectionchange",!1,t))}}function h4(e,t,n,r){switch(Q3(t)){case 1:var i=ik;break;case 4:i=sk;break;default:i=$g}n=i.bind(null,t,n,e),i=void 0,!xm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function T1(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var g=r.stateNode.containerInfo;if(g===i||g.nodeType===8&&g.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===i||v.nodeType===8&&v.parentNode===i))return;d=d.return}for(;g!==null;){if(d=Ho(g),d===null)return;if(v=d.tag,v===5||v===6){r=a=d;continue e}g=g.parentNode}}r=r.return}L3(function(){var x=a,b=qg(n),E=[];e:{var _=d4.get(e);if(_!==void 0){var k=Qg,A=e;switch(e){case"keypress":if(t0(n)===0)break e;case"keydown":case"keyup":k=wk;break;case"focusin":A="focus",k=b1;break;case"focusout":A="blur",k=b1;break;case"beforeblur":case"afterblur":k=b1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ek;break;case o4:case l4:case c4:k=dk;break;case u4:k=_k;break;case"scroll":k=ak;break;case"wheel":k=Ak;break;case"copy":case"cut":case"paste":k=hk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ny}var R=(t&4)!==0,M=!R&&e==="scroll",I=R?_!==null?_+"Capture":null:_;R=[];for(var D=x,O;D!==null;){O=D;var q=O.stateNode;if(O.tag===5&&q!==null&&(O=q,I!==null&&(q=zu(D,I),q!=null&&R.push($u(D,q,O)))),M)break;D=D.return}0<R.length&&(_=new k(_,A,null,n,b),E.push({event:_,listeners:R}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",_&&n!==mm&&(A=n.relatedTarget||n.fromElement)&&(Ho(A)||A[ha]))break e;if((k||_)&&(_=b.window===b?b:(_=b.ownerDocument)?_.defaultView||_.parentWindow:window,k?(A=n.relatedTarget||n.toElement,k=x,A=A?Ho(A):null,A!==null&&(M=pl(A),A!==M||A.tag!==5&&A.tag!==6)&&(A=null)):(k=null,A=x),k!==A)){if(R=Cy,q="onMouseLeave",I="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(R=Ny,q="onPointerLeave",I="onPointerEnter",D="pointer"),M=k==null?_:ql(k),O=A==null?_:ql(A),_=new R(q,D+"leave",k,n,b),_.target=M,_.relatedTarget=O,q=null,Ho(b)===x&&(R=new R(I,D+"enter",A,n,b),R.target=O,R.relatedTarget=M,q=R),M=q,k&&A)t:{for(R=k,I=A,D=0,O=R;O;O=Ll(O))D++;for(O=0,q=I;q;q=Ll(q))O++;for(;0<D-O;)R=Ll(R),D--;for(;0<O-D;)I=Ll(I),O--;for(;D--;){if(R===I||I!==null&&R===I.alternate)break t;R=Ll(R),I=Ll(I)}R=null}else R=null;k!==null&&My(E,_,k,R,!1),A!==null&&M!==null&&My(E,M,A,R,!0)}}e:{if(_=x?ql(x):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var Q=jk;else if(Ay(_))if(n4)Q=Fk;else{Q=Lk;var z=Mk}else(k=_.nodeName)&&k.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Q=Pk);if(Q&&(Q=Q(e,x))){t4(E,Q,n,b);break e}z&&z(e,_,x),e==="focusout"&&(z=_._wrapperState)&&z.controlled&&_.type==="number"&&um(_,"number",_.value)}switch(z=x?ql(x):window,e){case"focusin":(Ay(z)||z.contentEditable==="true")&&(Wl=z,Cm=x,ju=null);break;case"focusout":ju=Cm=Wl=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Ry(E,n,b);break;case"selectionchange":if(zk)break;case"keydown":case"keyup":Ry(E,n,b)}var j;if(Zg)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else zl?J3(e,n)&&(G="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(Z3&&n.locale!=="ko"&&(zl||G!=="onCompositionStart"?G==="onCompositionEnd"&&zl&&(j=K3()):(Va=b,Xg="value"in Va?Va.value:Va.textContent,zl=!0)),z=T0(x,G),0<z.length&&(G=new Ey(G,e,null,n,b),E.push({event:G,listeners:z}),j?G.data=j:(j=e4(n),j!==null&&(G.data=j)))),(j=kk?Dk(e,n):Ik(e,n))&&(x=T0(x,"onBeforeInput"),0<x.length&&(b=new Ey("onBeforeInput","beforeinput",null,n,b),E.push({event:b,listeners:x}),b.data=j))}f4(E,t)})}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function T0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=zu(e,n),a!=null&&r.unshift($u(e,a,i)),a=zu(e,t),a!=null&&r.push($u(e,a,i))),e=e.return}return r}function Ll(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function My(e,t,n,r,i){for(var a=t._reactName,d=[];n!==null&&n!==r;){var g=n,v=g.alternate,x=g.stateNode;if(v!==null&&v===r)break;g.tag===5&&x!==null&&(g=x,i?(v=zu(n,a),v!=null&&d.unshift($u(n,v,g))):i||(v=zu(n,a),v!=null&&d.push($u(n,v,g)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var Vk=/\r\n?/g,Yk=/\u0000|\uFFFD/g;function Ly(e){return(typeof e=="string"?e:""+e).replace(Vk,`
`).replace(Yk,"")}function Mf(e,t,n){if(t=Ly(t),Ly(e)!==t&&n)throw Error(Ae(425))}function k0(){}var Nm=null,_m=null;function Sm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Am=typeof setTimeout=="function"?setTimeout:void 0,Gk=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,$k=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(e){return Py.resolve(null).then(e).catch(Xk)}:Am;function Xk(e){setTimeout(function(){throw e})}function k1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),qu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qu(t)}function Za(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sc=Math.random().toString(36).slice(2),Ss="__reactFiber$"+Sc,Xu="__reactProps$"+Sc,ha="__reactContainer$"+Sc,Tm="__reactEvents$"+Sc,Qk="__reactListeners$"+Sc,Kk="__reactHandles$"+Sc;function Ho(e){var t=e[Ss];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[Ss]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fy(e);e!==null;){if(n=e[Ss])return n;e=Fy(e)}return t}e=n,n=e.parentNode}return null}function md(e){return e=e[Ss]||e[ha],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ql(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ae(33))}function Sh(e){return e[Xu]||null}var km=[],Vl=-1;function fo(e){return{current:e}}function fn(e){0>Vl||(e.current=km[Vl],km[Vl]=null,Vl--)}function on(e,t){Vl++,km[Vl]=e.current,e.current=t}var oo={},Or=fo(oo),ti=fo(!1),rl=oo;function lc(e,t){var n=e.type.contextTypes;if(!n)return oo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ni(e){return e=e.childContextTypes,e!=null}function D0(){fn(ti),fn(Or)}function By(e,t,n){if(Or.current!==oo)throw Error(Ae(168));on(Or,t),on(ti,n)}function p4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ae(108,MT(e)||"Unknown",i));return An({},n,r)}function I0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oo,rl=Or.current,on(Or,e),on(ti,ti.current),!0}function Uy(e,t,n){var r=e.stateNode;if(!r)throw Error(Ae(169));n?(e=p4(e,t,rl),r.__reactInternalMemoizedMergedChildContext=e,fn(ti),fn(Or),on(Or,e)):fn(ti),on(ti,n)}var na=null,Ah=!1,D1=!1;function m4(e){na===null?na=[e]:na.push(e)}function Zk(e){Ah=!0,m4(e)}function ho(){if(!D1&&na!==null){D1=!0;var e=0,t=Xt;try{var n=na;for(Xt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}na=null,Ah=!1}catch(i){throw na!==null&&(na=na.slice(e+1)),U3(Vg,ho),i}finally{Xt=t,D1=!1}}return null}var Yl=[],Gl=0,R0=null,O0=0,Bi=[],Ui=0,il=null,ra=1,ia="";function Bo(e,t){Yl[Gl++]=O0,Yl[Gl++]=R0,R0=e,O0=t}function g4(e,t,n){Bi[Ui++]=ra,Bi[Ui++]=ia,Bi[Ui++]=il,il=e;var r=ra;e=ia;var i=32-is(r)-1;r&=~(1<<i),n+=1;var a=32-is(t)+i;if(30<a){var d=i-i%5;a=(r&(1<<d)-1).toString(32),r>>=d,i-=d,ra=1<<32-is(t)+i|n<<i|r,ia=a+e}else ra=1<<a|n<<i|r,ia=e}function ex(e){e.return!==null&&(Bo(e,1),g4(e,1,0))}function tx(e){for(;e===R0;)R0=Yl[--Gl],Yl[Gl]=null,O0=Yl[--Gl],Yl[Gl]=null;for(;e===il;)il=Bi[--Ui],Bi[Ui]=null,ia=Bi[--Ui],Bi[Ui]=null,ra=Bi[--Ui],Bi[Ui]=null}var yi=null,vi=null,yn=!1,rs=null;function x4(e,t){var n=Wi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yi=e,vi=Za(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yi=e,vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=il!==null?{id:ra,overflow:ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yi=e,vi=null,!0):!1;default:return!1}}function Dm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Im(e){if(yn){var t=vi;if(t){var n=t;if(!zy(e,t)){if(Dm(e))throw Error(Ae(418));t=Za(n.nextSibling);var r=yi;t&&zy(e,t)?x4(r,n):(e.flags=e.flags&-4097|2,yn=!1,yi=e)}}else{if(Dm(e))throw Error(Ae(418));e.flags=e.flags&-4097|2,yn=!1,yi=e}}}function Wy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yi=e}function Lf(e){if(e!==yi)return!1;if(!yn)return Wy(e),yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sm(e.type,e.memoizedProps)),t&&(t=vi)){if(Dm(e))throw v4(),Error(Ae(418));for(;t;)x4(e,t),t=Za(t.nextSibling)}if(Wy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vi=Za(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vi=null}}else vi=yi?Za(e.stateNode.nextSibling):null;return!0}function v4(){for(var e=vi;e;)e=Za(e.nextSibling)}function cc(){vi=yi=null,yn=!1}function nx(e){rs===null?rs=[e]:rs.push(e)}var Jk=ya.ReactCurrentBatchConfig;function gu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ae(309));var r=n.stateNode}if(!r)throw Error(Ae(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(d){var g=i.refs;d===null?delete g[a]:g[a]=d},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ae(284));if(!n._owner)throw Error(Ae(290,e))}return e}function Pf(e,t){throw e=Object.prototype.toString.call(t),Error(Ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hy(e){var t=e._init;return t(e._payload)}function y4(e){function t(I,D){if(e){var O=I.deletions;O===null?(I.deletions=[D],I.flags|=16):O.push(D)}}function n(I,D){if(!e)return null;for(;D!==null;)t(I,D),D=D.sibling;return null}function r(I,D){for(I=new Map;D!==null;)D.key!==null?I.set(D.key,D):I.set(D.index,D),D=D.sibling;return I}function i(I,D){return I=no(I,D),I.index=0,I.sibling=null,I}function a(I,D,O){return I.index=O,e?(O=I.alternate,O!==null?(O=O.index,O<D?(I.flags|=2,D):O):(I.flags|=2,D)):(I.flags|=1048576,D)}function d(I){return e&&I.alternate===null&&(I.flags|=2),I}function g(I,D,O,q){return D===null||D.tag!==6?(D=P1(O,I.mode,q),D.return=I,D):(D=i(D,O),D.return=I,D)}function v(I,D,O,q){var Q=O.type;return Q===Ul?b(I,D,O.props.children,q,O.key):D!==null&&(D.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ba&&Hy(Q)===D.type)?(q=i(D,O.props),q.ref=gu(I,D,O),q.return=I,q):(q=l0(O.type,O.key,O.props,null,I.mode,q),q.ref=gu(I,D,O),q.return=I,q)}function x(I,D,O,q){return D===null||D.tag!==4||D.stateNode.containerInfo!==O.containerInfo||D.stateNode.implementation!==O.implementation?(D=F1(O,I.mode,q),D.return=I,D):(D=i(D,O.children||[]),D.return=I,D)}function b(I,D,O,q,Q){return D===null||D.tag!==7?(D=Zo(O,I.mode,q,Q),D.return=I,D):(D=i(D,O),D.return=I,D)}function E(I,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return D=P1(""+D,I.mode,O),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Sf:return O=l0(D.type,D.key,D.props,null,I.mode,O),O.ref=gu(I,null,D),O.return=I,O;case Bl:return D=F1(D,I.mode,O),D.return=I,D;case Ba:var q=D._init;return E(I,q(D._payload),O)}if(_u(D)||du(D))return D=Zo(D,I.mode,O,null),D.return=I,D;Pf(I,D)}return null}function _(I,D,O,q){var Q=D!==null?D.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Q!==null?null:g(I,D,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Sf:return O.key===Q?v(I,D,O,q):null;case Bl:return O.key===Q?x(I,D,O,q):null;case Ba:return Q=O._init,_(I,D,Q(O._payload),q)}if(_u(O)||du(O))return Q!==null?null:b(I,D,O,q,null);Pf(I,O)}return null}function k(I,D,O,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return I=I.get(O)||null,g(D,I,""+q,Q);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Sf:return I=I.get(q.key===null?O:q.key)||null,v(D,I,q,Q);case Bl:return I=I.get(q.key===null?O:q.key)||null,x(D,I,q,Q);case Ba:var z=q._init;return k(I,D,O,z(q._payload),Q)}if(_u(q)||du(q))return I=I.get(O)||null,b(D,I,q,Q,null);Pf(D,q)}return null}function A(I,D,O,q){for(var Q=null,z=null,j=D,G=D=0,H=null;j!==null&&G<O.length;G++){j.index>G?(H=j,j=null):H=j.sibling;var se=_(I,j,O[G],q);if(se===null){j===null&&(j=H);break}e&&j&&se.alternate===null&&t(I,j),D=a(se,D,G),z===null?Q=se:z.sibling=se,z=se,j=H}if(G===O.length)return n(I,j),yn&&Bo(I,G),Q;if(j===null){for(;G<O.length;G++)j=E(I,O[G],q),j!==null&&(D=a(j,D,G),z===null?Q=j:z.sibling=j,z=j);return yn&&Bo(I,G),Q}for(j=r(I,j);G<O.length;G++)H=k(j,I,G,O[G],q),H!==null&&(e&&H.alternate!==null&&j.delete(H.key===null?G:H.key),D=a(H,D,G),z===null?Q=H:z.sibling=H,z=H);return e&&j.forEach(function(fe){return t(I,fe)}),yn&&Bo(I,G),Q}function R(I,D,O,q){var Q=du(O);if(typeof Q!="function")throw Error(Ae(150));if(O=Q.call(O),O==null)throw Error(Ae(151));for(var z=Q=null,j=D,G=D=0,H=null,se=O.next();j!==null&&!se.done;G++,se=O.next()){j.index>G?(H=j,j=null):H=j.sibling;var fe=_(I,j,se.value,q);if(fe===null){j===null&&(j=H);break}e&&j&&fe.alternate===null&&t(I,j),D=a(fe,D,G),z===null?Q=fe:z.sibling=fe,z=fe,j=H}if(se.done)return n(I,j),yn&&Bo(I,G),Q;if(j===null){for(;!se.done;G++,se=O.next())se=E(I,se.value,q),se!==null&&(D=a(se,D,G),z===null?Q=se:z.sibling=se,z=se);return yn&&Bo(I,G),Q}for(j=r(I,j);!se.done;G++,se=O.next())se=k(j,I,G,se.value,q),se!==null&&(e&&se.alternate!==null&&j.delete(se.key===null?G:se.key),D=a(se,D,G),z===null?Q=se:z.sibling=se,z=se);return e&&j.forEach(function(ae){return t(I,ae)}),yn&&Bo(I,G),Q}function M(I,D,O,q){if(typeof O=="object"&&O!==null&&O.type===Ul&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Sf:e:{for(var Q=O.key,z=D;z!==null;){if(z.key===Q){if(Q=O.type,Q===Ul){if(z.tag===7){n(I,z.sibling),D=i(z,O.props.children),D.return=I,I=D;break e}}else if(z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ba&&Hy(Q)===z.type){n(I,z.sibling),D=i(z,O.props),D.ref=gu(I,z,O),D.return=I,I=D;break e}n(I,z);break}else t(I,z);z=z.sibling}O.type===Ul?(D=Zo(O.props.children,I.mode,q,O.key),D.return=I,I=D):(q=l0(O.type,O.key,O.props,null,I.mode,q),q.ref=gu(I,D,O),q.return=I,I=q)}return d(I);case Bl:e:{for(z=O.key;D!==null;){if(D.key===z)if(D.tag===4&&D.stateNode.containerInfo===O.containerInfo&&D.stateNode.implementation===O.implementation){n(I,D.sibling),D=i(D,O.children||[]),D.return=I,I=D;break e}else{n(I,D);break}else t(I,D);D=D.sibling}D=F1(O,I.mode,q),D.return=I,I=D}return d(I);case Ba:return z=O._init,M(I,D,z(O._payload),q)}if(_u(O))return A(I,D,O,q);if(du(O))return R(I,D,O,q);Pf(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,D!==null&&D.tag===6?(n(I,D.sibling),D=i(D,O),D.return=I,I=D):(n(I,D),D=P1(O,I.mode,q),D.return=I,I=D),d(I)):n(I,D)}return M}var uc=y4(!0),w4=y4(!1),j0=fo(null),M0=null,$l=null,rx=null;function ix(){rx=$l=M0=null}function sx(e){var t=j0.current;fn(j0),e._currentValue=t}function Rm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rc(e,t){M0=e,rx=$l=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ei=!0),e.firstContext=null)}function qi(e){var t=e._currentValue;if(rx!==e)if(e={context:e,memoizedValue:t,next:null},$l===null){if(M0===null)throw Error(Ae(308));$l=e,M0.dependencies={lanes:0,firstContext:e}}else $l=$l.next=e;return t}var qo=null;function ax(e){qo===null?qo=[e]:qo.push(e)}function b4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ax(t)):(n.next=i.next,i.next=n),t.interleaved=n,pa(e,r)}function pa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ua=!1;function ox(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ot&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pa(e,n)}return i=r.interleaved,i===null?(t.next=t,ax(r)):(t.next=i.next,i.next=t),r.interleaved=t,pa(e,n)}function n0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yg(e,n)}}function qy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=d:a=a.next=d,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function L0(e,t,n,r){var i=e.updateQueue;Ua=!1;var a=i.firstBaseUpdate,d=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var v=g,x=v.next;v.next=null,d===null?a=x:d.next=x,d=v;var b=e.alternate;b!==null&&(b=b.updateQueue,g=b.lastBaseUpdate,g!==d&&(g===null?b.firstBaseUpdate=x:g.next=x,b.lastBaseUpdate=v))}if(a!==null){var E=i.baseState;d=0,b=x=v=null,g=a;do{var _=g.lane,k=g.eventTime;if((r&_)===_){b!==null&&(b=b.next={eventTime:k,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var A=e,R=g;switch(_=t,k=n,R.tag){case 1:if(A=R.payload,typeof A=="function"){E=A.call(k,E,_);break e}E=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=R.payload,_=typeof A=="function"?A.call(k,E,_):A,_==null)break e;E=An({},E,_);break e;case 2:Ua=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[g]:_.push(g))}else k={eventTime:k,lane:_,tag:g.tag,payload:g.payload,callback:g.callback,next:null},b===null?(x=b=k,v=E):b=b.next=k,d|=_;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;_=g,g=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(1);if(b===null&&(v=E),i.baseState=v,i.firstBaseUpdate=x,i.lastBaseUpdate=b,t=i.shared.interleaved,t!==null){i=t;do d|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);al|=d,e.lanes=d,e.memoizedState=E}}function Vy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ae(191,i));i.call(r)}}}var gd={},Is=fo(gd),Qu=fo(gd),Ku=fo(gd);function Vo(e){if(e===gd)throw Error(Ae(174));return e}function lx(e,t){switch(on(Ku,t),on(Qu,e),on(Is,gd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fm(t,e)}fn(Is),on(Is,t)}function dc(){fn(Is),fn(Qu),fn(Ku)}function E4(e){Vo(Ku.current);var t=Vo(Is.current),n=fm(t,e.type);t!==n&&(on(Qu,e),on(Is,n))}function cx(e){Qu.current===e&&(fn(Is),fn(Qu))}var Nn=fo(0);function P0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var I1=[];function ux(){for(var e=0;e<I1.length;e++)I1[e]._workInProgressVersionPrimary=null;I1.length=0}var r0=ya.ReactCurrentDispatcher,R1=ya.ReactCurrentBatchConfig,sl=0,Sn=null,sr=null,dr=null,F0=!1,Mu=!1,Zu=0,eD=0;function Tr(){throw Error(Ae(321))}function dx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ls(e[n],t[n]))return!1;return!0}function fx(e,t,n,r,i,a){if(sl=a,Sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,r0.current=e===null||e.memoizedState===null?iD:sD,e=n(r,i),Mu){a=0;do{if(Mu=!1,Zu=0,25<=a)throw Error(Ae(301));a+=1,dr=sr=null,t.updateQueue=null,r0.current=aD,e=n(r,i)}while(Mu)}if(r0.current=B0,t=sr!==null&&sr.next!==null,sl=0,dr=sr=Sn=null,F0=!1,t)throw Error(Ae(300));return e}function hx(){var e=Zu!==0;return Zu=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Sn.memoizedState=dr=e:dr=dr.next=e,dr}function Vi(){if(sr===null){var e=Sn.alternate;e=e!==null?e.memoizedState:null}else e=sr.next;var t=dr===null?Sn.memoizedState:dr.next;if(t!==null)dr=t,sr=e;else{if(e===null)throw Error(Ae(310));sr=e,e={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},dr===null?Sn.memoizedState=dr=e:dr=dr.next=e}return dr}function Ju(e,t){return typeof t=="function"?t(e):t}function O1(e){var t=Vi(),n=t.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=e;var r=sr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var d=i.next;i.next=a.next,a.next=d}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var g=d=null,v=null,x=a;do{var b=x.lane;if((sl&b)===b)v!==null&&(v=v.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var E={lane:b,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};v===null?(g=v=E,d=r):v=v.next=E,Sn.lanes|=b,al|=b}x=x.next}while(x!==null&&x!==a);v===null?d=r:v.next=g,ls(r,t.memoizedState)||(ei=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=v,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Sn.lanes|=a,al|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function j1(e){var t=Vi(),n=t.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do a=e(a,d.action),d=d.next;while(d!==i);ls(a,t.memoizedState)||(ei=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function N4(){}function _4(e,t){var n=Sn,r=Vi(),i=t(),a=!ls(r.memoizedState,i);if(a&&(r.memoizedState=i,ei=!0),r=r.queue,px(T4.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,ed(9,A4.bind(null,n,r,i,t),void 0,null),fr===null)throw Error(Ae(349));sl&30||S4(n,t,i)}return i}function S4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Sn.updateQueue,t===null?(t={lastEffect:null,stores:null},Sn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function A4(e,t,n,r){t.value=n,t.getSnapshot=r,k4(t)&&D4(e)}function T4(e,t,n){return n(function(){k4(t)&&D4(e)})}function k4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ls(e,n)}catch{return!0}}function D4(e){var t=pa(e,1);t!==null&&ss(t,e,1,-1)}function Yy(e){var t=Cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:e},t.queue=e,e=e.dispatch=rD.bind(null,Sn,e),[t.memoizedState,e]}function ed(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Sn.updateQueue,t===null?(t={lastEffect:null,stores:null},Sn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function I4(){return Vi().memoizedState}function i0(e,t,n,r){var i=Cs();Sn.flags|=e,i.memoizedState=ed(1|t,n,void 0,r===void 0?null:r)}function Th(e,t,n,r){var i=Vi();r=r===void 0?null:r;var a=void 0;if(sr!==null){var d=sr.memoizedState;if(a=d.destroy,r!==null&&dx(r,d.deps)){i.memoizedState=ed(t,n,a,r);return}}Sn.flags|=e,i.memoizedState=ed(1|t,n,a,r)}function Gy(e,t){return i0(8390656,8,e,t)}function px(e,t){return Th(2048,8,e,t)}function R4(e,t){return Th(4,2,e,t)}function O4(e,t){return Th(4,4,e,t)}function j4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M4(e,t,n){return n=n!=null?n.concat([e]):null,Th(4,4,j4.bind(null,t,e),n)}function mx(){}function L4(e,t){var n=Vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function P4(e,t){var n=Vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function F4(e,t,n){return sl&21?(ls(n,t)||(n=H3(),Sn.lanes|=n,al|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ei=!0),e.memoizedState=n)}function tD(e,t){var n=Xt;Xt=n!==0&&4>n?n:4,e(!0);var r=R1.transition;R1.transition={};try{e(!1),t()}finally{Xt=n,R1.transition=r}}function B4(){return Vi().memoizedState}function nD(e,t,n){var r=to(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U4(e))z4(t,n);else if(n=b4(e,t,n,r),n!==null){var i=qr();ss(n,e,r,i),W4(n,t,r)}}function rD(e,t,n){var r=to(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U4(e))z4(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var d=t.lastRenderedState,g=a(d,n);if(i.hasEagerState=!0,i.eagerState=g,ls(g,d)){var v=t.interleaved;v===null?(i.next=i,ax(t)):(i.next=v.next,v.next=i),t.interleaved=i;return}}catch{}finally{}n=b4(e,t,i,r),n!==null&&(i=qr(),ss(n,e,r,i),W4(n,t,r))}}function U4(e){var t=e.alternate;return e===Sn||t!==null&&t===Sn}function z4(e,t){Mu=F0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function W4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yg(e,n)}}var B0={readContext:qi,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},iD={readContext:qi,useCallback:function(e,t){return Cs().memoizedState=[e,t===void 0?null:t],e},useContext:qi,useEffect:Gy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,i0(4194308,4,j4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return i0(4194308,4,e,t)},useInsertionEffect:function(e,t){return i0(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nD.bind(null,Sn,e),[r.memoizedState,e]},useRef:function(e){var t=Cs();return e={current:e},t.memoizedState=e},useState:Yy,useDebugValue:mx,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Yy(!1),t=e[0];return e=tD.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sn,i=Cs();if(yn){if(n===void 0)throw Error(Ae(407));n=n()}else{if(n=t(),fr===null)throw Error(Ae(349));sl&30||S4(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Gy(T4.bind(null,r,a,e),[e]),r.flags|=2048,ed(9,A4.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Cs(),t=fr.identifierPrefix;if(yn){var n=ia,r=ra;n=(r&~(1<<32-is(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=eD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sD={readContext:qi,useCallback:L4,useContext:qi,useEffect:px,useImperativeHandle:M4,useInsertionEffect:R4,useLayoutEffect:O4,useMemo:P4,useReducer:O1,useRef:I4,useState:function(){return O1(Ju)},useDebugValue:mx,useDeferredValue:function(e){var t=Vi();return F4(t,sr.memoizedState,e)},useTransition:function(){var e=O1(Ju)[0],t=Vi().memoizedState;return[e,t]},useMutableSource:N4,useSyncExternalStore:_4,useId:B4,unstable_isNewReconciler:!1},aD={readContext:qi,useCallback:L4,useContext:qi,useEffect:px,useImperativeHandle:M4,useInsertionEffect:R4,useLayoutEffect:O4,useMemo:P4,useReducer:j1,useRef:I4,useState:function(){return j1(Ju)},useDebugValue:mx,useDeferredValue:function(e){var t=Vi();return sr===null?t.memoizedState=e:F4(t,sr.memoizedState,e)},useTransition:function(){var e=j1(Ju)[0],t=Vi().memoizedState;return[e,t]},useMutableSource:N4,useSyncExternalStore:_4,useId:B4,unstable_isNewReconciler:!1};function ts(e,t){if(e&&e.defaultProps){t=An({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Om(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:An({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kh={isMounted:function(e){return(e=e._reactInternals)?pl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qr(),i=to(e),a=aa(r,i);a.payload=t,n!=null&&(a.callback=n),t=Ja(e,a,i),t!==null&&(ss(t,e,i,r),n0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qr(),i=to(e),a=aa(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ja(e,a,i),t!==null&&(ss(t,e,i,r),n0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qr(),r=to(e),i=aa(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ja(e,i,r),t!==null&&(ss(t,e,r,n),n0(t,e,r))}};function $y(e,t,n,r,i,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,d):t.prototype&&t.prototype.isPureReactComponent?!Yu(n,r)||!Yu(i,a):!0}function H4(e,t,n){var r=!1,i=oo,a=t.contextType;return typeof a=="object"&&a!==null?a=qi(a):(i=ni(t)?rl:Or.current,r=t.contextTypes,a=(r=r!=null)?lc(e,i):oo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Xy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kh.enqueueReplaceState(t,t.state,null)}function jm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ox(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=qi(a):(a=ni(t)?rl:Or.current,i.context=lc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Om(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&kh.enqueueReplaceState(i,i.state,null),L0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fc(e,t){try{var n="",r=t;do n+=jT(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function M1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oD=typeof WeakMap=="function"?WeakMap:Map;function q4(e,t,n){n=aa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){z0||(z0=!0,Vm=r),Mm(e,t)},n}function V4(e,t,n){n=aa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Mm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Mm(e,t),typeof r!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Qy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=bD.bind(null,e,t,n),t.then(e,e))}function Ky(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=aa(-1,1),t.tag=2,Ja(n,t,1))),n.lanes|=1),e)}var lD=ya.ReactCurrentOwner,ei=!1;function Br(e,t,n,r){t.child=e===null?w4(t,null,n,r):uc(t,e.child,n,r)}function Jy(e,t,n,r,i){n=n.render;var a=t.ref;return rc(t,i),r=fx(e,t,n,r,a,i),n=hx(),e!==null&&!ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ma(e,t,i)):(yn&&n&&ex(t),t.flags|=1,Br(e,t,r,i),t.child)}function ew(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Ex(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Y4(e,t,a,r,i)):(e=l0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var d=a.memoizedProps;if(n=n.compare,n=n!==null?n:Yu,n(d,r)&&e.ref===t.ref)return ma(e,t,i)}return t.flags|=1,e=no(a,r),e.ref=t.ref,e.return=t,t.child=e}function Y4(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Yu(a,r)&&e.ref===t.ref)if(ei=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ei=!0);else return t.lanes=e.lanes,ma(e,t,i)}return Lm(e,t,n,r,i)}function G4(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(Ql,xi),xi|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,on(Ql,xi),xi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,on(Ql,xi),xi|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,on(Ql,xi),xi|=r;return Br(e,t,i,n),t.child}function $4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lm(e,t,n,r,i){var a=ni(n)?rl:Or.current;return a=lc(t,a),rc(t,i),n=fx(e,t,n,r,a,i),r=hx(),e!==null&&!ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ma(e,t,i)):(yn&&r&&ex(t),t.flags|=1,Br(e,t,n,i),t.child)}function tw(e,t,n,r,i){if(ni(n)){var a=!0;I0(t)}else a=!1;if(rc(t,i),t.stateNode===null)s0(e,t),H4(t,n,r),jm(t,n,r,i),r=!0;else if(e===null){var d=t.stateNode,g=t.memoizedProps;d.props=g;var v=d.context,x=n.contextType;typeof x=="object"&&x!==null?x=qi(x):(x=ni(n)?rl:Or.current,x=lc(t,x));var b=n.getDerivedStateFromProps,E=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==r||v!==x)&&Xy(t,d,r,x),Ua=!1;var _=t.memoizedState;d.state=_,L0(t,r,d,i),v=t.memoizedState,g!==r||_!==v||ti.current||Ua?(typeof b=="function"&&(Om(t,n,b,r),v=t.memoizedState),(g=Ua||$y(t,n,g,r,_,v,x))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=v),d.props=r,d.state=v,d.context=x,r=g):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,C4(e,t),g=t.memoizedProps,x=t.type===t.elementType?g:ts(t.type,g),d.props=x,E=t.pendingProps,_=d.context,v=n.contextType,typeof v=="object"&&v!==null?v=qi(v):(v=ni(n)?rl:Or.current,v=lc(t,v));var k=n.getDerivedStateFromProps;(b=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==E||_!==v)&&Xy(t,d,r,v),Ua=!1,_=t.memoizedState,d.state=_,L0(t,r,d,i);var A=t.memoizedState;g!==E||_!==A||ti.current||Ua?(typeof k=="function"&&(Om(t,n,k,r),A=t.memoizedState),(x=Ua||$y(t,n,x,r,_,A,v)||!1)?(b||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,A,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,A,v)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),d.props=r,d.state=A,d.context=v,r=x):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return Pm(e,t,n,r,a,i)}function Pm(e,t,n,r,i,a){$4(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return i&&Uy(t,n,!1),ma(e,t,a);r=t.stateNode,lD.current=t;var g=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=uc(t,e.child,null,a),t.child=uc(t,null,g,a)):Br(e,t,g,a),t.memoizedState=r.state,i&&Uy(t,n,!0),t.child}function X4(e){var t=e.stateNode;t.pendingContext?By(e,t.pendingContext,t.pendingContext!==t.context):t.context&&By(e,t.context,!1),lx(e,t.containerInfo)}function nw(e,t,n,r,i){return cc(),nx(i),t.flags|=256,Br(e,t,n,r),t.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Bm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q4(e,t,n){var r=t.pendingProps,i=Nn.current,a=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(i&2)!==0),g?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),on(Nn,i&1),e===null)return Im(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,a?(r=t.mode,a=t.child,d={mode:"hidden",children:d},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=Rh(d,r,0,null),e=Zo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Bm(n),t.memoizedState=Fm,e):gx(t,d));if(i=e.memoizedState,i!==null&&(g=i.dehydrated,g!==null))return cD(e,t,d,r,g,i,n);if(a){a=r.fallback,d=t.mode,i=e.child,g=i.sibling;var v={mode:"hidden",children:r.children};return!(d&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=v,t.deletions=null):(r=no(i,v),r.subtreeFlags=i.subtreeFlags&14680064),g!==null?a=no(g,a):(a=Zo(a,d,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,d=e.child.memoizedState,d=d===null?Bm(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~n,t.memoizedState=Fm,r}return a=e.child,e=a.sibling,r=no(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gx(e,t){return t=Rh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ff(e,t,n,r){return r!==null&&nx(r),uc(t,e.child,null,n),e=gx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cD(e,t,n,r,i,a,d){if(n)return t.flags&256?(t.flags&=-257,r=M1(Error(Ae(422))),Ff(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rh({mode:"visible",children:r.children},i,0,null),a=Zo(a,i,d,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&uc(t,e.child,null,d),t.child.memoizedState=Bm(d),t.memoizedState=Fm,a);if(!(t.mode&1))return Ff(e,t,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var g=r.dgst;return r=g,a=Error(Ae(419)),r=M1(a,r,void 0),Ff(e,t,d,r)}if(g=(d&e.childLanes)!==0,ei||g){if(r=fr,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|d)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,pa(e,i),ss(r,e,i,-1))}return Cx(),r=M1(Error(Ae(421))),Ff(e,t,d,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=CD.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,vi=Za(i.nextSibling),yi=t,yn=!0,rs=null,e!==null&&(Bi[Ui++]=ra,Bi[Ui++]=ia,Bi[Ui++]=il,ra=e.id,ia=e.overflow,il=t),t=gx(t,r.children),t.flags|=4096,t)}function rw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Rm(e.return,t,n)}function L1(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function K4(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Br(e,t,r.children,n),r=Nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rw(e,n,t);else if(e.tag===19)rw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(on(Nn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&P0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),L1(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&P0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}L1(t,!0,n,null,a);break;case"together":L1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function s0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ma(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),al|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ae(153));if(t.child!==null){for(e=t.child,n=no(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=no(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uD(e,t,n){switch(t.tag){case 3:X4(t),cc();break;case 5:E4(t);break;case 1:ni(t.type)&&I0(t);break;case 4:lx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;on(j0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(on(Nn,Nn.current&1),t.flags|=128,null):n&t.child.childLanes?Q4(e,t,n):(on(Nn,Nn.current&1),e=ma(e,t,n),e!==null?e.sibling:null);on(Nn,Nn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return K4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),on(Nn,Nn.current),r)break;return null;case 22:case 23:return t.lanes=0,G4(e,t,n)}return ma(e,t,n)}var Z4,Um,J4,eC;Z4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Um=function(){};J4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vo(Is.current);var a=null;switch(n){case"input":i=lm(e,i),r=lm(e,r),a=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),a=[];break;case"textarea":i=dm(e,i),r=dm(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=k0)}hm(n,r);var d;n=null;for(x in i)if(!r.hasOwnProperty(x)&&i.hasOwnProperty(x)&&i[x]!=null)if(x==="style"){var g=i[x];for(d in g)g.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Bu.hasOwnProperty(x)?a||(a=[]):(a=a||[]).push(x,null));for(x in r){var v=r[x];if(g=i!=null?i[x]:void 0,r.hasOwnProperty(x)&&v!==g&&(v!=null||g!=null))if(x==="style")if(g){for(d in g)!g.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in v)v.hasOwnProperty(d)&&g[d]!==v[d]&&(n||(n={}),n[d]=v[d])}else n||(a||(a=[]),a.push(x,n)),n=v;else x==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,g=g?g.__html:void 0,v!=null&&g!==v&&(a=a||[]).push(x,v)):x==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(x,""+v):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(x)?(v!=null&&x==="onScroll"&&un("scroll",e),a||g===v||(a=[])):(a=a||[]).push(x,v))}n&&(a=a||[]).push("style",n);var x=a;(t.updateQueue=x)&&(t.flags|=4)}};eC=function(e,t,n,r){n!==r&&(t.flags|=4)};function xu(e,t){if(!yn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dD(e,t,n){var r=t.pendingProps;switch(tx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(t),null;case 1:return ni(t.type)&&D0(),kr(t),null;case 3:return r=t.stateNode,dc(),fn(ti),fn(Or),ux(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Lf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rs!==null&&($m(rs),rs=null))),Um(e,t),kr(t),null;case 5:cx(t);var i=Vo(Ku.current);if(n=t.type,e!==null&&t.stateNode!=null)J4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ae(166));return kr(t),null}if(e=Vo(Is.current),Lf(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ss]=t,r[Xu]=a,e=(t.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<Au.length;i++)un(Au[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":fy(r,a),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},un("invalid",r);break;case"textarea":py(r,a),un("invalid",r)}hm(n,a),i=null;for(var d in a)if(a.hasOwnProperty(d)){var g=a[d];d==="children"?typeof g=="string"?r.textContent!==g&&(a.suppressHydrationWarning!==!0&&Mf(r.textContent,g,e),i=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(a.suppressHydrationWarning!==!0&&Mf(r.textContent,g,e),i=["children",""+g]):Bu.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&un("scroll",r)}switch(n){case"input":Af(r),hy(r,a,!0);break;case"textarea":Af(r),my(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=k0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=T3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[Ss]=t,e[Xu]=r,Z4(e,t,!1,!1),t.stateNode=e;e:{switch(d=pm(n,r),n){case"dialog":un("cancel",e),un("close",e),i=r;break;case"iframe":case"object":case"embed":un("load",e),i=r;break;case"video":case"audio":for(i=0;i<Au.length;i++)un(Au[i],e);i=r;break;case"source":un("error",e),i=r;break;case"img":case"image":case"link":un("error",e),un("load",e),i=r;break;case"details":un("toggle",e),i=r;break;case"input":fy(e,r),i=lm(e,r),un("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),un("invalid",e);break;case"textarea":py(e,r),i=dm(e,r),un("invalid",e);break;default:i=r}hm(n,i),g=i;for(a in g)if(g.hasOwnProperty(a)){var v=g[a];a==="style"?I3(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&k3(e,v)):a==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&Uu(e,v):typeof v=="number"&&Uu(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bu.hasOwnProperty(a)?v!=null&&a==="onScroll"&&un("scroll",e):v!=null&&Ug(e,a,v,d))}switch(n){case"input":Af(e),hy(e,r,!1);break;case"textarea":Af(e),my(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ao(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Jl(e,!!r.multiple,a,!1):r.defaultValue!=null&&Jl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=k0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kr(t),null;case 6:if(e&&t.stateNode!=null)eC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ae(166));if(n=Vo(Ku.current),Vo(Is.current),Lf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ss]=t,(a=r.nodeValue!==n)&&(e=yi,e!==null))switch(e.tag){case 3:Mf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mf(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ss]=t,t.stateNode=r}return kr(t),null;case 13:if(fn(Nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yn&&vi!==null&&t.mode&1&&!(t.flags&128))v4(),cc(),t.flags|=98560,a=!1;else if(a=Lf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ae(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ae(317));a[Ss]=t}else cc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kr(t),a=!1}else rs!==null&&($m(rs),rs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?ar===0&&(ar=3):Cx())),t.updateQueue!==null&&(t.flags|=4),kr(t),null);case 4:return dc(),Um(e,t),e===null&&Gu(t.stateNode.containerInfo),kr(t),null;case 10:return sx(t.type._context),kr(t),null;case 17:return ni(t.type)&&D0(),kr(t),null;case 19:if(fn(Nn),a=t.memoizedState,a===null)return kr(t),null;if(r=(t.flags&128)!==0,d=a.rendering,d===null)if(r)xu(a,!1);else{if(ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=P0(e),d!==null){for(t.flags|=128,xu(a,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return on(Nn,Nn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Wn()>hc&&(t.flags|=128,r=!0,xu(a,!1),t.lanes=4194304)}else{if(!r)if(e=P0(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!yn)return kr(t),null}else 2*Wn()-a.renderingStartTime>hc&&n!==1073741824&&(t.flags|=128,r=!0,xu(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(n=a.last,n!==null?n.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Wn(),t.sibling=null,n=Nn.current,on(Nn,r?n&1|2:n&1),t):(kr(t),null);case 22:case 23:return bx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xi&1073741824&&(kr(t),t.subtreeFlags&6&&(t.flags|=8192)):kr(t),null;case 24:return null;case 25:return null}throw Error(Ae(156,t.tag))}function fD(e,t){switch(tx(t),t.tag){case 1:return ni(t.type)&&D0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dc(),fn(ti),fn(Or),ux(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cx(t),null;case 13:if(fn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ae(340));cc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fn(Nn),null;case 4:return dc(),null;case 10:return sx(t.type._context),null;case 22:case 23:return bx(),null;case 24:return null;default:return null}}var Bf=!1,Dr=!1,hD=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Xl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){On(e,t,r)}else n.current=null}function zm(e,t,n){try{n()}catch(r){On(e,t,r)}}var iw=!1;function pD(e,t){if(Nm=S0,e=s4(),Jg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var d=0,g=-1,v=-1,x=0,b=0,E=e,_=null;t:for(;;){for(var k;E!==n||i!==0&&E.nodeType!==3||(g=d+i),E!==a||r!==0&&E.nodeType!==3||(v=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(k=E.firstChild)!==null;)_=E,E=k;for(;;){if(E===e)break t;if(_===n&&++x===i&&(g=d),_===a&&++b===r&&(v=d),(k=E.nextSibling)!==null)break;E=_,_=E.parentNode}E=k}n=g===-1||v===-1?null:{start:g,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(_m={focusedElem:e,selectionRange:n},S0=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){t=Be;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var R=A.memoizedProps,M=A.memoizedState,I=t.stateNode,D=I.getSnapshotBeforeUpdate(t.elementType===t.type?R:ts(t.type,R),M);I.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(q){On(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}return A=iw,iw=!1,A}function Lu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&zm(t,n,a)}i=i.next}while(i!==r)}}function Dh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tC(e){var t=e.alternate;t!==null&&(e.alternate=null,tC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ss],delete t[Xu],delete t[Tm],delete t[Qk],delete t[Kk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nC(e){return e.tag===5||e.tag===3||e.tag===4}function sw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=k0));else if(r!==4&&(e=e.child,e!==null))for(Hm(e,t,n),e=e.sibling;e!==null;)Hm(e,t,n),e=e.sibling}function qm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qm(e,t,n),e=e.sibling;e!==null;)qm(e,t,n),e=e.sibling}var vr=null,ns=!1;function Ma(e,t,n){for(n=n.child;n!==null;)rC(e,t,n),n=n.sibling}function rC(e,t,n){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Ch,n)}catch{}switch(n.tag){case 5:Dr||Xl(n,t);case 6:var r=vr,i=ns;vr=null,Ma(e,t,n),vr=r,ns=i,vr!==null&&(ns?(e=vr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vr.removeChild(n.stateNode));break;case 18:vr!==null&&(ns?(e=vr,n=n.stateNode,e.nodeType===8?k1(e.parentNode,n):e.nodeType===1&&k1(e,n),qu(e)):k1(vr,n.stateNode));break;case 4:r=vr,i=ns,vr=n.stateNode.containerInfo,ns=!0,Ma(e,t,n),vr=r,ns=i;break;case 0:case 11:case 14:case 15:if(!Dr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&zm(n,t,d),i=i.next}while(i!==r)}Ma(e,t,n);break;case 1:if(!Dr&&(Xl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){On(n,t,g)}Ma(e,t,n);break;case 21:Ma(e,t,n);break;case 22:n.mode&1?(Dr=(r=Dr)||n.memoizedState!==null,Ma(e,t,n),Dr=r):Ma(e,t,n);break;default:Ma(e,t,n)}}function aw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hD),t.forEach(function(r){var i=ED.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function es(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 5:vr=g.stateNode,ns=!1;break e;case 3:vr=g.stateNode.containerInfo,ns=!0;break e;case 4:vr=g.stateNode.containerInfo,ns=!0;break e}g=g.return}if(vr===null)throw Error(Ae(160));rC(a,d,i),vr=null,ns=!1;var v=i.alternate;v!==null&&(v.return=null),i.return=null}catch(x){On(i,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iC(t,e),t=t.sibling}function iC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(es(t,e),vs(e),r&4){try{Lu(3,e,e.return),Dh(3,e)}catch(R){On(e,e.return,R)}try{Lu(5,e,e.return)}catch(R){On(e,e.return,R)}}break;case 1:es(t,e),vs(e),r&512&&n!==null&&Xl(n,n.return);break;case 5:if(es(t,e),vs(e),r&512&&n!==null&&Xl(n,n.return),e.flags&32){var i=e.stateNode;try{Uu(i,"")}catch(R){On(e,e.return,R)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,d=n!==null?n.memoizedProps:a,g=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{g==="input"&&a.type==="radio"&&a.name!=null&&S3(i,a),pm(g,d);var x=pm(g,a);for(d=0;d<v.length;d+=2){var b=v[d],E=v[d+1];b==="style"?I3(i,E):b==="dangerouslySetInnerHTML"?k3(i,E):b==="children"?Uu(i,E):Ug(i,b,E,x)}switch(g){case"input":cm(i,a);break;case"textarea":A3(i,a);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?Jl(i,!!a.multiple,k,!1):_!==!!a.multiple&&(a.defaultValue!=null?Jl(i,!!a.multiple,a.defaultValue,!0):Jl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Xu]=a}catch(R){On(e,e.return,R)}}break;case 6:if(es(t,e),vs(e),r&4){if(e.stateNode===null)throw Error(Ae(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(R){On(e,e.return,R)}}break;case 3:if(es(t,e),vs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qu(t.containerInfo)}catch(R){On(e,e.return,R)}break;case 4:es(t,e),vs(e);break;case 13:es(t,e),vs(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(yx=Wn())),r&4&&aw(e);break;case 22:if(b=n!==null&&n.memoizedState!==null,e.mode&1?(Dr=(x=Dr)||b,es(t,e),Dr=x):es(t,e),vs(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!b&&e.mode&1)for(Be=e,b=e.child;b!==null;){for(E=Be=b;Be!==null;){switch(_=Be,k=_.child,_.tag){case 0:case 11:case 14:case 15:Lu(4,_,_.return);break;case 1:Xl(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(R){On(r,n,R)}}break;case 5:Xl(_,_.return);break;case 22:if(_.memoizedState!==null){lw(E);continue}}k!==null?(k.return=_,Be=k):lw(E)}b=b.sibling}e:for(b=null,E=e;;){if(E.tag===5){if(b===null){b=E;try{i=E.stateNode,x?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(g=E.stateNode,v=E.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,g.style.display=D3("display",d))}catch(R){On(e,e.return,R)}}}else if(E.tag===6){if(b===null)try{E.stateNode.nodeValue=x?"":E.memoizedProps}catch(R){On(e,e.return,R)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;b===E&&(b=null),E=E.return}b===E&&(b=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:es(t,e),vs(e),r&4&&aw(e);break;case 21:break;default:es(t,e),vs(e)}}function vs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nC(n)){var r=n;break e}n=n.return}throw Error(Ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uu(i,""),r.flags&=-33);var a=sw(e);qm(e,a,i);break;case 3:case 4:var d=r.stateNode.containerInfo,g=sw(e);Hm(e,g,d);break;default:throw Error(Ae(161))}}catch(v){On(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mD(e,t,n){Be=e,sC(e)}function sC(e,t,n){for(var r=(e.mode&1)!==0;Be!==null;){var i=Be,a=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||Bf;if(!d){var g=i.alternate,v=g!==null&&g.memoizedState!==null||Dr;g=Bf;var x=Dr;if(Bf=d,(Dr=v)&&!x)for(Be=i;Be!==null;)d=Be,v=d.child,d.tag===22&&d.memoizedState!==null?cw(i):v!==null?(v.return=d,Be=v):cw(i);for(;a!==null;)Be=a,sC(a),a=a.sibling;Be=i,Bf=g,Dr=x}ow(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Be=a):ow(e)}}function ow(e){for(;Be!==null;){var t=Be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dr||Dh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ts(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Vy(t,a,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vy(t,d,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var b=x.memoizedState;if(b!==null){var E=b.dehydrated;E!==null&&qu(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}Dr||t.flags&512&&Wm(t)}catch(_){On(t,t.return,_)}}if(t===e){Be=null;break}if(n=t.sibling,n!==null){n.return=t.return,Be=n;break}Be=t.return}}function lw(e){for(;Be!==null;){var t=Be;if(t===e){Be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Be=n;break}Be=t.return}}function cw(e){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dh(4,t)}catch(v){On(t,n,v)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(v){On(t,i,v)}}var a=t.return;try{Wm(t)}catch(v){On(t,a,v)}break;case 5:var d=t.return;try{Wm(t)}catch(v){On(t,d,v)}}}catch(v){On(t,t.return,v)}if(t===e){Be=null;break}var g=t.sibling;if(g!==null){g.return=t.return,Be=g;break}Be=t.return}}var gD=Math.ceil,U0=ya.ReactCurrentDispatcher,xx=ya.ReactCurrentOwner,Hi=ya.ReactCurrentBatchConfig,Ot=0,fr=null,Qn=null,yr=0,xi=0,Ql=fo(0),ar=0,td=null,al=0,Ih=0,vx=0,Pu=null,Jr=null,yx=0,hc=1/0,ta=null,z0=!1,Vm=null,eo=null,Uf=!1,Ya=null,W0=0,Fu=0,Ym=null,a0=-1,o0=0;function qr(){return Ot&6?Wn():a0!==-1?a0:a0=Wn()}function to(e){return e.mode&1?Ot&2&&yr!==0?yr&-yr:Jk.transition!==null?(o0===0&&(o0=H3()),o0):(e=Xt,e!==0||(e=window.event,e=e===void 0?16:Q3(e.type)),e):1}function ss(e,t,n,r){if(50<Fu)throw Fu=0,Ym=null,Error(Ae(185));hd(e,n,r),(!(Ot&2)||e!==fr)&&(e===fr&&(!(Ot&2)&&(Ih|=n),ar===4&&Ha(e,yr)),ri(e,r),n===1&&Ot===0&&!(t.mode&1)&&(hc=Wn()+500,Ah&&ho()))}function ri(e,t){var n=e.callbackNode;JT(e,t);var r=_0(e,e===fr?yr:0);if(r===0)n!==null&&vy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vy(n),t===1)e.tag===0?Zk(uw.bind(null,e)):m4(uw.bind(null,e)),$k(function(){!(Ot&6)&&ho()}),n=null;else{switch(q3(r)){case 1:n=Vg;break;case 4:n=z3;break;case 16:n=N0;break;case 536870912:n=W3;break;default:n=N0}n=hC(n,aC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function aC(e,t){if(a0=-1,o0=0,Ot&6)throw Error(Ae(327));var n=e.callbackNode;if(ic()&&e.callbackNode!==n)return null;var r=_0(e,e===fr?yr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=H0(e,r);else{t=r;var i=Ot;Ot|=2;var a=lC();(fr!==e||yr!==t)&&(ta=null,hc=Wn()+500,Ko(e,t));do try{yD();break}catch(g){oC(e,g)}while(1);ix(),U0.current=a,Ot=i,Qn!==null?t=0:(fr=null,yr=0,t=ar)}if(t!==0){if(t===2&&(i=ym(e),i!==0&&(r=i,t=Gm(e,i))),t===1)throw n=td,Ko(e,0),Ha(e,r),ri(e,Wn()),n;if(t===6)Ha(e,r);else{if(i=e.current.alternate,!(r&30)&&!xD(i)&&(t=H0(e,r),t===2&&(a=ym(e),a!==0&&(r=a,t=Gm(e,a))),t===1))throw n=td,Ko(e,0),Ha(e,r),ri(e,Wn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ae(345));case 2:Uo(e,Jr,ta);break;case 3:if(Ha(e,r),(r&130023424)===r&&(t=yx+500-Wn(),10<t)){if(_0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Am(Uo.bind(null,e,Jr,ta),t);break}Uo(e,Jr,ta);break;case 4:if(Ha(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var d=31-is(r);a=1<<d,d=t[d],d>i&&(i=d),r&=~a}if(r=i,r=Wn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gD(r/1960))-r,10<r){e.timeoutHandle=Am(Uo.bind(null,e,Jr,ta),r);break}Uo(e,Jr,ta);break;case 5:Uo(e,Jr,ta);break;default:throw Error(Ae(329))}}}return ri(e,Wn()),e.callbackNode===n?aC.bind(null,e):null}function Gm(e,t){var n=Pu;return e.current.memoizedState.isDehydrated&&(Ko(e,t).flags|=256),e=H0(e,t),e!==2&&(t=Jr,Jr=n,t!==null&&$m(t)),e}function $m(e){Jr===null?Jr=e:Jr.push.apply(Jr,e)}function xD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ls(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ha(e,t){for(t&=~vx,t&=~Ih,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-is(t),r=1<<n;e[n]=-1,t&=~r}}function uw(e){if(Ot&6)throw Error(Ae(327));ic();var t=_0(e,0);if(!(t&1))return ri(e,Wn()),null;var n=H0(e,t);if(e.tag!==0&&n===2){var r=ym(e);r!==0&&(t=r,n=Gm(e,r))}if(n===1)throw n=td,Ko(e,0),Ha(e,t),ri(e,Wn()),n;if(n===6)throw Error(Ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Uo(e,Jr,ta),ri(e,Wn()),null}function wx(e,t){var n=Ot;Ot|=1;try{return e(t)}finally{Ot=n,Ot===0&&(hc=Wn()+500,Ah&&ho())}}function ol(e){Ya!==null&&Ya.tag===0&&!(Ot&6)&&ic();var t=Ot;Ot|=1;var n=Hi.transition,r=Xt;try{if(Hi.transition=null,Xt=1,e)return e()}finally{Xt=r,Hi.transition=n,Ot=t,!(Ot&6)&&ho()}}function bx(){xi=Ql.current,fn(Ql)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Gk(n)),Qn!==null)for(n=Qn.return;n!==null;){var r=n;switch(tx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&D0();break;case 3:dc(),fn(ti),fn(Or),ux();break;case 5:cx(r);break;case 4:dc();break;case 13:fn(Nn);break;case 19:fn(Nn);break;case 10:sx(r.type._context);break;case 22:case 23:bx()}n=n.return}if(fr=e,Qn=e=no(e.current,null),yr=xi=t,ar=0,td=null,vx=Ih=al=0,Jr=Pu=null,qo!==null){for(t=0;t<qo.length;t++)if(n=qo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var d=a.next;a.next=i,r.next=d}n.pending=r}qo=null}return e}function oC(e,t){do{var n=Qn;try{if(ix(),r0.current=B0,F0){for(var r=Sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}F0=!1}if(sl=0,dr=sr=Sn=null,Mu=!1,Zu=0,xx.current=null,n===null||n.return===null){ar=1,td=t,Qn=null;break}e:{var a=e,d=n.return,g=n,v=t;if(t=yr,g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var x=v,b=g,E=b.tag;if(!(b.mode&1)&&(E===0||E===11||E===15)){var _=b.alternate;_?(b.updateQueue=_.updateQueue,b.memoizedState=_.memoizedState,b.lanes=_.lanes):(b.updateQueue=null,b.memoizedState=null)}var k=Ky(d);if(k!==null){k.flags&=-257,Zy(k,d,g,a,t),k.mode&1&&Qy(a,x,t),t=k,v=x;var A=t.updateQueue;if(A===null){var R=new Set;R.add(v),t.updateQueue=R}else A.add(v);break e}else{if(!(t&1)){Qy(a,x,t),Cx();break e}v=Error(Ae(426))}}else if(yn&&g.mode&1){var M=Ky(d);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Zy(M,d,g,a,t),nx(fc(v,g));break e}}a=v=fc(v,g),ar!==4&&(ar=2),Pu===null?Pu=[a]:Pu.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=q4(a,v,t);qy(a,I);break e;case 1:g=v;var D=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof D.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(eo===null||!eo.has(O)))){a.flags|=65536,t&=-t,a.lanes|=t;var q=V4(a,g,t);qy(a,q);break e}}a=a.return}while(a!==null)}uC(n)}catch(Q){t=Q,Qn===n&&n!==null&&(Qn=n=n.return);continue}break}while(1)}function lC(){var e=U0.current;return U0.current=B0,e===null?B0:e}function Cx(){(ar===0||ar===3||ar===2)&&(ar=4),fr===null||!(al&268435455)&&!(Ih&268435455)||Ha(fr,yr)}function H0(e,t){var n=Ot;Ot|=2;var r=lC();(fr!==e||yr!==t)&&(ta=null,Ko(e,t));do try{vD();break}catch(i){oC(e,i)}while(1);if(ix(),Ot=n,U0.current=r,Qn!==null)throw Error(Ae(261));return fr=null,yr=0,ar}function vD(){for(;Qn!==null;)cC(Qn)}function yD(){for(;Qn!==null&&!qT();)cC(Qn)}function cC(e){var t=fC(e.alternate,e,xi);e.memoizedProps=e.pendingProps,t===null?uC(e):Qn=t,xx.current=null}function uC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fD(n,t),n!==null){n.flags&=32767,Qn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ar=6,Qn=null;return}}else if(n=dD(n,t,xi),n!==null){Qn=n;return}if(t=t.sibling,t!==null){Qn=t;return}Qn=t=e}while(t!==null);ar===0&&(ar=5)}function Uo(e,t,n){var r=Xt,i=Hi.transition;try{Hi.transition=null,Xt=1,wD(e,t,n,r)}finally{Hi.transition=i,Xt=r}return null}function wD(e,t,n,r){do ic();while(Ya!==null);if(Ot&6)throw Error(Ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ae(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ek(e,a),e===fr&&(Qn=fr=null,yr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uf||(Uf=!0,hC(N0,function(){return ic(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Hi.transition,Hi.transition=null;var d=Xt;Xt=1;var g=Ot;Ot|=4,xx.current=null,pD(e,n),iC(n,e),Uk(_m),S0=!!Nm,_m=Nm=null,e.current=n,mD(n),VT(),Ot=g,Xt=d,Hi.transition=a}else e.current=n;if(Uf&&(Uf=!1,Ya=e,W0=i),a=e.pendingLanes,a===0&&(eo=null),$T(n.stateNode),ri(e,Wn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(z0)throw z0=!1,e=Vm,Vm=null,e;return W0&1&&e.tag!==0&&ic(),a=e.pendingLanes,a&1?e===Ym?Fu++:(Fu=0,Ym=e):Fu=0,ho(),null}function ic(){if(Ya!==null){var e=q3(W0),t=Hi.transition,n=Xt;try{if(Hi.transition=null,Xt=16>e?16:e,Ya===null)var r=!1;else{if(e=Ya,Ya=null,W0=0,Ot&6)throw Error(Ae(331));var i=Ot;for(Ot|=4,Be=e.current;Be!==null;){var a=Be,d=a.child;if(Be.flags&16){var g=a.deletions;if(g!==null){for(var v=0;v<g.length;v++){var x=g[v];for(Be=x;Be!==null;){var b=Be;switch(b.tag){case 0:case 11:case 15:Lu(8,b,a)}var E=b.child;if(E!==null)E.return=b,Be=E;else for(;Be!==null;){b=Be;var _=b.sibling,k=b.return;if(tC(b),b===x){Be=null;break}if(_!==null){_.return=k,Be=_;break}Be=k}}}var A=a.alternate;if(A!==null){var R=A.child;if(R!==null){A.child=null;do{var M=R.sibling;R.sibling=null,R=M}while(R!==null)}}Be=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,Be=d;else e:for(;Be!==null;){if(a=Be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Lu(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Be=I;break e}Be=a.return}}var D=e.current;for(Be=D;Be!==null;){d=Be;var O=d.child;if(d.subtreeFlags&2064&&O!==null)O.return=d,Be=O;else e:for(d=D;Be!==null;){if(g=Be,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Dh(9,g)}}catch(Q){On(g,g.return,Q)}if(g===d){Be=null;break e}var q=g.sibling;if(q!==null){q.return=g.return,Be=q;break e}Be=g.return}}if(Ot=i,ho(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Ch,e)}catch{}r=!0}return r}finally{Xt=n,Hi.transition=t}}return!1}function dw(e,t,n){t=fc(n,t),t=q4(e,t,1),e=Ja(e,t,1),t=qr(),e!==null&&(hd(e,1,t),ri(e,t))}function On(e,t,n){if(e.tag===3)dw(e,e,n);else for(;t!==null;){if(t.tag===3){dw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(eo===null||!eo.has(r))){e=fc(n,e),e=V4(t,e,1),t=Ja(t,e,1),e=qr(),t!==null&&(hd(t,1,e),ri(t,e));break}}t=t.return}}function bD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qr(),e.pingedLanes|=e.suspendedLanes&n,fr===e&&(yr&n)===n&&(ar===4||ar===3&&(yr&130023424)===yr&&500>Wn()-yx?Ko(e,0):vx|=n),ri(e,t)}function dC(e,t){t===0&&(e.mode&1?(t=Df,Df<<=1,!(Df&130023424)&&(Df=4194304)):t=1);var n=qr();e=pa(e,t),e!==null&&(hd(e,t,n),ri(e,n))}function CD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dC(e,n)}function ED(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ae(314))}r!==null&&r.delete(t),dC(e,n)}var fC;fC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ti.current)ei=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ei=!1,uD(e,t,n);ei=!!(e.flags&131072)}else ei=!1,yn&&t.flags&1048576&&g4(t,O0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;s0(e,t),e=t.pendingProps;var i=lc(t,Or.current);rc(t,n),i=fx(null,t,r,e,i,n);var a=hx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ni(r)?(a=!0,I0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ox(t),i.updater=kh,t.stateNode=i,i._reactInternals=t,jm(t,r,e,n),t=Pm(null,t,r,!0,a,n)):(t.tag=0,yn&&a&&ex(t),Br(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(s0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=_D(r),e=ts(r,e),i){case 0:t=Lm(null,t,r,e,n);break e;case 1:t=tw(null,t,r,e,n);break e;case 11:t=Jy(null,t,r,e,n);break e;case 14:t=ew(null,t,r,ts(r.type,e),n);break e}throw Error(Ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ts(r,i),Lm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ts(r,i),tw(e,t,r,i,n);case 3:e:{if(X4(t),e===null)throw Error(Ae(387));r=t.pendingProps,a=t.memoizedState,i=a.element,C4(e,t),L0(t,r,null,n);var d=t.memoizedState;if(r=d.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=fc(Error(Ae(423)),t),t=nw(e,t,r,n,i);break e}else if(r!==i){i=fc(Error(Ae(424)),t),t=nw(e,t,r,n,i);break e}else for(vi=Za(t.stateNode.containerInfo.firstChild),yi=t,yn=!0,rs=null,n=w4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cc(),r===i){t=ma(e,t,n);break e}Br(e,t,r,n)}t=t.child}return t;case 5:return E4(t),e===null&&Im(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,d=i.children,Sm(r,i)?d=null:a!==null&&Sm(r,a)&&(t.flags|=32),$4(e,t),Br(e,t,d,n),t.child;case 6:return e===null&&Im(t),null;case 13:return Q4(e,t,n);case 4:return lx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uc(t,null,r,n):Br(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ts(r,i),Jy(e,t,r,i,n);case 7:return Br(e,t,t.pendingProps,n),t.child;case 8:return Br(e,t,t.pendingProps.children,n),t.child;case 12:return Br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,d=i.value,on(j0,r._currentValue),r._currentValue=d,a!==null)if(ls(a.value,d)){if(a.children===i.children&&!ti.current){t=ma(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var g=a.dependencies;if(g!==null){d=a.child;for(var v=g.firstContext;v!==null;){if(v.context===r){if(a.tag===1){v=aa(-1,n&-n),v.tag=2;var x=a.updateQueue;if(x!==null){x=x.shared;var b=x.pending;b===null?v.next=v:(v.next=b.next,b.next=v),x.pending=v}}a.lanes|=n,v=a.alternate,v!==null&&(v.lanes|=n),Rm(a.return,n,t),g.lanes|=n;break}v=v.next}}else if(a.tag===10)d=a.type===t.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(Ae(341));d.lanes|=n,g=d.alternate,g!==null&&(g.lanes|=n),Rm(d,n,t),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===t){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Br(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,rc(t,n),i=qi(i),r=r(i),t.flags|=1,Br(e,t,r,n),t.child;case 14:return r=t.type,i=ts(r,t.pendingProps),i=ts(r.type,i),ew(e,t,r,i,n);case 15:return Y4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ts(r,i),s0(e,t),t.tag=1,ni(r)?(e=!0,I0(t)):e=!1,rc(t,n),H4(t,r,i),jm(t,r,i,n),Pm(null,t,r,!0,e,n);case 19:return K4(e,t,n);case 22:return G4(e,t,n)}throw Error(Ae(156,t.tag))};function hC(e,t){return U3(e,t)}function ND(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(e,t,n,r){return new ND(e,t,n,r)}function Ex(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _D(e){if(typeof e=="function")return Ex(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wg)return 11;if(e===Hg)return 14}return 2}function no(e,t){var n=e.alternate;return n===null?(n=Wi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function l0(e,t,n,r,i,a){var d=2;if(r=e,typeof e=="function")Ex(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Ul:return Zo(n.children,i,a,t);case zg:d=8,i|=8;break;case im:return e=Wi(12,n,t,i|2),e.elementType=im,e.lanes=a,e;case sm:return e=Wi(13,n,t,i),e.elementType=sm,e.lanes=a,e;case am:return e=Wi(19,n,t,i),e.elementType=am,e.lanes=a,e;case E3:return Rh(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b3:d=10;break e;case C3:d=9;break e;case Wg:d=11;break e;case Hg:d=14;break e;case Ba:d=16,r=null;break e}throw Error(Ae(130,e==null?e:typeof e,""))}return t=Wi(d,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Zo(e,t,n,r){return e=Wi(7,e,r,t),e.lanes=n,e}function Rh(e,t,n,r){return e=Wi(22,e,r,t),e.elementType=E3,e.lanes=n,e.stateNode={isHidden:!1},e}function P1(e,t,n){return e=Wi(6,e,null,t),e.lanes=n,e}function F1(e,t,n){return t=Wi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SD(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=v1(0),this.expirationTimes=v1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nx(e,t,n,r,i,a,d,g,v){return e=new SD(e,t,n,g,v),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Wi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ox(a),e}function AD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pC(e){if(!e)return oo;e=e._reactInternals;e:{if(pl(e)!==e||e.tag!==1)throw Error(Ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ae(171))}if(e.tag===1){var n=e.type;if(ni(n))return p4(e,n,t)}return t}function mC(e,t,n,r,i,a,d,g,v){return e=Nx(n,r,!0,e,i,a,d,g,v),e.context=pC(null),n=e.current,r=qr(),i=to(n),a=aa(r,i),a.callback=t??null,Ja(n,a,i),e.current.lanes=i,hd(e,i,r),ri(e,r),e}function Oh(e,t,n,r){var i=t.current,a=qr(),d=to(i);return n=pC(n),t.context===null?t.context=n:t.pendingContext=n,t=aa(a,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ja(i,t,d),e!==null&&(ss(e,i,d,a),n0(e,i,d)),d}function q0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _x(e,t){fw(e,t),(e=e.alternate)&&fw(e,t)}function TD(){return null}var gC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sx(e){this._internalRoot=e}jh.prototype.render=Sx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ae(409));Oh(e,t,null,null)};jh.prototype.unmount=Sx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ol(function(){Oh(null,e,null,null)}),t[ha]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=G3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wa.length&&t!==0&&t<Wa[n].priority;n++);Wa.splice(n,0,e),n===0&&X3(e)}};function Ax(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hw(){}function kD(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var x=q0(d);a.call(x)}}var d=mC(t,r,e,0,null,!1,!1,"",hw);return e._reactRootContainer=d,e[ha]=d.current,Gu(e.nodeType===8?e.parentNode:e),ol(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var g=r;r=function(){var x=q0(v);g.call(x)}}var v=Nx(e,0,!1,null,null,!1,!1,"",hw);return e._reactRootContainer=v,e[ha]=v.current,Gu(e.nodeType===8?e.parentNode:e),ol(function(){Oh(t,v,n,r)}),v}function Lh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var d=a;if(typeof i=="function"){var g=i;i=function(){var v=q0(d);g.call(v)}}Oh(t,d,e,i)}else d=kD(n,t,e,i,r);return q0(d)}V3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Su(t.pendingLanes);n!==0&&(Yg(t,n|1),ri(t,Wn()),!(Ot&6)&&(hc=Wn()+500,ho()))}break;case 13:ol(function(){var r=pa(e,1);if(r!==null){var i=qr();ss(r,e,1,i)}}),_x(e,1)}};Gg=function(e){if(e.tag===13){var t=pa(e,134217728);if(t!==null){var n=qr();ss(t,e,134217728,n)}_x(e,134217728)}};Y3=function(e){if(e.tag===13){var t=to(e),n=pa(e,t);if(n!==null){var r=qr();ss(n,e,t,r)}_x(e,t)}};G3=function(){return Xt};$3=function(e,t){var n=Xt;try{return Xt=e,t()}finally{Xt=n}};gm=function(e,t,n){switch(t){case"input":if(cm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Sh(r);if(!i)throw Error(Ae(90));_3(r),cm(r,i)}}}break;case"textarea":A3(e,n);break;case"select":t=n.value,t!=null&&Jl(e,!!n.multiple,t,!1)}};j3=wx;M3=ol;var DD={usingClientEntryPoint:!1,Events:[md,ql,Sh,R3,O3,wx]},vu={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ID={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F3(e),e===null?null:e.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||TD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{Ch=zf.inject(ID),Ds=zf}catch{}}Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DD;Ci.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ax(t))throw Error(Ae(200));return AD(e,t,null,n)};Ci.createRoot=function(e,t){if(!Ax(e))throw Error(Ae(299));var n=!1,r="",i=gC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Nx(e,1,!1,null,null,n,!1,r,i),e[ha]=t.current,Gu(e.nodeType===8?e.parentNode:e),new Sx(t)};Ci.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ae(188)):(e=Object.keys(e).join(","),Error(Ae(268,e)));return e=F3(t),e=e===null?null:e.stateNode,e};Ci.flushSync=function(e){return ol(e)};Ci.hydrate=function(e,t,n){if(!Mh(t))throw Error(Ae(200));return Lh(null,e,t,!0,n)};Ci.hydrateRoot=function(e,t,n){if(!Ax(e))throw Error(Ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",d=gC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=mC(t,null,e,1,n??null,i,!1,a,d),e[ha]=t.current,Gu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jh(t)};Ci.render=function(e,t,n){if(!Mh(t))throw Error(Ae(200));return Lh(null,e,t,!1,n)};Ci.unmountComponentAtNode=function(e){if(!Mh(e))throw Error(Ae(40));return e._reactRootContainer?(ol(function(){Lh(null,null,e,!1,function(){e._reactRootContainer=null,e[ha]=null})}),!0):!1};Ci.unstable_batchedUpdates=wx;Ci.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mh(n))throw Error(Ae(200));if(e==null||e._reactInternals===void 0)throw Error(Ae(38));return Lh(e,t,n,!1,r)};Ci.version="18.3.1-next-f1338f8080-20240426";function xC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xC)}catch(e){console.error(e)}}xC(),x3.exports=Ci;var Tx=x3.exports;const RD=wh(Tx);var pw=Tx;nm.createRoot=pw.createRoot,nm.hydrateRoot=pw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(this,arguments)}var Ga;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ga||(Ga={}));const mw="popstate";function OD(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:d,hash:g}=r.location;return Xm("",{pathname:a,search:d,hash:g},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:V0(i)}return MD(t,n,null,e)}function Vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jD(){return Math.random().toString(36).substr(2,8)}function gw(e,t){return{usr:e.state,key:e.key,idx:t}}function Xm(e,t,n,r){return n===void 0&&(n=null),nd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ac(t):t,{state:n,key:t&&t.key||r||jD()})}function V0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ac(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function MD(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,d=i.history,g=Ga.Pop,v=null,x=b();x==null&&(x=0,d.replaceState(nd({},d.state,{idx:x}),""));function b(){return(d.state||{idx:null}).idx}function E(){g=Ga.Pop;let M=b(),I=M==null?null:M-x;x=M,v&&v({action:g,location:R.location,delta:I})}function _(M,I){g=Ga.Push;let D=Xm(R.location,M,I);n&&n(D,M),x=b()+1;let O=gw(D,x),q=R.createHref(D);try{d.pushState(O,"",q)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(q)}a&&v&&v({action:g,location:R.location,delta:1})}function k(M,I){g=Ga.Replace;let D=Xm(R.location,M,I);n&&n(D,M),x=b();let O=gw(D,x),q=R.createHref(D);d.replaceState(O,"",q),a&&v&&v({action:g,location:R.location,delta:0})}function A(M){let I=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof M=="string"?M:V0(M);return D=D.replace(/ $/,"%20"),Vn(I,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,I)}let R={get action(){return g},get location(){return e(i,d)},listen(M){if(v)throw new Error("A history only accepts one active listener");return i.addEventListener(mw,E),v=M,()=>{i.removeEventListener(mw,E),v=null}},createHref(M){return t(i,M)},createURL:A,encodeLocation(M){let I=A(M);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:k,go(M){return d.go(M)}};return R}var xw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xw||(xw={}));function LD(e,t,n){return n===void 0&&(n="/"),PD(e,t,n,!1)}function PD(e,t,n,r){let i=typeof t=="string"?Ac(t):t,a=kx(i.pathname||"/",n);if(a==null)return null;let d=yC(e);FD(d);let g=null;for(let v=0;g==null&&v<d.length;++v){let x=XD(a);g=GD(d[v],x,r)}return g}function yC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,d,g)=>{let v={relativePath:g===void 0?a.path||"":g,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};v.relativePath.startsWith("/")&&(Vn(v.relativePath.startsWith(r),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(r.length));let x=ro([r,v.relativePath]),b=n.concat(v);a.children&&a.children.length>0&&(Vn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),yC(a.children,t,b,x)),!(a.path==null&&!a.index)&&t.push({path:x,score:VD(x,a.index),routesMeta:b})};return e.forEach((a,d)=>{var g;if(a.path===""||!((g=a.path)!=null&&g.includes("?")))i(a,d);else for(let v of wC(a.path))i(a,d,v)}),t}function wC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let d=wC(r.join("/")),g=[];return g.push(...d.map(v=>v===""?a:[a,v].join("/"))),i&&g.push(...d),g.map(v=>e.startsWith("/")&&v===""?"/":v)}function FD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BD=/^:[\w-]+$/,UD=3,zD=2,WD=1,HD=10,qD=-2,vw=e=>e==="*";function VD(e,t){let n=e.split("/"),r=n.length;return n.some(vw)&&(r+=qD),t&&(r+=zD),n.filter(i=>!vw(i)).reduce((i,a)=>i+(BD.test(a)?UD:a===""?WD:HD),r)}function YD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function GD(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",d=[];for(let g=0;g<r.length;++g){let v=r[g],x=g===r.length-1,b=a==="/"?t:t.slice(a.length)||"/",E=yw({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},b),_=v.route;if(!E&&x&&n&&!r[r.length-1].route.index&&(E=yw({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},b)),!E)return null;Object.assign(i,E.params),d.push({params:i,pathname:ro([a,E.pathname]),pathnameBase:JD(ro([a,E.pathnameBase])),route:_}),E.pathnameBase!=="/"&&(a=ro([a,E.pathnameBase]))}return d}function yw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$D(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],d=a.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((x,b,E)=>{let{paramName:_,isOptional:k}=b;if(_==="*"){let R=g[E]||"";d=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const A=g[E];return k&&!A?x[_]=void 0:x[_]=(A||"").replace(/%2F/g,"/"),x},{}),pathname:a,pathnameBase:d,pattern:e}}function $D(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,v)=>(r.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function XD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function QD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ac(e):e;return{pathname:n?n.startsWith("/")?n:KD(n,t):t,search:eI(r),hash:tI(i)}}function KD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function B1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dx(e,t){let n=ZD(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ix(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ac(e):(i=nd({},e),Vn(!i.pathname||!i.pathname.includes("?"),B1("?","pathname","search",i)),Vn(!i.pathname||!i.pathname.includes("#"),B1("#","pathname","hash",i)),Vn(!i.search||!i.search.includes("#"),B1("#","search","hash",i)));let a=e===""||i.pathname==="",d=a?"/":i.pathname,g;if(d==null)g=n;else{let E=t.length-1;if(!r&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),E-=1;i.pathname=_.join("/")}g=E>=0?t[E]:"/"}let v=QD(i,g),x=d&&d!=="/"&&d.endsWith("/"),b=(a||d===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(x||b)&&(v.pathname+="/"),v}const ro=e=>e.join("/").replace(/\/\/+/g,"/"),JD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bC=["post","put","patch","delete"];new Set(bC);const rI=["get",...bC];new Set(rI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rd.apply(this,arguments)}const Rx=L.createContext(null),iI=L.createContext(null),po=L.createContext(null),Ph=L.createContext(null),wa=L.createContext({outlet:null,matches:[],isDataRoute:!1}),CC=L.createContext(null);function sI(e,t){let{relative:n}=t===void 0?{}:t;Tc()||Vn(!1);let{basename:r,navigator:i}=L.useContext(po),{hash:a,pathname:d,search:g}=_C(e,{relative:n}),v=d;return r!=="/"&&(v=d==="/"?r:ro([r,d])),i.createHref({pathname:v,search:g,hash:a})}function Tc(){return L.useContext(Ph)!=null}function kc(){return Tc()||Vn(!1),L.useContext(Ph).location}function EC(e){L.useContext(po).static||L.useLayoutEffect(e)}function us(){let{isDataRoute:e}=L.useContext(wa);return e?vI():aI()}function aI(){Tc()||Vn(!1);let e=L.useContext(Rx),{basename:t,future:n,navigator:r}=L.useContext(po),{matches:i}=L.useContext(wa),{pathname:a}=kc(),d=JSON.stringify(Dx(i,n.v7_relativeSplatPath)),g=L.useRef(!1);return EC(()=>{g.current=!0}),L.useCallback(function(x,b){if(b===void 0&&(b={}),!g.current)return;if(typeof x=="number"){r.go(x);return}let E=Ix(x,JSON.parse(d),a,b.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ro([t,E.pathname])),(b.replace?r.replace:r.push)(E,b.state,b)},[t,r,d,a,e])}function NC(){let{matches:e}=L.useContext(wa),t=e[e.length-1];return t?t.params:{}}function _C(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=L.useContext(po),{matches:i}=L.useContext(wa),{pathname:a}=kc(),d=JSON.stringify(Dx(i,r.v7_relativeSplatPath));return L.useMemo(()=>Ix(e,JSON.parse(d),a,n==="path"),[e,d,a,n])}function oI(e,t){return lI(e,t)}function lI(e,t,n,r){Tc()||Vn(!1);let{navigator:i}=L.useContext(po),{matches:a}=L.useContext(wa),d=a[a.length-1],g=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let x=kc(),b;if(t){var E;let M=typeof t=="string"?Ac(t):t;v==="/"||(E=M.pathname)!=null&&E.startsWith(v)||Vn(!1),b=M}else b=x;let _=b.pathname||"/",k=_;if(v!=="/"){let M=v.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=LD(e,{pathname:k}),R=hI(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},g,M.params),pathname:ro([v,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:ro([v,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,n,r);return t&&R?L.createElement(Ph.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Ga.Pop}},R):R}function cI(){let e=xI(),t=nI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:i},n):null,a)}const uI=L.createElement(cI,null);class dI extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?L.createElement(wa.Provider,{value:this.props.routeContext},L.createElement(CC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fI(e){let{routeContext:t,match:n,children:r}=e,i=L.useContext(Rx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(wa.Provider,{value:t},r)}function hI(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,g=(i=n)==null?void 0:i.errors;if(g!=null){let b=d.findIndex(E=>E.route.id&&(g==null?void 0:g[E.route.id])!==void 0);b>=0||Vn(!1),d=d.slice(0,Math.min(d.length,b+1))}let v=!1,x=-1;if(n&&r&&r.v7_partialHydration)for(let b=0;b<d.length;b++){let E=d[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(x=b),E.route.id){let{loaderData:_,errors:k}=n,A=E.route.loader&&_[E.route.id]===void 0&&(!k||k[E.route.id]===void 0);if(E.route.lazy||A){v=!0,x>=0?d=d.slice(0,x+1):d=[d[0]];break}}}return d.reduceRight((b,E,_)=>{let k,A=!1,R=null,M=null;n&&(k=g&&E.route.id?g[E.route.id]:void 0,R=E.route.errorElement||uI,v&&(x<0&&_===0?(yI("route-fallback",!1),A=!0,M=null):x===_&&(A=!0,M=E.route.hydrateFallbackElement||null)));let I=t.concat(d.slice(0,_+1)),D=()=>{let O;return k?O=R:A?O=M:E.route.Component?O=L.createElement(E.route.Component,null):E.route.element?O=E.route.element:O=b,L.createElement(fI,{match:E,routeContext:{outlet:b,matches:I,isDataRoute:n!=null},children:O})};return n&&(E.route.ErrorBoundary||E.route.errorElement||_===0)?L.createElement(dI,{location:n.location,revalidation:n.revalidation,component:R,error:k,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):D()},null)}var SC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(SC||{}),Y0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Y0||{});function pI(e){let t=L.useContext(Rx);return t||Vn(!1),t}function mI(e){let t=L.useContext(iI);return t||Vn(!1),t}function gI(e){let t=L.useContext(wa);return t||Vn(!1),t}function AC(e){let t=gI(),n=t.matches[t.matches.length-1];return n.route.id||Vn(!1),n.route.id}function xI(){var e;let t=L.useContext(CC),n=mI(Y0.UseRouteError),r=AC(Y0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function vI(){let{router:e}=pI(SC.UseNavigateStable),t=AC(Y0.UseNavigateStable),n=L.useRef(!1);return EC(()=>{n.current=!0}),L.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,rd({fromRouteId:t},a)))},[e,t])}const ww={};function yI(e,t,n){!t&&!ww[e]&&(ww[e]=!0)}function wI(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function G0(e){let{to:t,replace:n,state:r,relative:i}=e;Tc()||Vn(!1);let{future:a,static:d}=L.useContext(po),{matches:g}=L.useContext(wa),{pathname:v}=kc(),x=us(),b=Ix(t,Dx(g,a.v7_relativeSplatPath),v,i==="path"),E=JSON.stringify(b);return L.useEffect(()=>x(JSON.parse(E),{replace:n,state:r,relative:i}),[x,E,i,n,r]),null}function mi(e){Vn(!1)}function bI(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ga.Pop,navigator:a,static:d=!1,future:g}=e;Tc()&&Vn(!1);let v=t.replace(/^\/*/,"/"),x=L.useMemo(()=>({basename:v,navigator:a,static:d,future:rd({v7_relativeSplatPath:!1},g)}),[v,g,a,d]);typeof r=="string"&&(r=Ac(r));let{pathname:b="/",search:E="",hash:_="",state:k=null,key:A="default"}=r,R=L.useMemo(()=>{let M=kx(b,v);return M==null?null:{location:{pathname:M,search:E,hash:_,state:k,key:A},navigationType:i}},[v,b,E,_,k,A,i]);return R==null?null:L.createElement(po.Provider,{value:x},L.createElement(Ph.Provider,{children:n,value:R}))}function CI(e){let{children:t,location:n}=e;return oI(Qm(t),n)}new Promise(()=>{});function Qm(e,t){t===void 0&&(t=[]);let n=[];return L.Children.forEach(e,(r,i)=>{if(!L.isValidElement(r))return;let a=[...t,i];if(r.type===L.Fragment){n.push.apply(n,Qm(r.props.children,a));return}r.type!==mi&&Vn(!1),!r.props.index||!r.props.children||Vn(!1);let d={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Qm(r.props.children,a)),n.push(d)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Km.apply(this,arguments)}function EI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function NI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _I(e,t){return e.button===0&&(!t||t==="_self")&&!NI(e)}const SI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AI="6";try{window.__reactRouterVersion=AI}catch{}const TI="startTransition",bw=Pg[TI];function kI(e){let{basename:t,children:n,future:r,window:i}=e,a=L.useRef();a.current==null&&(a.current=OD({window:i,v5Compat:!0}));let d=a.current,[g,v]=L.useState({action:d.action,location:d.location}),{v7_startTransition:x}=r||{},b=L.useCallback(E=>{x&&bw?bw(()=>v(E)):v(E)},[v,x]);return L.useLayoutEffect(()=>d.listen(b),[d,b]),L.useEffect(()=>wI(r),[r]),L.createElement(bI,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:d,future:r})}const DI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",II=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=L.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:d,state:g,target:v,to:x,preventScrollReset:b,viewTransition:E}=t,_=EI(t,SI),{basename:k}=L.useContext(po),A,R=!1;if(typeof x=="string"&&II.test(x)&&(A=x,DI))try{let O=new URL(window.location.href),q=x.startsWith("//")?new URL(O.protocol+x):new URL(x),Q=kx(q.pathname,k);q.origin===O.origin&&Q!=null?x=Q+q.search+q.hash:R=!0}catch{}let M=sI(x,{relative:i}),I=RI(x,{replace:d,state:g,target:v,preventScrollReset:b,relative:i,viewTransition:E});function D(O){r&&r(O),O.defaultPrevented||I(O)}return L.createElement("a",Km({},_,{href:A||M,onClick:R||a?r:D,ref:n,target:v}))});var Cw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cw||(Cw={}));var Ew;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ew||(Ew={}));function RI(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:d,viewTransition:g}=t===void 0?{}:t,v=us(),x=kc(),b=_C(e,{relative:d});return L.useCallback(E=>{if(_I(E,n)){E.preventDefault();let _=r!==void 0?r:V0(x)===V0(b);v(e,{replace:_,state:i,preventScrollReset:a,relative:d,viewTransition:g})}},[x,v,b,r,i,n,e,a,d,g])}class Dc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const id=typeof window>"u"||"Deno"in window;function Li(){}function OI(e,t){return typeof e=="function"?e(t):e}function Zm(e){return typeof e=="number"&&e>=0&&e!==1/0}function TC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Kl(e,t,n){return xd(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function jI(e,t,n){return xd(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function za(e,t,n){return xd(e)?[{...t,queryKey:e},n]:[e||{},t]}function Nw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:d,stale:g}=e;if(xd(d)){if(r){if(t.queryHash!==Ox(d,t.options))return!1}else if(!$0(t.queryKey,d))return!1}if(n!=="all"){const v=t.isActive();if(n==="active"&&!v||n==="inactive"&&v)return!1}return!(typeof g=="boolean"&&t.isStale()!==g||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function _w(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:a}=e;if(xd(a)){if(!t.options.mutationKey)return!1;if(n){if(Yo(t.options.mutationKey)!==Yo(a))return!1}else if(!$0(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function Ox(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yo)(e)}function Yo(e){return JSON.stringify(e,(t,n)=>Jm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $0(e,t){return kC(e,t)}function kC(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!kC(e[n],t[n])):!1}function DC(e,t){if(e===t)return e;const n=Sw(e)&&Sw(t);if(n||Jm(e)&&Jm(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,d=n?[]:{};let g=0;for(let v=0;v<a;v++){const x=n?v:i[v];d[x]=DC(e[x],t[x]),d[x]===e[x]&&g++}return r===a&&g===r?e:d}return t}function X0(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Sw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jm(e){if(!Aw(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Aw(n)||!n.hasOwnProperty("isPrototypeOf"))}function Aw(e){return Object.prototype.toString.call(e)==="[object Object]"}function xd(e){return Array.isArray(e)}function IC(e){return new Promise(t=>{setTimeout(t,e)})}function Tw(e){IC(0).then(e)}function MI(){if(typeof AbortController=="function")return new AbortController}function eg(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?DC(e,t):t}class LI extends Dc{constructor(){super(),this.setup=t=>{if(!id&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Q0=new LI,kw=["online","offline"];class PI extends Dc{constructor(){super(),this.setup=t=>{if(!id&&window.addEventListener){const n=()=>t();return kw.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{kw.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const K0=new PI;function FI(e){return Math.min(1e3*2**e,3e4)}function Fh(e){return(e??"online")==="online"?K0.isOnline():!0}class RC{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function c0(e){return e instanceof RC}function OC(e){let t=!1,n=0,r=!1,i,a,d;const g=new Promise((M,I)=>{a=M,d=I}),v=M=>{r||(k(new RC(M)),e.abort==null||e.abort())},x=()=>{t=!0},b=()=>{t=!1},E=()=>!Q0.isFocused()||e.networkMode!=="always"&&!K0.isOnline(),_=M=>{r||(r=!0,e.onSuccess==null||e.onSuccess(M),i==null||i(),a(M))},k=M=>{r||(r=!0,e.onError==null||e.onError(M),i==null||i(),d(M))},A=()=>new Promise(M=>{i=I=>{const D=r||!E();return D&&M(I),D},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),R=()=>{if(r)return;let M;try{M=e.fn()}catch(I){M=Promise.reject(I)}Promise.resolve(M).then(_).catch(I=>{var D,O;if(r)return;const q=(D=e.retry)!=null?D:3,Q=(O=e.retryDelay)!=null?O:FI,z=typeof Q=="function"?Q(n,I):Q,j=q===!0||typeof q=="number"&&n<q||typeof q=="function"&&q(n,I);if(t||!j){k(I);return}n++,e.onFail==null||e.onFail(n,I),IC(z).then(()=>{if(E())return A()}).then(()=>{t?k(I):R()})})};return Fh(e.networkMode)?R():A().then(R),{promise:g,cancel:v,continue:()=>(i==null?void 0:i())?g:Promise.resolve(),cancelRetry:x,continueRetry:b}}const jx=console;function BI(){let e=[],t=0,n=b=>{b()},r=b=>{b()};const i=b=>{let E;t++;try{E=b()}finally{t--,t||g()}return E},a=b=>{t?e.push(b):Tw(()=>{n(b)})},d=b=>(...E)=>{a(()=>{b(...E)})},g=()=>{const b=e;e=[],b.length&&Tw(()=>{r(()=>{b.forEach(E=>{n(E)})})})};return{batch:i,batchCalls:d,schedule:a,setNotifyFunction:b=>{n=b},setBatchNotifyFunction:b=>{r=b}}}const Mn=BI();class jC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zm(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(id?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class UI extends jC{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||jx,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||zI(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=eg(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(Li).catch(Li):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!TC(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(A=>A.options.queryFn);k&&this.setOptions(k.options)}const d=MI(),g={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},v=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{if(d)return this.abortSignalConsumed=!0,d.signal}})};v(g);const x=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(g)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),b={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:x};if(v(b),(r=this.options.behavior)==null||r.onFetch(b),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=b.fetchOptions)==null?void 0:i.meta)){var E;this.dispatch({type:"fetch",meta:(E=b.fetchOptions)==null?void 0:E.meta})}const _=k=>{if(c0(k)&&k.silent||this.dispatch({type:"error",error:k}),!c0(k)){var A,R,M,I;(A=(R=this.cache.config).onError)==null||A.call(R,k,this),(M=(I=this.cache.config).onSettled)==null||M.call(I,this.state.data,k,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=OC({fn:b.fetchFn,abort:d==null?void 0:d.abort.bind(d),onSuccess:k=>{var A,R,M,I;if(typeof k>"u"){_(new Error(this.queryHash+" data is undefined"));return}this.setData(k),(A=(R=this.cache.config).onSuccess)==null||A.call(R,k,this),(M=(I=this.cache.config).onSettled)==null||M.call(I,k,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(k,A)=>{this.dispatch({type:"failed",failureCount:k,error:A})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay,networkMode:b.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:Fh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=t.error;return c0(d)&&d.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function zI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class WI extends Dc{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const a=n.queryKey,d=(i=n.queryHash)!=null?i:Ox(a,n);let g=this.get(d);return g||(g=new UI({cache:this,logger:t.getLogger(),queryKey:a,queryHash:d,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(g)),g}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){Mn.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=za(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Nw(r,i))}findAll(t,n){const[r]=za(t,n);return Object.keys(r).length>0?this.queries.filter(i=>Nw(r,i)):this.queries}notify(t){Mn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){Mn.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){Mn.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class HI extends jC{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||jx,this.observers=[],this.state=t.state||MC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var j;return this.retryer=OC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(G,H)=>{this.dispatch({type:"failed",failureCount:G,error:H})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(j=this.options.retry)!=null?j:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,d,g,v,x,b;if(!n){var E,_,k,A;this.dispatch({type:"loading",variables:this.options.variables}),await((E=(_=this.mutationCache.config).onMutate)==null?void 0:E.call(_,this.state.variables,this));const G=await((k=(A=this.options).onMutate)==null?void 0:k.call(A,this.state.variables));G!==this.state.context&&this.dispatch({type:"loading",context:G,variables:this.state.variables})}const j=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,j,this.state.variables,this.state.context,this)),await((a=(d=this.options).onSuccess)==null?void 0:a.call(d,j,this.state.variables,this.state.context)),await((g=(v=this.mutationCache.config).onSettled)==null?void 0:g.call(v,j,null,this.state.variables,this.state.context,this)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,j,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:j}),j}catch(j){try{var R,M,I,D,O,q,Q,z;throw await((R=(M=this.mutationCache.config).onError)==null?void 0:R.call(M,j,this.state.variables,this.state.context,this)),await((I=(D=this.options).onError)==null?void 0:I.call(D,j,this.state.variables,this.state.context)),await((O=(q=this.mutationCache.config).onSettled)==null?void 0:O.call(q,void 0,j,this.state.variables,this.state.context,this)),await((Q=(z=this.options).onSettled)==null?void 0:Q.call(z,void 0,j,this.state.variables,this.state.context)),j}finally{this.dispatch({type:"error",error:j})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Fh(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),Mn.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function MC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class qI extends Dc{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new HI({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){Mn.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>_w(t,n))}findAll(t){return this.mutations.filter(n=>_w(t,n))}notify(t){Mn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Mn.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Li)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function tg(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,a,d;const g=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,v=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,x=v==null?void 0:v.pageParam,b=(v==null?void 0:v.direction)==="forward",E=(v==null?void 0:v.direction)==="backward",_=((a=e.state.data)==null?void 0:a.pages)||[],k=((d=e.state.data)==null?void 0:d.pageParams)||[];let A=k,R=!1;const M=z=>{Object.defineProperty(z,"signal",{enumerable:!0,get:()=>{var j;if((j=e.signal)!=null&&j.aborted)R=!0;else{var G;(G=e.signal)==null||G.addEventListener("abort",()=>{R=!0})}return e.signal}})},I=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),D=(z,j,G,H)=>(A=H?[j,...A]:[...A,j],H?[G,...z]:[...z,G]),O=(z,j,G,H)=>{if(R)return Promise.reject("Cancelled");if(typeof G>"u"&&!j&&z.length)return Promise.resolve(z);const se={queryKey:e.queryKey,pageParam:G,meta:e.options.meta};M(se);const fe=I(se);return Promise.resolve(fe).then(re=>D(z,G,re,H))};let q;if(!_.length)q=O([]);else if(b){const z=typeof x<"u",j=z?x:ng(e.options,_);q=O(_,z,j)}else if(E){const z=typeof x<"u",j=z?x:LC(e.options,_);q=O(_,z,j,!0)}else{A=[];const z=typeof e.options.getNextPageParam>"u";q=(g&&_[0]?g(_[0],0,_):!0)?O([],z,k[0]):Promise.resolve(D([],k[0],_[0]));for(let G=1;G<_.length;G++)q=q.then(H=>{if(g&&_[G]?g(_[G],G,_):!0){const fe=z?k[G]:ng(e.options,H);return O(H,z,fe)}return Promise.resolve(D(H,k[G],_[G]))})}return q.then(z=>({pages:z,pageParams:A}))}}}}function ng(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function LC(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function VI(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=ng(e,t);return typeof n<"u"&&n!==null&&n!==!1}}function YI(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=LC(e,t);return typeof n<"u"&&n!==null&&n!==!1}}class GI{constructor(t={}){this.queryCache=t.queryCache||new WI,this.mutationCache=t.mutationCache||new qI,this.logger=t.logger||jx,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Q0.subscribe(()=>{Q0.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=K0.subscribe(()=>{K0.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=za(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=Kl(t,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),a=i==null?void 0:i.state.data,d=OI(n,a);if(typeof d>"u")return;const g=Kl(t),v=this.defaultQueryOptions(g);return this.queryCache.build(this,v).setData(d,{...r,manual:!0})}setQueriesData(t,n,r){return Mn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=za(t,n),i=this.queryCache;Mn.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(t,n,r){const[i,a]=za(t,n,r),d=this.queryCache,g={type:"active",...i};return Mn.batch(()=>(d.findAll(i).forEach(v=>{v.reset()}),this.refetchQueries(g,a)))}cancelQueries(t,n,r){const[i,a={}]=za(t,n,r);typeof a.revert>"u"&&(a.revert=!0);const d=Mn.batch(()=>this.queryCache.findAll(i).map(g=>g.cancel(a)));return Promise.all(d).then(Li).catch(Li)}invalidateQueries(t,n,r){const[i,a]=za(t,n,r);return Mn.batch(()=>{var d,g;if(this.queryCache.findAll(i).forEach(x=>{x.invalidate()}),i.refetchType==="none")return Promise.resolve();const v={...i,type:(d=(g=i.refetchType)!=null?g:i.type)!=null?d:"active"};return this.refetchQueries(v,a)})}refetchQueries(t,n,r){const[i,a]=za(t,n,r),d=Mn.batch(()=>this.queryCache.findAll(i).filter(v=>!v.isDisabled()).map(v=>{var x;return v.fetch(void 0,{...a,cancelRefetch:(x=a==null?void 0:a.cancelRefetch)!=null?x:!0,meta:{refetchPage:i.refetchPage}})}));let g=Promise.all(d).then(Li);return a!=null&&a.throwOnError||(g=g.catch(Li)),g}fetchQuery(t,n,r){const i=Kl(t,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const d=this.queryCache.build(this,a);return d.isStaleByTime(a.staleTime)?d.fetch(a):Promise.resolve(d.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(Li).catch(Li)}fetchInfiniteQuery(t,n,r){const i=Kl(t,n,r);return i.behavior=tg(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(Li).catch(Li)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Yo(t)===Yo(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>$0(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Yo(t)===Yo(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>$0(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Ox(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class PC extends Dc{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Dw(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rg(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rg(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),X0(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&Iw(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return XI(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Li)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),id||this.currentResult.isStale||!Zm(this.options.staleTime))return;const n=TC(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(id||this.options.enabled===!1||!Zm(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Q0.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,a=this.currentResult,d=this.currentResultState,g=this.currentResultOptions,v=t!==r,x=v?t.state:this.currentQueryInitialState,b=v?this.currentResult:this.previousQueryResult,{state:E}=t;let{dataUpdatedAt:_,error:k,errorUpdatedAt:A,fetchStatus:R,status:M}=E,I=!1,D=!1,O;if(n._optimisticResults){const G=this.hasListeners(),H=!G&&Dw(t,n),se=G&&Iw(t,r,n,i);(H||se)&&(R=Fh(t.options.networkMode)?"fetching":"paused",_||(M="loading")),n._optimisticResults==="isRestoring"&&(R="idle")}if(n.keepPreviousData&&!E.dataUpdatedAt&&b!=null&&b.isSuccess&&M!=="error")O=b.data,_=b.dataUpdatedAt,M=b.status,I=!0;else if(n.select&&typeof E.data<"u")if(a&&E.data===(d==null?void 0:d.data)&&n.select===this.selectFn)O=this.selectResult;else try{this.selectFn=n.select,O=n.select(E.data),O=eg(a==null?void 0:a.data,O,n),this.selectResult=O,this.selectError=null}catch(G){this.selectError=G}else O=E.data;if(typeof n.placeholderData<"u"&&typeof O>"u"&&M==="loading"){let G;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(g==null?void 0:g.placeholderData))G=a.data;else if(G=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof G<"u")try{G=n.select(G),this.selectError=null}catch(H){this.selectError=H}typeof G<"u"&&(M="success",O=eg(a==null?void 0:a.data,G,n),D=!0)}this.selectError&&(k=this.selectError,O=this.selectResult,A=Date.now(),M="error");const q=R==="fetching",Q=M==="loading",z=M==="error";return{status:M,fetchStatus:R,isLoading:Q,isSuccess:M==="success",isError:z,isInitialLoading:Q&&q,data:O,dataUpdatedAt:_,error:k,errorUpdatedAt:A,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>x.dataUpdateCount||E.errorUpdateCount>x.errorUpdateCount,isFetching:q,isRefetching:q&&!Q,isLoadingError:z&&E.dataUpdatedAt===0,isPaused:R==="paused",isPlaceholderData:D,isPreviousData:I,isRefetchError:z&&E.dataUpdatedAt!==0,isStale:Mx(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,X0(r,n))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!n)return!0;const{notifyOnChangeProps:d}=this.options,g=typeof d=="function"?d():d;if(g==="all"||!g&&!this.trackedProps.size)return!0;const v=new Set(g??this.trackedProps);return this.options.useErrorBoundary&&v.add("error"),Object.keys(this.currentResult).some(x=>{const b=x;return this.currentResult[b]!==n[b]&&v.has(b)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!c0(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){Mn.batch(()=>{if(t.onSuccess){var n,r,i,a;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var d,g,v,x;(d=(g=this.options).onError)==null||d.call(g,this.currentResult.error),(v=(x=this.options).onSettled)==null||v.call(x,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:b})=>{b(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function $I(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Dw(e,t){return $I(e,t)||e.state.dataUpdatedAt>0&&rg(e,t,t.refetchOnMount)}function rg(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Mx(e,t)}return!1}function Iw(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Mx(e,n)}function Mx(e,t){return e.isStaleByTime(t.staleTime)}function XI(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!X0(e.getCurrentResult(),t)}class QI extends PC{constructor(t,n){super(t,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,n){super.setOptions({...t,behavior:tg()},n)}getOptimisticResult(t){return t.behavior=tg(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,n){var r,i,a,d,g,v;const{state:x}=t,b=super.createResult(t,n),{isFetching:E,isRefetching:_}=b,k=E&&((r=x.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",A=E&&((a=x.fetchMeta)==null||(d=a.fetchMore)==null?void 0:d.direction)==="backward";return{...b,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:VI(n,(g=x.data)==null?void 0:g.pages),hasPreviousPage:YI(n,(v=x.data)==null?void 0:v.pages),isFetchingNextPage:k,isFetchingPreviousPage:A,isRefetching:_&&!k&&!A}}}let KI=class extends Dc{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),X0(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:MC(),n=t.status==="loading",r={...t,isLoading:n,isPending:n,isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(t){Mn.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,a;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var d,g,v,x;(d=(g=this.mutateOptions).onError)==null||d.call(g,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(v=(x=this.mutateOptions).onSettled)==null||v.call(x,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:b})=>{b(this.currentResult)})})}};var FC={exports:{}},BC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pc=L;function ZI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JI=typeof Object.is=="function"?Object.is:ZI,e7=pc.useState,t7=pc.useEffect,n7=pc.useLayoutEffect,r7=pc.useDebugValue;function i7(e,t){var n=t(),r=e7({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return n7(function(){i.value=n,i.getSnapshot=t,U1(i)&&a({inst:i})},[e,n,t]),t7(function(){return U1(i)&&a({inst:i}),e(function(){U1(i)&&a({inst:i})})},[e]),r7(n),n}function U1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!JI(e,n)}catch{return!0}}function s7(e,t){return t()}var a7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s7:i7;BC.useSyncExternalStore=pc.useSyncExternalStore!==void 0?pc.useSyncExternalStore:a7;FC.exports=BC;var o7=FC.exports;const UC=o7.useSyncExternalStore,Rw=L.createContext(void 0),zC=L.createContext(!1);function WC(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Rw),window.ReactQueryClientContext):Rw)}const Zn=({context:e}={})=>{const t=L.useContext(WC(e,L.useContext(zC)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},l7=({client:e,children:t,context:n,contextSharing:r=!1})=>{L.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=WC(n,r);return L.createElement(zC.Provider,{value:!n&&r},L.createElement(i.Provider,{value:e},t))},HC=L.createContext(!1),c7=()=>L.useContext(HC);HC.Provider;function u7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const d7=L.createContext(u7()),f7=()=>L.useContext(d7);function qC(e,t){return typeof e=="function"?e(...t):!!e}const h7=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},p7=e=>{L.useEffect(()=>{e.clearReset()},[e])},m7=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&qC(n,[e.error,r]),g7=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},x7=(e,t)=>e.isLoading&&e.isFetching&&!t,v7=(e,t,n)=>(e==null?void 0:e.suspense)&&x7(t,n),y7=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function VC(e,t){const n=Zn({context:e.context}),r=c7(),i=f7(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=Mn.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Mn.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Mn.batchCalls(a.onSettled)),g7(a),h7(a,i),p7(i);const[d]=L.useState(()=>new t(n,a)),g=d.getOptimisticResult(a);if(UC(L.useCallback(v=>{const x=r?()=>{}:d.subscribe(Mn.batchCalls(v));return d.updateResult(),x},[d,r]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),L.useEffect(()=>{d.setOptions(a,{listeners:!1})},[a,d]),v7(a,g,r))throw y7(a,d,i);if(m7({result:g,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:d.getCurrentQuery()}))throw g.error;return a.notifyOnChangeProps?g:d.trackResult(g)}function kt(e,t,n){const r=Kl(e,t,n);return VC(r,PC)}function Yn(e,t,n){const r=jI(e,t,n),i=Zn({context:r.context}),[a]=L.useState(()=>new KI(i,r));L.useEffect(()=>{a.setOptions(r)},[a,r]);const d=UC(L.useCallback(v=>a.subscribe(Mn.batchCalls(v)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),g=L.useCallback((v,x)=>{a.mutate(v,x).catch(w7)},[a]);if(d.error&&qC(a.options.useErrorBoundary,[d.error]))throw d.error;return{...d,mutate:g,mutateAsync:d.mutate}}function w7(){}function Lx(e,t,n){const r=Kl(e,t,n);return VC(r,QI)}function YC(e,t){return function(){return e.apply(t,arguments)}}const{toString:b7}=Object.prototype,{getPrototypeOf:Px}=Object,{iterator:Bh,toStringTag:GC}=Symbol,Uh=(e=>t=>{const n=b7.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ds=e=>(e=e.toLowerCase(),t=>Uh(t)===e),zh=e=>t=>typeof t===e,{isArray:Ic}=Array,sd=zh("undefined");function C7(e){return e!==null&&!sd(e)&&e.constructor!==null&&!sd(e.constructor)&&ii(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $C=ds("ArrayBuffer");function E7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$C(e.buffer),t}const N7=zh("string"),ii=zh("function"),XC=zh("number"),Wh=e=>e!==null&&typeof e=="object",_7=e=>e===!0||e===!1,u0=e=>{if(Uh(e)!=="object")return!1;const t=Px(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(GC in e)&&!(Bh in e)},S7=ds("Date"),A7=ds("File"),T7=ds("Blob"),k7=ds("FileList"),D7=e=>Wh(e)&&ii(e.pipe),I7=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ii(e.append)&&((t=Uh(e))==="formdata"||t==="object"&&ii(e.toString)&&e.toString()==="[object FormData]"))},R7=ds("URLSearchParams"),[O7,j7,M7,L7]=["ReadableStream","Request","Response","Headers"].map(ds),P7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Ic(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),d=a.length;let g;for(r=0;r<d;r++)g=a[r],t.call(null,e[g],g,e)}}function QC(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Go=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),KC=e=>!sd(e)&&e!==Go;function ig(){const{caseless:e}=KC(this)&&this||{},t={},n=(r,i)=>{const a=e&&QC(t,i)||i;u0(t[a])&&u0(r)?t[a]=ig(t[a],r):u0(r)?t[a]=ig({},r):Ic(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&vd(arguments[r],n);return t}const F7=(e,t,n,{allOwnKeys:r}={})=>(vd(t,(i,a)=>{n&&ii(i)?e[a]=YC(i,n):e[a]=i},{allOwnKeys:r}),e),B7=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),U7=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},z7=(e,t,n,r)=>{let i,a,d;const g={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)d=i[a],(!r||r(d,e,t))&&!g[d]&&(t[d]=e[d],g[d]=!0);e=n!==!1&&Px(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},W7=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},H7=e=>{if(!e)return null;if(Ic(e))return e;let t=e.length;if(!XC(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},q7=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Px(Uint8Array)),V7=(e,t)=>{const r=(e&&e[Bh]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Y7=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},G7=ds("HTMLFormElement"),$7=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Ow=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),X7=ds("RegExp"),ZC=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};vd(n,(i,a)=>{let d;(d=t(i,a,e))!==!1&&(r[a]=d||i)}),Object.defineProperties(e,r)},Q7=e=>{ZC(e,(t,n)=>{if(ii(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ii(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},K7=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Ic(e)?r(e):r(String(e).split(t)),n},Z7=()=>{},J7=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function eR(e){return!!(e&&ii(e.append)&&e[GC]==="FormData"&&e[Bh])}const tR=e=>{const t=new Array(10),n=(r,i)=>{if(Wh(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const a=Ic(r)?[]:{};return vd(r,(d,g)=>{const v=n(d,i+1);!sd(v)&&(a[g]=v)}),t[i]=void 0,a}}return r};return n(e,0)},nR=ds("AsyncFunction"),rR=e=>e&&(Wh(e)||ii(e))&&ii(e.then)&&ii(e.catch),JC=((e,t)=>e?setImmediate:t?((n,r)=>(Go.addEventListener("message",({source:i,data:a})=>{i===Go&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Go.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ii(Go.postMessage)),iR=typeof queueMicrotask<"u"?queueMicrotask.bind(Go):typeof process<"u"&&process.nextTick||JC,sR=e=>e!=null&&ii(e[Bh]),pe={isArray:Ic,isArrayBuffer:$C,isBuffer:C7,isFormData:I7,isArrayBufferView:E7,isString:N7,isNumber:XC,isBoolean:_7,isObject:Wh,isPlainObject:u0,isReadableStream:O7,isRequest:j7,isResponse:M7,isHeaders:L7,isUndefined:sd,isDate:S7,isFile:A7,isBlob:T7,isRegExp:X7,isFunction:ii,isStream:D7,isURLSearchParams:R7,isTypedArray:q7,isFileList:k7,forEach:vd,merge:ig,extend:F7,trim:P7,stripBOM:B7,inherits:U7,toFlatObject:z7,kindOf:Uh,kindOfTest:ds,endsWith:W7,toArray:H7,forEachEntry:V7,matchAll:Y7,isHTMLForm:G7,hasOwnProperty:Ow,hasOwnProp:Ow,reduceDescriptors:ZC,freezeMethods:Q7,toObjectSet:K7,toCamelCase:$7,noop:Z7,toFiniteNumber:J7,findKey:QC,global:Go,isContextDefined:KC,isSpecCompliantForm:eR,toJSONObject:tR,isAsyncFn:nR,isThenable:rR,setImmediate:JC,asap:iR,isIterable:sR};function ht(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const eE=ht.prototype,tE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tE[e]={value:e}});Object.defineProperties(ht,tE);Object.defineProperty(eE,"isAxiosError",{value:!0});ht.from=(e,t,n,r,i,a)=>{const d=Object.create(eE);return pe.toFlatObject(e,d,function(v){return v!==Error.prototype},g=>g!=="isAxiosError"),ht.call(d,e.message,t,n,r,i),d.cause=e,d.name=e.name,a&&Object.assign(d,a),d};const aR=null;function sg(e){return pe.isPlainObject(e)||pe.isArray(e)}function nE(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function jw(e,t,n){return e?e.concat(t).map(function(i,a){return i=nE(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function oR(e){return pe.isArray(e)&&!e.some(sg)}const lR=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Hh(e,t,n){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,M){return!pe.isUndefined(M[R])});const r=n.metaTokens,i=n.visitor||b,a=n.dots,d=n.indexes,v=(n.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function x(A){if(A===null)return"";if(pe.isDate(A))return A.toISOString();if(!v&&pe.isBlob(A))throw new ht("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(A)||pe.isTypedArray(A)?v&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function b(A,R,M){let I=A;if(A&&!M&&typeof A=="object"){if(pe.endsWith(R,"{}"))R=r?R:R.slice(0,-2),A=JSON.stringify(A);else if(pe.isArray(A)&&oR(A)||(pe.isFileList(A)||pe.endsWith(R,"[]"))&&(I=pe.toArray(A)))return R=nE(R),I.forEach(function(O,q){!(pe.isUndefined(O)||O===null)&&t.append(d===!0?jw([R],q,a):d===null?R:R+"[]",x(O))}),!1}return sg(A)?!0:(t.append(jw(M,R,a),x(A)),!1)}const E=[],_=Object.assign(lR,{defaultVisitor:b,convertValue:x,isVisitable:sg});function k(A,R){if(!pe.isUndefined(A)){if(E.indexOf(A)!==-1)throw Error("Circular reference detected in "+R.join("."));E.push(A),pe.forEach(A,function(I,D){(!(pe.isUndefined(I)||I===null)&&i.call(t,I,pe.isString(D)?D.trim():D,R,_))===!0&&k(I,R?R.concat(D):[D])}),E.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return k(e),t}function Mw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Fx(e,t){this._pairs=[],e&&Hh(e,this,t)}const rE=Fx.prototype;rE.append=function(t,n){this._pairs.push([t,n])};rE.toString=function(t){const n=t?function(r){return t.call(this,r,Mw)}:Mw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function cR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iE(e,t,n){if(!t)return e;const r=n&&n.encode||cR;pe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=pe.isURLSearchParams(t)?t.toString():new Fx(t,n).toString(r),a){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class uR{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Lw=uR,sE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dR=typeof URLSearchParams<"u"?URLSearchParams:Fx,fR=typeof FormData<"u"?FormData:null,hR=typeof Blob<"u"?Blob:null,pR={isBrowser:!0,classes:{URLSearchParams:dR,FormData:fR,Blob:hR},protocols:["http","https","file","blob","url","data"]},Bx=typeof window<"u"&&typeof document<"u",ag=typeof navigator=="object"&&navigator||void 0,mR=Bx&&(!ag||["ReactNative","NativeScript","NS"].indexOf(ag.product)<0),gR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),xR=Bx&&window.location.href||"http://localhost",vR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bx,hasStandardBrowserEnv:mR,hasStandardBrowserWebWorkerEnv:gR,navigator:ag,origin:xR},Symbol.toStringTag,{value:"Module"})),Ir={...vR,...pR};function yR(e,t){return Hh(e,new Ir.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return Ir.isNode&&pe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function wR(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bR(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function aE(e){function t(n,r,i,a){let d=n[a++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),v=a>=n.length;return d=!d&&pe.isArray(i)?i.length:d,v?(pe.hasOwnProp(i,d)?i[d]=[i[d],r]:i[d]=r,!g):((!i[d]||!pe.isObject(i[d]))&&(i[d]=[]),t(n,r,i[d],a)&&pe.isArray(i[d])&&(i[d]=bR(i[d])),!g)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const n={};return pe.forEachEntry(e,(r,i)=>{t(wR(r),i,n,0)}),n}return null}function CR(e,t,n){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ux={transitional:sE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=pe.isObject(t);if(a&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return i?JSON.stringify(aE(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yR(t,this.formSerializer).toString();if((g=pe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Hh(g?{"files[]":t}:t,v&&new v,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),CR(t)):t}],transformResponse:[function(t){const n=this.transitional||Ux.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(r&&!this.responseType||i)){const d=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(g){if(d)throw g.name==="SyntaxError"?ht.from(g,ht.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ir.classes.FormData,Blob:Ir.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{Ux.headers[e]={}});const zx=Ux,ER=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NR=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(d){i=d.indexOf(":"),n=d.substring(0,i).trim().toLowerCase(),r=d.substring(i+1).trim(),!(!n||t[n]&&ER[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Pw=Symbol("internals");function yu(e){return e&&String(e).trim().toLowerCase()}function d0(e){return e===!1||e==null?e:pe.isArray(e)?e.map(d0):String(e)}function _R(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const SR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function z1(e,t,n,r,i){if(pe.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!pe.isString(t)){if(pe.isString(r))return t.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(t)}}function AR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function TR(e,t){const n=pe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,d){return this[r].call(this,t,i,a,d)},configurable:!0})})}class qh{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(g,v,x){const b=yu(v);if(!b)throw new Error("header name must be a non-empty string");const E=pe.findKey(i,b);(!E||i[E]===void 0||x===!0||x===void 0&&i[E]!==!1)&&(i[E||v]=d0(g))}const d=(g,v)=>pe.forEach(g,(x,b)=>a(x,b,v));if(pe.isPlainObject(t)||t instanceof this.constructor)d(t,n);else if(pe.isString(t)&&(t=t.trim())&&!SR(t))d(NR(t),n);else if(pe.isObject(t)&&pe.isIterable(t)){let g={},v,x;for(const b of t){if(!pe.isArray(b))throw TypeError("Object iterator must return a key-value pair");g[x=b[0]]=(v=g[x])?pe.isArray(v)?[...v,b[1]]:[v,b[1]]:b[1]}d(g,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=yu(t),t){const r=pe.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return _R(i);if(pe.isFunction(n))return n.call(this,i,r);if(pe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=yu(t),t){const r=pe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||z1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(d){if(d=yu(d),d){const g=pe.findKey(r,d);g&&(!n||z1(r,r[g],g,n))&&(delete r[g],i=!0)}}return pe.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||z1(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return pe.forEach(this,(i,a)=>{const d=pe.findKey(r,a);if(d){n[d]=d0(i),delete n[a];return}const g=t?AR(a):String(a).trim();g!==a&&delete n[a],n[g]=d0(i),r[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&pe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Pw]=this[Pw]={accessors:{}}).accessors,i=this.prototype;function a(d){const g=yu(d);r[g]||(TR(i,d),r[g]=!0)}return pe.isArray(t)?t.forEach(a):a(t),this}}qh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(qh.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});pe.freezeMethods(qh);const as=qh;function W1(e,t){const n=this||zx,r=t||n,i=as.from(r.headers);let a=r.data;return pe.forEach(e,function(g){a=g.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function oE(e){return!!(e&&e.__CANCEL__)}function Rc(e,t,n){ht.call(this,e??"canceled",ht.ERR_CANCELED,t,n),this.name="CanceledError"}pe.inherits(Rc,ht,{__CANCEL__:!0});function lE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ht("Request failed with status code "+n.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function kR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function DR(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,d;return t=t!==void 0?t:1e3,function(v){const x=Date.now(),b=r[a];d||(d=x),n[i]=v,r[i]=x;let E=a,_=0;for(;E!==i;)_+=n[E++],E=E%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),x-d<t)return;const k=b&&x-b;return k?Math.round(_*1e3/k):void 0}}function IR(e,t){let n=0,r=1e3/t,i,a;const d=(x,b=Date.now())=>{n=b,i=null,a&&(clearTimeout(a),a=null),e.apply(null,x)};return[(...x)=>{const b=Date.now(),E=b-n;E>=r?d(x,b):(i=x,a||(a=setTimeout(()=>{a=null,d(i)},r-E)))},()=>i&&d(i)]}const Z0=(e,t,n=3)=>{let r=0;const i=DR(50,250);return IR(a=>{const d=a.loaded,g=a.lengthComputable?a.total:void 0,v=d-r,x=i(v),b=d<=g;r=d;const E={loaded:d,total:g,progress:g?d/g:void 0,bytes:v,rate:x||void 0,estimated:x&&g&&b?(g-d)/x:void 0,event:a,lengthComputable:g!=null,[t?"download":"upload"]:!0};e(E)},n)},Fw=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Bw=e=>(...t)=>pe.asap(()=>e(...t)),RR=Ir.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ir.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ir.origin),Ir.navigator&&/(msie|trident)/i.test(Ir.navigator.userAgent)):()=>!0,OR=Ir.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const d=[e+"="+encodeURIComponent(t)];pe.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),pe.isString(r)&&d.push("path="+r),pe.isString(i)&&d.push("domain="+i),a===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function MR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cE(e,t,n){let r=!jR(t);return e&&(r||n==!1)?MR(e,t):t}const Uw=e=>e instanceof as?{...e}:e;function ll(e,t){t=t||{};const n={};function r(x,b,E,_){return pe.isPlainObject(x)&&pe.isPlainObject(b)?pe.merge.call({caseless:_},x,b):pe.isPlainObject(b)?pe.merge({},b):pe.isArray(b)?b.slice():b}function i(x,b,E,_){if(pe.isUndefined(b)){if(!pe.isUndefined(x))return r(void 0,x,E,_)}else return r(x,b,E,_)}function a(x,b){if(!pe.isUndefined(b))return r(void 0,b)}function d(x,b){if(pe.isUndefined(b)){if(!pe.isUndefined(x))return r(void 0,x)}else return r(void 0,b)}function g(x,b,E){if(E in t)return r(x,b);if(E in e)return r(void 0,x)}const v={url:a,method:a,data:a,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(x,b,E)=>i(Uw(x),Uw(b),E,!0)};return pe.forEach(Object.keys(Object.assign({},e,t)),function(b){const E=v[b]||i,_=E(e[b],t[b],b);pe.isUndefined(_)&&E!==g||(n[b]=_)}),n}const uE=e=>{const t=ll({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:d,auth:g}=t;t.headers=d=as.from(d),t.url=iE(cE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let v;if(pe.isFormData(n)){if(Ir.hasStandardBrowserEnv||Ir.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((v=d.getContentType())!==!1){const[x,...b]=v?v.split(";").map(E=>E.trim()).filter(Boolean):[];d.setContentType([x||"multipart/form-data",...b].join("; "))}}if(Ir.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(t)),r||r!==!1&&RR(t.url))){const x=i&&a&&OR.read(a);x&&d.set(i,x)}return t},LR=typeof XMLHttpRequest<"u",PR=LR&&function(e){return new Promise(function(n,r){const i=uE(e);let a=i.data;const d=as.from(i.headers).normalize();let{responseType:g,onUploadProgress:v,onDownloadProgress:x}=i,b,E,_,k,A;function R(){k&&k(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(b),i.signal&&i.signal.removeEventListener("abort",b)}let M=new XMLHttpRequest;M.open(i.method.toUpperCase(),i.url,!0),M.timeout=i.timeout;function I(){if(!M)return;const O=as.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),Q={data:!g||g==="text"||g==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:O,config:e,request:M};lE(function(j){n(j),R()},function(j){r(j),R()},Q),M=null}"onloadend"in M?M.onloadend=I:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(I)},M.onabort=function(){M&&(r(new ht("Request aborted",ht.ECONNABORTED,e,M)),M=null)},M.onerror=function(){r(new ht("Network Error",ht.ERR_NETWORK,e,M)),M=null},M.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Q=i.transitional||sE;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),r(new ht(q,Q.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,e,M)),M=null},a===void 0&&d.setContentType(null),"setRequestHeader"in M&&pe.forEach(d.toJSON(),function(q,Q){M.setRequestHeader(Q,q)}),pe.isUndefined(i.withCredentials)||(M.withCredentials=!!i.withCredentials),g&&g!=="json"&&(M.responseType=i.responseType),x&&([_,A]=Z0(x,!0),M.addEventListener("progress",_)),v&&M.upload&&([E,k]=Z0(v),M.upload.addEventListener("progress",E),M.upload.addEventListener("loadend",k)),(i.cancelToken||i.signal)&&(b=O=>{M&&(r(!O||O.type?new Rc(null,e,M):O),M.abort(),M=null)},i.cancelToken&&i.cancelToken.subscribe(b),i.signal&&(i.signal.aborted?b():i.signal.addEventListener("abort",b)));const D=kR(i.url);if(D&&Ir.protocols.indexOf(D)===-1){r(new ht("Unsupported protocol "+D+":",ht.ERR_BAD_REQUEST,e));return}M.send(a||null)})},FR=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(x){if(!i){i=!0,g();const b=x instanceof Error?x:this.reason;r.abort(b instanceof ht?b:new Rc(b instanceof Error?b.message:b))}};let d=t&&setTimeout(()=>{d=null,a(new ht(`timeout ${t} of ms exceeded`,ht.ETIMEDOUT))},t);const g=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(a):x.removeEventListener("abort",a)}),e=null)};e.forEach(x=>x.addEventListener("abort",a));const{signal:v}=r;return v.unsubscribe=()=>pe.asap(g),v}},BR=FR,UR=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},zR=async function*(e,t){for await(const n of WR(e))yield*UR(n,t)},WR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},zw=(e,t,n,r)=>{const i=zR(e,t);let a=0,d,g=v=>{d||(d=!0,r&&r(v))};return new ReadableStream({async pull(v){try{const{done:x,value:b}=await i.next();if(x){g(),v.close();return}let E=b.byteLength;if(n){let _=a+=E;n(_)}v.enqueue(new Uint8Array(b))}catch(x){throw g(x),x}},cancel(v){return g(v),i.return()}},{highWaterMark:2})},Vh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dE=Vh&&typeof ReadableStream=="function",HR=Vh&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},qR=dE&&fE(()=>{let e=!1;const t=new Request(Ir.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ww=64*1024,og=dE&&fE(()=>pe.isReadableStream(new Response("").body)),J0={stream:og&&(e=>e.body)};Vh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!J0[t]&&(J0[t]=pe.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ht(`Response type '${t}' is not supported`,ht.ERR_NOT_SUPPORT,r)})})})(new Response);const VR=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(Ir.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await HR(e)).byteLength},YR=async(e,t)=>{const n=pe.toFiniteNumber(e.getContentLength());return n??VR(t)},GR=Vh&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:d,onDownloadProgress:g,onUploadProgress:v,responseType:x,headers:b,withCredentials:E="same-origin",fetchOptions:_}=uE(e);x=x?(x+"").toLowerCase():"text";let k=BR([i,a&&a.toAbortSignal()],d),A;const R=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let M;try{if(v&&qR&&n!=="get"&&n!=="head"&&(M=await YR(b,r))!==0){let Q=new Request(t,{method:"POST",body:r,duplex:"half"}),z;if(pe.isFormData(r)&&(z=Q.headers.get("content-type"))&&b.setContentType(z),Q.body){const[j,G]=Fw(M,Z0(Bw(v)));r=zw(Q.body,Ww,j,G)}}pe.isString(E)||(E=E?"include":"omit");const I="credentials"in Request.prototype;A=new Request(t,{..._,signal:k,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:r,duplex:"half",credentials:I?E:void 0});let D=await fetch(A);const O=og&&(x==="stream"||x==="response");if(og&&(g||O&&R)){const Q={};["status","statusText","headers"].forEach(H=>{Q[H]=D[H]});const z=pe.toFiniteNumber(D.headers.get("content-length")),[j,G]=g&&Fw(z,Z0(Bw(g),!0))||[];D=new Response(zw(D.body,Ww,j,()=>{G&&G(),R&&R()}),Q)}x=x||"text";let q=await J0[pe.findKey(J0,x)||"text"](D,e);return!O&&R&&R(),await new Promise((Q,z)=>{lE(Q,z,{data:q,headers:as.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:A})})}catch(I){throw R&&R(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,e,A),{cause:I.cause||I}):ht.from(I,I&&I.code,e,A)}}),lg={http:aR,xhr:PR,fetch:GR};pe.forEach(lg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Hw=e=>`- ${e}`,$R=e=>pe.isFunction(e)||e===null||e===!1,hE={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){n=e[a];let d;if(r=n,!$R(n)&&(r=lg[(d=String(n)).toLowerCase()],r===void 0))throw new ht(`Unknown adapter '${d}'`);if(r)break;i[d||"#"+a]=r}if(!r){const a=Object.entries(i).map(([g,v])=>`adapter ${g} `+(v===!1?"is not supported by the environment":"is not available in the build"));let d=t?a.length>1?`since :
`+a.map(Hw).join(`
`):" "+Hw(a[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:lg};function H1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rc(null,e)}function qw(e){return H1(e),e.headers=as.from(e.headers),e.data=W1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hE.getAdapter(e.adapter||zx.adapter)(e).then(function(r){return H1(e),r.data=W1.call(e,e.transformResponse,r),r.headers=as.from(r.headers),r},function(r){return oE(r)||(H1(e),r&&r.response&&(r.response.data=W1.call(e,e.transformResponse,r.response),r.response.headers=as.from(r.response.headers))),Promise.reject(r)})}const pE="1.9.0",Yh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yh[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Vw={};Yh.transitional=function(t,n,r){function i(a,d){return"[Axios v"+pE+"] Transitional option '"+a+"'"+d+(r?". "+r:"")}return(a,d,g)=>{if(t===!1)throw new ht(i(d," has been removed"+(n?" in "+n:"")),ht.ERR_DEPRECATED);return n&&!Vw[d]&&(Vw[d]=!0,console.warn(i(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,d,g):!0}};Yh.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function XR(e,t,n){if(typeof e!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],d=t[a];if(d){const g=e[a],v=g===void 0||d(g,a,e);if(v!==!0)throw new ht("option "+a+" must be "+v,ht.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ht("Unknown option "+a,ht.ERR_BAD_OPTION)}}const f0={assertOptions:XR,validators:Yh},ys=f0.validators;class eh{constructor(t){this.defaults=t||{},this.interceptors={request:new Lw,response:new Lw}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ll(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&f0.assertOptions(r,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1),i!=null&&(pe.isFunction(i)?n.paramsSerializer={serialize:i}:f0.assertOptions(i,{encode:ys.function,serialize:ys.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),f0.assertOptions(n,{baseUrl:ys.spelling("baseURL"),withXsrfToken:ys.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=a&&pe.merge(a.common,a[n.method]);a&&pe.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),n.headers=as.concat(d,a);const g=[];let v=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(v=v&&R.synchronous,g.unshift(R.fulfilled,R.rejected))});const x=[];this.interceptors.response.forEach(function(R){x.push(R.fulfilled,R.rejected)});let b,E=0,_;if(!v){const A=[qw.bind(this),void 0];for(A.unshift.apply(A,g),A.push.apply(A,x),_=A.length,b=Promise.resolve(n);E<_;)b=b.then(A[E++],A[E++]);return b}_=g.length;let k=n;for(E=0;E<_;){const A=g[E++],R=g[E++];try{k=A(k)}catch(M){R.call(this,M);break}}try{b=qw.call(this,k)}catch(A){return Promise.reject(A)}for(E=0,_=x.length;E<_;)b=b.then(x[E++],x[E++]);return b}getUri(t){t=ll(this.defaults,t);const n=cE(t.baseURL,t.url,t.allowAbsoluteUrls);return iE(n,t.params,t.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(t){eh.prototype[t]=function(n,r){return this.request(ll(r||{},{method:t,url:n,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function n(r){return function(a,d,g){return this.request(ll(g||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:d}))}}eh.prototype[t]=n(),eh.prototype[t+"Form"]=n(!0)});const h0=eh;class Wx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const d=new Promise(g=>{r.subscribe(g),a=g}).then(i);return d.cancel=function(){r.unsubscribe(a)},d},t(function(a,d,g){r.reason||(r.reason=new Rc(a,d,g),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Wx(function(i){t=i}),cancel:t}}}const QR=Wx;function KR(e){return function(n){return e.apply(null,n)}}function ZR(e){return pe.isObject(e)&&e.isAxiosError===!0}const cg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cg).forEach(([e,t])=>{cg[t]=e});const JR=cg;function mE(e){const t=new h0(e),n=YC(h0.prototype.request,t);return pe.extend(n,h0.prototype,t,{allOwnKeys:!0}),pe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return mE(ll(e,i))},n}const Kn=mE(zx);Kn.Axios=h0;Kn.CanceledError=Rc;Kn.CancelToken=QR;Kn.isCancel=oE;Kn.VERSION=pE;Kn.toFormData=Hh;Kn.AxiosError=ht;Kn.Cancel=Kn.CanceledError;Kn.all=function(t){return Promise.all(t)};Kn.spread=KR;Kn.isAxiosError=ZR;Kn.mergeConfig=ll;Kn.AxiosHeaders=as;Kn.formToJSON=e=>aE(pe.isHTMLForm(e)?new FormData(e):e);Kn.getAdapter=hE.getAdapter;Kn.HttpStatusCode=JR;Kn.default=Kn;const it=Kn,gE=L.createContext(),Jn=()=>L.useContext(gE),eO=({children:e})=>{const[t,n]=L.useState(null),[r,i]=L.useState(localStorage.getItem("token")),[a,d]=L.useState(!0),[g,v]=L.useState(null);L.useEffect(()=>{r?it.defaults.headers.common.Authorization=`Bearer ${r}`:delete it.defaults.headers.common.Authorization},[r]),L.useEffect(()=>{const q=async()=>{if(!r){d(!1);return}try{const z=await it.get("/api/auth/me");n(z.data.user),v(null)}catch(z){console.error("Token verification failed:",z),z.response&&z.response.status===401?(b(),v("Session expired. Please log in again.")):v("Error verifying session. Please try again.")}finally{d(!1)}};q();const Q=setInterval(()=>{r&&q()},60*60*1e3);return()=>{clearInterval(Q)}},[r]);const x=async(q,Q)=>{var z,j;try{d(!0);const G=await it.post("/api/auth/login",{username:q,password:Q}),{token:H,user:se}=G.data;return localStorage.setItem("token",H),it.defaults.headers.common.Authorization=`Bearer ${H}`,i(H),n(se),v(null),se}catch(G){throw console.error("Login error:",G),v(((j=(z=G.response)==null?void 0:z.data)==null?void 0:j.message)||"Login failed"),G}finally{d(!1)}},b=()=>{localStorage.removeItem("token"),i(null),n(null),delete it.defaults.headers.common.Authorization},O={user:t,token:r,loading:a,error:g,login:x,logout:b,register:async q=>{var Q,z;try{return d(!0),(await it.post("/api/auth/register",q)).data}catch(j){throw console.error("Register error:",j),v(((z=(Q=j.response)==null?void 0:Q.data)==null?void 0:z.message)||"Registration failed"),j}finally{d(!1)}},isAdmin:()=>(t==null?void 0:t.role)==="admin",isAdvanced:()=>(t==null?void 0:t.role)==="advanced",isBasic:()=>(t==null?void 0:t.role)==="basic",canEditEquipment:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="advanced",isImpersonating:()=>!!(t!=null&&t.impersonated),impersonateUser:async q=>{var Q,z;try{d(!0);const j=await it.post(`/api/auth/impersonate/${q}`),{token:G,user:H}=j.data;return localStorage.setItem("token",G),i(G),n(H),v(null),H}catch(j){throw console.error("Impersonation error:",j),v(((z=(Q=j.response)==null?void 0:Q.data)==null?void 0:z.message)||"Impersonation failed"),j}finally{d(!1)}},getUsers:async()=>{var q,Q;try{return(await it.get("/api/auth/users")).data.users}catch(z){throw console.error("Get users error:",z),v(((Q=(q=z.response)==null?void 0:q.data)==null?void 0:Q.message)||"Failed to get users"),z}}};return c.jsx(gE.Provider,{value:O,children:e})};function xE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=xE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function wn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=xE(e))&&(r&&(r+=" "),r+=t);return r}function tO(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}tO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var yd=e=>typeof e=="number"&&!isNaN(e),cl=e=>typeof e=="string",ga=e=>typeof e=="function",nO=e=>cl(e)||yd(e),ug=e=>cl(e)||ga(e)?e:null,rO=(e,t)=>e===!1||yd(e)&&e>0?e:t,dg=e=>L.isValidElement(e)||cl(e)||ga(e)||yd(e);function iO(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function sO({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:d,preventExitTransition:g,done:v,nodeRef:x,isIn:b,playToast:E}){let _=n?`${e}--${d}`:e,k=n?`${t}--${d}`:t,A=L.useRef(0);return L.useLayoutEffect(()=>{let R=x.current,M=_.split(" "),I=D=>{D.target===x.current&&(E(),R.removeEventListener("animationend",I),R.removeEventListener("animationcancel",I),A.current===0&&D.type!=="animationcancel"&&R.classList.remove(...M))};R.classList.add(...M),R.addEventListener("animationend",I),R.addEventListener("animationcancel",I)},[]),L.useEffect(()=>{let R=x.current,M=()=>{R.removeEventListener("animationend",M),r?iO(R,v,i):v()};b||(g?M():(A.current=1,R.className+=` ${k}`,R.addEventListener("animationend",M)))},[b]),ue.createElement(ue.Fragment,null,a)}}function Yw(e,t){return{content:vE(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function vE(e,t,n=!1){return L.isValidElement(e)&&!cl(e.type)?L.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ga(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function aO({closeToast:e,theme:t,ariaLabel:n="close"}){return ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function oO({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:a,controlledProgress:d,progress:g,rtl:v,isIn:x,theme:b}){let E=i||d&&g===0,_={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};d&&(_.transform=`scaleX(${g})`);let k=wn("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":v}),A=ga(a)?a({rtl:v,type:r,defaultClassName:k}):wn(k,a),R={[d&&g>=1?"onTransitionEnd":"onAnimationEnd"]:d&&g<1?null:()=>{x&&n()}};return ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${r}`}),ue.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:A,style:_,...R}))}var lO=1,yE=()=>`${lO++}`;function cO(e,t,n){let r=1,i=0,a=[],d=[],g=t,v=new Map,x=new Set,b=D=>(x.add(D),()=>x.delete(D)),E=()=>{d=Array.from(v.values()),x.forEach(D=>D())},_=({containerId:D,toastId:O,updateId:q})=>{let Q=D?D!==e:e!==1,z=v.has(O)&&q==null;return Q||z},k=(D,O)=>{v.forEach(q=>{var Q;(O==null||O===q.props.toastId)&&((Q=q.toggle)==null||Q.call(q,D))})},A=D=>{var O,q;(q=(O=D.props)==null?void 0:O.onClose)==null||q.call(O,D.removalReason),D.isActive=!1},R=D=>{if(D==null)v.forEach(A);else{let O=v.get(D);O&&A(O)}E()},M=()=>{i-=a.length,a=[]},I=D=>{var O,q;let{toastId:Q,updateId:z}=D.props,j=z==null;D.staleId&&v.delete(D.staleId),D.isActive=!0,v.set(Q,D),E(),n(Yw(D,j?"added":"updated")),j&&((q=(O=D.props).onOpen)==null||q.call(O))};return{id:e,props:g,observe:b,toggle:k,removeToast:R,toasts:v,clearQueue:M,buildToast:(D,O)=>{if(_(O))return;let{toastId:q,updateId:Q,data:z,staleId:j,delay:G}=O,H=Q==null;H&&i++;let se={...g,style:g.toastStyle,key:r++,...Object.fromEntries(Object.entries(O).filter(([ae,re])=>re!=null)),toastId:q,updateId:Q,data:z,isIn:!1,className:ug(O.className||g.toastClassName),progressClassName:ug(O.progressClassName||g.progressClassName),autoClose:O.isLoading?!1:rO(O.autoClose,g.autoClose),closeToast(ae){v.get(q).removalReason=ae,R(q)},deleteToast(){let ae=v.get(q);if(ae!=null){if(n(Yw(ae,"removed")),v.delete(q),i--,i<0&&(i=0),a.length>0){I(a.shift());return}E()}}};se.closeButton=g.closeButton,O.closeButton===!1||dg(O.closeButton)?se.closeButton=O.closeButton:O.closeButton===!0&&(se.closeButton=dg(g.closeButton)?g.closeButton:!0);let fe={content:D,props:se,staleId:j};g.limit&&g.limit>0&&i>g.limit&&H?a.push(fe):yd(G)?setTimeout(()=>{I(fe)},G):I(fe)},setProps(D){g=D},setToggle:(D,O)=>{let q=v.get(D);q&&(q.toggle=O)},isToastActive:D=>{var O;return(O=v.get(D))==null?void 0:O.isActive},getSnapshot:()=>d}}var Wr=new Map,ad=[],fg=new Set,uO=e=>fg.forEach(t=>t(e)),wE=()=>Wr.size>0;function dO(){ad.forEach(e=>CE(e.content,e.options)),ad=[]}var fO=(e,{containerId:t})=>{var n;return(n=Wr.get(t||1))==null?void 0:n.toasts.get(e)};function bE(e,t){var n;if(t)return!!((n=Wr.get(t))!=null&&n.isToastActive(e));let r=!1;return Wr.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function hO(e){if(!wE()){ad=ad.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||nO(e))Wr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Wr.get(e.containerId);t?t.removeToast(e.id):Wr.forEach(n=>{n.removeToast(e.id)})}}var pO=(e={})=>{Wr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function CE(e,t){dg(e)&&(wE()||ad.push({content:e,options:t}),Wr.forEach(n=>{n.buildToast(e,t)}))}function mO(e){var t;(t=Wr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function EE(e,t){Wr.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function gO(e){let t=e.containerId||1;return{subscribe(n){let r=cO(t,e,uO);Wr.set(t,r);let i=r.observe(n);return dO(),()=>{i(),Wr.delete(t)}},setProps(n){var r;(r=Wr.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Wr.get(t))==null?void 0:n.getSnapshot()}}}function xO(e){return fg.add(e),()=>{fg.delete(e)}}function vO(e){return e&&(cl(e.toastId)||yd(e.toastId))?e.toastId:yE()}function wd(e,t){return CE(e,t),t.toastId}function Gh(e,t){return{...t,type:t&&t.type||e,toastId:vO(t)}}function $h(e){return(t,n)=>wd(t,Gh(e,n))}function rt(e,t){return wd(e,Gh("default",t))}rt.loading=(e,t)=>wd(e,Gh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function yO(e,{pending:t,error:n,success:r},i){let a;t&&(a=cl(t)?rt.loading(t,i):rt.loading(t.render,{...i,...t}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(x,b,E)=>{if(b==null){rt.dismiss(a);return}let _={type:x,...d,...i,data:E},k=cl(b)?{render:b}:b;return a?rt.update(a,{..._,...k}):rt(k.render,{..._,...k}),E},v=ga(e)?e():e;return v.then(x=>g("success",r,x)).catch(x=>g("error",n,x)),v}rt.promise=yO;rt.success=$h("success");rt.info=$h("info");rt.error=$h("error");rt.warning=$h("warning");rt.warn=rt.warning;rt.dark=(e,t)=>wd(e,Gh("default",{theme:"dark",...t}));function wO(e){hO(e)}rt.dismiss=wO;rt.clearWaitingQueue=pO;rt.isActive=bE;rt.update=(e,t={})=>{let n=fO(e,t);if(n){let{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:yE()};a.toastId!==e&&(a.staleId=e);let d=a.render||i;delete a.render,wd(d,a)}};rt.done=e=>{rt.update(e,{progress:1})};rt.onChange=xO;rt.play=e=>EE(!0,e);rt.pause=e=>EE(!1,e);function bO(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=L.useRef(gO(e)).current;i(e);let a=(t=L.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function d(g){if(!a)return[];let v=new Map;return e.newestOnTop&&a.reverse(),a.forEach(x=>{let{position:b}=x.props;v.has(b)||v.set(b,[]),v.get(b).push(x)}),Array.from(v,x=>g(x[0],x[1]))}return{getToastToRender:d,isToastActive:bE,count:a==null?void 0:a.length}}function CO(e){let[t,n]=L.useState(!1),[r,i]=L.useState(!1),a=L.useRef(null),d=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:g,pauseOnHover:v,closeToast:x,onClick:b,closeOnClick:E}=e;mO({id:e.toastId,containerId:e.containerId,fn:n}),L.useEffect(()=>{if(e.pauseOnFocusLoss)return _(),()=>{k()}},[e.pauseOnFocusLoss]);function _(){document.hasFocus()||I(),window.addEventListener("focus",M),window.addEventListener("blur",I)}function k(){window.removeEventListener("focus",M),window.removeEventListener("blur",I)}function A(j){if(e.draggable===!0||e.draggable===j.pointerType){D();let G=a.current;d.canCloseOnClick=!0,d.canDrag=!0,G.style.transition="none",e.draggableDirection==="x"?(d.start=j.clientX,d.removalDistance=G.offsetWidth*(e.draggablePercent/100)):(d.start=j.clientY,d.removalDistance=G.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function R(j){let{top:G,bottom:H,left:se,right:fe}=a.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&e.pauseOnHover&&j.clientX>=se&&j.clientX<=fe&&j.clientY>=G&&j.clientY<=H?I():M()}function M(){n(!0)}function I(){n(!1)}function D(){d.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",Q)}function O(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",Q)}function q(j){let G=a.current;if(d.canDrag&&G){d.didMove=!0,t&&I(),e.draggableDirection==="x"?d.delta=j.clientX-d.start:d.delta=j.clientY-d.start,d.start!==j.clientX&&(d.canCloseOnClick=!1);let H=e.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;G.style.transform=`translate3d(${H},0)`,G.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Q(){O();let j=a.current;if(d.canDrag&&d.didMove&&j){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let z={onPointerDown:A,onPointerUp:R};return g&&v&&(z.onMouseEnter=I,e.stacked||(z.onMouseLeave=M)),E&&(z.onClick=j=>{b&&b(j),d.canCloseOnClick&&x(!0)}),{playToast:M,pauseToast:I,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:z}}var EO=typeof window<"u"?L.useLayoutEffect:L.useEffect,Xh=({theme:e,type:t,isLoading:n,...r})=>ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function NO(e){return ue.createElement(Xh,{...e},ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function _O(e){return ue.createElement(Xh,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function SO(e){return ue.createElement(Xh,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function AO(e){return ue.createElement(Xh,{...e},ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function TO(){return ue.createElement("div",{className:"Toastify__spinner"})}var hg={info:_O,warning:NO,success:SO,error:AO,spinner:TO},kO=e=>e in hg;function DO({theme:e,type:t,isLoading:n,icon:r}){let i=null,a={theme:e,type:t};return r===!1||(ga(r)?i=r({...a,isLoading:n}):L.isValidElement(r)?i=L.cloneElement(r,a):n?i=hg.spinner():kO(t)&&(i=hg[t](a))),i}var IO=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=CO(e),{closeButton:d,children:g,autoClose:v,onClick:x,type:b,hideProgressBar:E,closeToast:_,transition:k,position:A,className:R,style:M,progressClassName:I,updateId:D,role:O,progress:q,rtl:Q,toastId:z,deleteToast:j,isIn:G,isLoading:H,closeOnClick:se,theme:fe,ariaLabel:ae}=e,re=wn("Toastify__toast",`Toastify__toast-theme--${fe}`,`Toastify__toast--${b}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":se}),ve=ga(R)?R({rtl:Q,position:A,type:b,defaultClassName:re}):wn(re,R),ee=DO(e),ge=!!q||!v,me={closeToast:_,type:b,theme:fe},ce=null;return d===!1||(ga(d)?ce=d(me):L.isValidElement(d)?ce=L.cloneElement(d,me):ce=aO(me)),ue.createElement(k,{isIn:G,done:j,position:A,preventExitTransition:n,nodeRef:r,playToast:a},ue.createElement("div",{id:z,tabIndex:0,onClick:x,"data-in":G,className:ve,...i,style:M,ref:r,...G&&{role:O,"aria-label":ae}},ee!=null&&ue.createElement("div",{className:wn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},ee),vE(g,e,!t),ce,!e.customProgressBar&&ue.createElement(oO,{...D&&!ge?{key:`p-${D}`}:{},rtl:Q,theme:fe,delay:v,isRunning:t,isIn:G,closeToast:_,hide:E,type:b,className:I,controlledProgress:ge,progress:q||0})))},RO=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),OO=sO(RO("bounce",!0)),jO={position:"top-right",transition:OO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Qh(e){let t={...jO,...e},n=e.stacked,[r,i]=L.useState(!0),a=L.useRef(null),{getToastToRender:d,isToastActive:g,count:v}=bO(t),{className:x,style:b,rtl:E,containerId:_,hotKeys:k}=t;function A(M){let I=wn("Toastify__toast-container",`Toastify__toast-container--${M}`,{"Toastify__toast-container--rtl":E});return ga(x)?x({position:M,rtl:E,defaultClassName:I}):wn(I,ug(x))}function R(){n&&(i(!0),rt.play())}return EO(()=>{var M;if(n){let I=a.current.querySelectorAll('[data-in="true"]'),D=12,O=(M=t.position)==null?void 0:M.includes("top"),q=0,Q=0;Array.from(I).reverse().forEach((z,j)=>{let G=z;G.classList.add("Toastify__toast--stacked"),j>0&&(G.dataset.collapsed=`${r}`),G.dataset.pos||(G.dataset.pos=O?"top":"bot");let H=q*(r?.2:1)+(r?0:D*j);G.style.setProperty("--y",`${O?H:H*-1}px`),G.style.setProperty("--g",`${D}`),G.style.setProperty("--s",`${1-(r?Q:0)}`),q+=G.offsetHeight,Q+=.025})}},[r,v,n]),L.useEffect(()=>{function M(I){var D;let O=a.current;k(I)&&((D=O.querySelector('[tabIndex="0"]'))==null||D.focus(),i(!1),rt.pause()),I.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(i(!0),rt.play())}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[k]),ue.createElement("section",{ref:a,className:"Toastify",id:_,onMouseEnter:()=>{n&&(i(!1),rt.pause())},onMouseLeave:R,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},d((M,I)=>{let D=I.length?{...b}:{...b,pointerEvents:"none"};return ue.createElement("div",{tabIndex:-1,className:A(M),"data-stacked":n,style:D,key:`c-${M}`},I.map(({content:O,props:q})=>ue.createElement(IO,{...q,stacked:n,collapseAll:R,isIn:g(q.toastId,q.containerId),key:`t-${q.key}`},O)))}))}var NE={exports:{}},MO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LO=MO,PO=LO;function _E(){}function SE(){}SE.resetWarningCache=_E;var FO=function(){function e(r,i,a,d,g,v){if(v!==PO){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:SE,resetWarningCache:_E};return n.PropTypes=n,n};NE.exports=FO();var BO=NE.exports;const te=wh(BO),Jo=async({page:e=1,limit:t=10,type:n,brand:r,status:i,location_id:a,search:d,sortBy:g="updated_at",sortOrder:v="desc",startDate:x,endDate:b})=>{const E={page:e,limit:t};return n&&(E.type=n),r&&(E.brand=r),i&&(E.status=i),a&&(E.location_id=a),d&&(E.search=d),g&&(E.sortBy=g),v&&(E.sortOrder=v),x&&(E.startDate=x),b&&(E.endDate=b),(await it.get("/api/equipment",{params:E})).data},Kh=async e=>(await it.get(`/api/equipment/${e}`)).data,Hx=async(e,t=[],n=null)=>{const r=new FormData;if(!e.type_id)throw console.error("Missing required field: type_id"),new Error("Equipment type is required");if(!e.brand)throw console.error("Missing required field: brand"),new Error("Brand is required");if(!e.model)throw console.error("Missing required field: model"),new Error("Model is required");if(!e.serial_number)throw console.error("Missing required field: serial_number"),new Error("Serial number is required");const i=Object.fromEntries(Object.entries(e).filter(([a,d])=>d!==void 0));console.log("Creating equipment with data:",i),Object.keys(i).forEach(a=>{a==="type_id"&&typeof i[a]=="string"?r.append(a,parseInt(i[a],10)):r.append(a,i[a])}),n&&r.append("referenceImage",n),t&&t.length>0&&t.forEach(a=>{r.append("files",a)});try{return(await it.post("/api/equipment",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error in createEquipment:",a),a}},AE=async(e,t,n=[],r=[],i=null,a=!1)=>{try{const d=new FormData,g=Object.fromEntries(Object.entries(t).filter(([b,E])=>E!==void 0));console.log("Full equipment data:",t);const v=["location_id","type_id"];return Object.keys(g).forEach(b=>{b!=="reference_image_id"&&(v.includes(b)&&(g[b]===""||g[b]==="0")?(d.append(b,""),d.append(`${b}_is_null`,"true")):d.append(b,g[b]))}),i&&d.append("referenceImage",i),a&&d.append("removeReferenceImage","true"),n&&n.length>0&&n.forEach(b=>{d.append("files",b)}),r&&r.length>0&&d.append("filesToDelete",JSON.stringify(r)),console.log("Updating equipment with data:",g),console.log("Files to delete:",r),console.log("Reference image file:",i?i.name:"None"),console.log("Remove reference image:",a),(await it.put(`/api/equipment/${e}`,d,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(d){throw console.error("Error in updateEquipment:",d),d}},UO=async e=>(await it.delete(`/api/equipment/${e}`)).data,TE=async e=>{try{console.log(`Deleting file with ID: ${e}`);const t=await it.delete(`/api/files/${e}`);return console.log("File deletion response:",t.data),t.data}catch(t){throw console.error(`Error deleting file with ID ${e}:`,t),t}},th=(e,t=!1,n=!0)=>{if(!e)return null;const r=`/api/files/${e}`;let i=t?`${r}?thumbnail=true`:r;return n&&(i+=(i.includes("?")?"&":"?")+`t=${new Date().getTime()}`),i},zO=async(e,t)=>{try{return console.log(`Updating equipment ${e} status to ${t}`),(await it.patch(`/api/equipment/${e}/status`,{status:t})).data}catch(n){throw console.error("Error updating equipment status:",n),n}},WO=async(e,t)=>{try{return console.log(`Updating equipment ${e} location:`,t),(await it.patch(`/api/equipment/${e}/location`,t)).data}catch(n){throw console.error("Error updating equipment location:",n),n}},HO=async(e,t)=>{try{return console.log(`Updating equipment ${e} type to ${t}`),(await it.patch(`/api/equipment/${e}/type`,{type_id:t})).data}catch(n){throw console.error("Error updating equipment type:",n),n}},qO=async(e,t)=>{try{return console.log(`Updating equipment ${e} category to ${t}`),(await it.patch(`/api/equipment/${e}/category`,{category_id:t})).data}catch(n){throw console.error("Error updating equipment category:",n),n}},VO=async(e,t)=>{try{return console.log(`Updating equipment ${e} brand/model:`,t),(await it.patch(`/api/equipment/${e}/brand-model`,t)).data}catch(n){throw console.error("Error updating equipment brand/model:",n),n}},js=async()=>{try{return(await it.get("/api/equipment-types")).data}catch(e){throw console.error("Error fetching equipment types:",e),e}},YO=async e=>(await it.post("/api/equipment-types",{name:e})).data,GO=async(e,t)=>(await it.put(`/api/equipment-types/${e}`,{name:t})).data,$O=async e=>(await it.delete(`/api/equipment-types/${e}`)).data,kE=L.createContext(),XO=3,DE=({children:e})=>{const[t,n]=L.useState([]),{user:r}=Jn(),i=(r==null?void 0:r.role)==="admin",{data:a}=kt(["equipment",{limit:1e3}],()=>Jo({limit:1e3}),{enabled:i,refetchInterval:5*60*1e3,staleTime:4*60*1e3}),{data:d}=kt({queryKey:["equipment-types"],queryFn:js,staleTime:3e5,enabled:i});L.useEffect(()=>{if(!i||!(a!=null&&a.equipment)||!(d!=null&&d.types))return;const A=a.equipment,R=d.types,M={};A.forEach(D=>{D.type&&(M[D.type]||(M[D.type]=[]),M[D.type].push(D))});const I=[];Object.entries(M).forEach(([D,O])=>{const q=O.filter(Q=>Q.status==="available");if(q.length<=XO){const Q=R.find(z=>z.name.toLowerCase()===D.toLowerCase());I.push({id:`low-stock-${D}`,type:"warning",title:"Low Stock Alert",message:`Only ${q.length} ${D} ${q.length===1?"item is":"items are"} available.`,timestamp:new Date,read:!1,typeId:Q==null?void 0:Q.id})}}),I.length>0&&n(D=>[...D.filter(q=>!q.id.startsWith("low-stock-")),...I])},[a,d,i]);const g=A=>{n(R=>[...R,{id:A.id||`notification-${Date.now()}`,timestamp:new Date,read:!1,...A}])},v=A=>{n(R=>R.map(M=>M.id===A?{...M,read:!0}:M))},x=()=>{n(A=>A.map(R=>({...R,read:!0})))},b=A=>{n(R=>R.filter(M=>M.id!==A))},E=()=>{n([])},_=t.filter(A=>!A.read).length,k={notifications:t,unreadCount:_,addNotification:g,markAsRead:v,markAllAsRead:x,removeNotification:b,clearNotifications:E};return c.jsx(kE.Provider,{value:k,children:e})};DE.propTypes={children:te.node.isRequired};const QO=()=>{const e=L.useContext(kE);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},KO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),ZO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),JO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),IE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),ej=({className:e="w-5 h-5"})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Gw=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),RE=({className:e="w-5 h-5"})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),qx=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125"})}),Vx=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),Yx=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})}),tj=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),nj=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),Gx=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),$w=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),rj=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),ij=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75a2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),OE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),sj=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),aj=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),jE=6048e5,oj=864e5,Zh=6e4,Jh=36e5,lj=1e3,Wf=43200,Xw=1440,Qw=Symbol.for("constructDateFrom");function Wt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Qw in e?e[Qw](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ue(e,t){return Wt(t||e,e)}function os(e,t,n){const r=Ue(e,n==null?void 0:n.in);return isNaN(t)?Wt((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function cs(e,t,n){const r=Ue(e,n==null?void 0:n.in);if(isNaN(t))return Wt((n==null?void 0:n.in)||e,NaN);if(!t)return r;const i=r.getDate(),a=Wt((n==null?void 0:n.in)||e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const d=a.getDate();return i>=d?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function ME(e,t,n){return Wt((n==null?void 0:n.in)||e,+Ue(e)+t)}function cj(e,t,n){return ME(e,t*Jh,n)}let uj={};function mo(){return uj}function xa(e,t){var g,v,x,b;const n=mo(),r=(t==null?void 0:t.weekStartsOn)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,i=Ue(e,t==null?void 0:t.in),a=i.getDay(),d=(a<r?7:0)+a-r;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function mc(e,t){return xa(e,{...t,weekStartsOn:1})}function LE(e,t){const n=Ue(e,t==null?void 0:t.in),r=n.getFullYear(),i=Wt(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=mc(i),d=Wt(n,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const g=mc(d);return n.getTime()>=a.getTime()?r+1:n.getTime()>=g.getTime()?r:r-1}function gc(e){const t=Ue(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function fs(e,...t){const n=Wt.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function ul(e,t){const n=Ue(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function xc(e,t,n){const[r,i]=fs(n==null?void 0:n.in,e,t),a=ul(r),d=ul(i),g=+a-gc(a),v=+d-gc(d);return Math.round((g-v)/oj)}function dj(e,t){const n=LE(e,t),r=Wt((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),mc(r)}function pg(e,t,n){const r=Ue(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*Zh),r}function $x(e,t,n){return cs(e,t*3,n)}function fj(e,t,n){return ME(e,t*1e3,n)}function nh(e,t,n){return os(e,t*7,n)}function oa(e,t,n){return cs(e,t*12,n)}function Kw(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Wt.bind(null,i));const a=Ue(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),Wt(r,n||NaN)}function Zw(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Wt.bind(null,i));const a=Ue(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),Wt(r,n||NaN)}function p0(e,t){const n=+Ue(e)-+Ue(t);return n<0?-1:n>0?1:n}function hj(e){return Wt(e,Date.now())}function pj(e,t,n){const[r,i]=fs(n==null?void 0:n.in,e,t);return+ul(r)==+ul(i)}function la(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rh(e){return!(!la(e)&&typeof e!="number"||isNaN(+Ue(e)))}function od(e,t,n){const[r,i]=fs(n==null?void 0:n.in,e,t),a=r.getFullYear()-i.getFullYear(),d=r.getMonth()-i.getMonth();return a*12+d}function el(e,t){const n=Ue(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function ih(e,t,n){const[r,i]=fs(n==null?void 0:n.in,e,t),a=r.getFullYear()-i.getFullYear(),d=el(r)-el(i);return a*4+d}function sh(e,t,n){const[r,i]=fs(n==null?void 0:n.in,e,t);return r.getFullYear()-i.getFullYear()}function mj(e,t,n){const[r,i]=fs(n==null?void 0:n.in,e,t),a=Jw(r,i),d=Math.abs(xc(r,i));r.setDate(r.getDate()-a*d);const g=+(Jw(r,i)===-a),v=a*(d-g);return v===0?0:v}function Jw(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function gj(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function xj(e,t){return+Ue(e)-+Ue(t)}function Xx(e,t){const n=Ue(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function Qx(e,t){const n=Ue(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function vj(e,t){const n=Ue(e,t==null?void 0:t.in);return+Xx(n,t)==+Qx(n,t)}function yj(e,t,n){const[r,i,a]=fs(n==null?void 0:n.in,e,e,t),d=p0(i,a),g=Math.abs(od(i,a));if(g<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-d*g);let v=p0(i,a)===-d;vj(r)&&g===1&&p0(r,a)===1&&(v=!1);const x=d*(g-+v);return x===0?0:x}function wj(e,t,n){const r=xj(e,t)/1e3;return gj(n==null?void 0:n.roundingMethod)(r)}function mg(e,t){const n=Ue(e,t==null?void 0:t.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function PE(e,t){const n=Ue(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function FE(e,t){const n=Ue(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function ep(e,t){const n=Ue(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bj(e,t){var g,v,x,b;const n=mo(),r=(t==null?void 0:t.weekStartsOn)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,i=Ue(e,t==null?void 0:t.in),a=i.getDay(),d=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}const Cj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ej=(e,t,n)=>{let r;const i=Cj[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function q1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Nj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_j={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Aj={date:q1({formats:Nj,defaultWidth:"full"}),time:q1({formats:_j,defaultWidth:"full"}),dateTime:q1({formats:Sj,defaultWidth:"full"})},Tj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kj=(e,t,n,r)=>Tj[e];function wu(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,g=n!=null&&n.width?String(n.width):d;i=e.formattingValues[g]||e.formattingValues[d]}else{const d=e.defaultWidth,g=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[g]||e.values[d]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Dj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ij={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Oj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lj=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pj={ordinalNumber:Lj,era:wu({values:Dj,defaultWidth:"wide"}),quarter:wu({values:Ij,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wu({values:Rj,defaultWidth:"wide"}),day:wu({values:Oj,defaultWidth:"wide"}),dayPeriod:wu({values:jj,defaultWidth:"wide",formattingValues:Mj,defaultFormattingWidth:"wide"})};function bu(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const d=a[0],g=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(g)?Bj(g,E=>E.test(d)):Fj(g,E=>E.test(d));let x;x=e.valueCallback?e.valueCallback(v):v,x=n.valueCallback?n.valueCallback(x):x;const b=t.slice(d.length);return{value:x,rest:b}}}function Fj(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Bj(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Uj(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let d=e.valueCallback?e.valueCallback(a[0]):a[0];d=n.valueCallback?n.valueCallback(d):d;const g=t.slice(i.length);return{value:d,rest:g}}}const zj=/^(\d+)(th|st|nd|rd)?/i,Wj=/\d+/i,Hj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qj={any:[/^b/i,/^(a|c)/i]},Vj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yj={any:[/1/i,/2/i,/3/i,/4/i]},Gj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$j={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jj={ordinalNumber:Uj({matchPattern:zj,parsePattern:Wj,valueCallback:e=>parseInt(e,10)}),era:bu({matchPatterns:Hj,defaultMatchWidth:"wide",parsePatterns:qj,defaultParseWidth:"any"}),quarter:bu({matchPatterns:Vj,defaultMatchWidth:"wide",parsePatterns:Yj,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bu({matchPatterns:Gj,defaultMatchWidth:"wide",parsePatterns:$j,defaultParseWidth:"any"}),day:bu({matchPatterns:Xj,defaultMatchWidth:"wide",parsePatterns:Qj,defaultParseWidth:"any"}),dayPeriod:bu({matchPatterns:Kj,defaultMatchWidth:"any",parsePatterns:Zj,defaultParseWidth:"any"})},Kx={code:"en-US",formatDistance:Ej,formatLong:Aj,formatRelative:kj,localize:Pj,match:Jj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eM(e,t){const n=Ue(e,t==null?void 0:t.in);return xc(n,ep(n))+1}function Zx(e,t){const n=Ue(e,t==null?void 0:t.in),r=+mc(n)-+dj(n);return Math.round(r/jE)+1}function Jx(e,t){var b,E,_,k;const n=Ue(e,t==null?void 0:t.in),r=n.getFullYear(),i=mo(),a=(t==null?void 0:t.firstWeekContainsDate)??((E=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??i.firstWeekContainsDate??((k=(_=i.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=Wt((t==null?void 0:t.in)||e,0);d.setFullYear(r+1,0,a),d.setHours(0,0,0,0);const g=xa(d,t),v=Wt((t==null?void 0:t.in)||e,0);v.setFullYear(r,0,a),v.setHours(0,0,0,0);const x=xa(v,t);return+n>=+g?r+1:+n>=+x?r:r-1}function tM(e,t){var g,v,x,b;const n=mo(),r=(t==null?void 0:t.firstWeekContainsDate)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.firstWeekContainsDate)??1,i=Jx(e,t),a=Wt((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),xa(a,t)}function BE(e,t){const n=Ue(e,t==null?void 0:t.in),r=+xa(n,t)-+tM(n,t);return Math.round(r/jE)+1}function $t(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const La={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return $t(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):$t(n+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $t(i,t.length)}},Pl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return La.y(e,t)},Y:function(e,t,n,r){const i=Jx(e,r),a=i>0?i:1-i;if(t==="YY"){const d=a%100;return $t(d,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):$t(a,t.length)},R:function(e,t){const n=LE(e);return $t(n,t.length)},u:function(e,t){const n=e.getFullYear();return $t(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return La.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=BE(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):$t(i,t.length)},I:function(e,t,n){const r=Zx(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):La.d(e,t)},D:function(e,t,n){const r=eM(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return $t(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return $t(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return $t(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Pl.noon:r===0?i=Pl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Pl.evening:r>=12?i=Pl.afternoon:r>=4?i=Pl.morning:i=Pl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return La.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):La.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):La.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):La.s(e,t)},S:function(e,t){return La.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return nb(r);case"XXXX":case"XX":return zo(r);case"XXXXX":case"XXX":default:return zo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return nb(r);case"xxxx":case"xx":return zo(r);case"xxxxx":case"xxx":default:return zo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tb(r,":");case"OOOO":default:return"GMT"+zo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tb(r,":");case"zzzz":default:return"GMT"+zo(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return $t(r,t.length)},T:function(e,t,n){return $t(+e,t.length)}};function tb(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+$t(a,2)}function nb(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):zo(e,t)}function zo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=$t(Math.trunc(r/60),2),a=$t(r%60,2);return n+i+t+a}const rb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},UE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nM=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return rb(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",rb(r,t)).replace("{{time}}",UE(i,t))},gg={p:UE,P:nM},rM=/^D+$/,iM=/^Y+$/,sM=["D","DD","YY","YYYY"];function zE(e){return rM.test(e)}function WE(e){return iM.test(e)}function xg(e,t,n){const r=aM(e,t,n);if(console.warn(r),sM.includes(e))throw new RangeError(r)}function aM(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cM=/^'([^]*?)'?$/,uM=/''/g,dM=/[a-zA-Z]/;function ld(e,t,n){var b,E,_,k,A,R,M,I;const r=mo(),i=(n==null?void 0:n.locale)??r.locale??Kx,a=(n==null?void 0:n.firstWeekContainsDate)??((E=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(_=r.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((R=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:R.weekStartsOn)??r.weekStartsOn??((I=(M=r.locale)==null?void 0:M.options)==null?void 0:I.weekStartsOn)??0,g=Ue(e,n==null?void 0:n.in);if(!rh(g))throw new RangeError("Invalid time value");let v=t.match(lM).map(D=>{const O=D[0];if(O==="p"||O==="P"){const q=gg[O];return q(D,i.formatLong)}return D}).join("").match(oM).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const O=D[0];if(O==="'")return{isToken:!1,value:fM(D)};if(eb[O])return{isToken:!0,value:D};if(O.match(dM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:D}});i.localize.preprocessor&&(v=i.localize.preprocessor(g,v));const x={firstWeekContainsDate:a,weekStartsOn:d,locale:i};return v.map(D=>{if(!D.isToken)return D.value;const O=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&WE(O)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&zE(O))&&xg(O,t,String(e));const q=eb[O[0]];return q(g,O,i.localize,x)}).join("")}function fM(e){const t=e.match(cM);return t?t[1].replace(uM,"'"):e}function hM(e,t,n){const r=mo(),i=(n==null?void 0:n.locale)??r.locale??Kx,a=2520,d=p0(e,t);if(isNaN(d))throw new RangeError("Invalid time value");const g=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:d}),[v,x]=fs(n==null?void 0:n.in,...d>0?[t,e]:[e,t]),b=wj(x,v),E=(gc(x)-gc(v))/1e3,_=Math.round((b-E)/60);let k;if(_<2)return n!=null&&n.includeSeconds?b<5?i.formatDistance("lessThanXSeconds",5,g):b<10?i.formatDistance("lessThanXSeconds",10,g):b<20?i.formatDistance("lessThanXSeconds",20,g):b<40?i.formatDistance("halfAMinute",0,g):b<60?i.formatDistance("lessThanXMinutes",1,g):i.formatDistance("xMinutes",1,g):_===0?i.formatDistance("lessThanXMinutes",1,g):i.formatDistance("xMinutes",_,g);if(_<45)return i.formatDistance("xMinutes",_,g);if(_<90)return i.formatDistance("aboutXHours",1,g);if(_<Xw){const A=Math.round(_/60);return i.formatDistance("aboutXHours",A,g)}else{if(_<a)return i.formatDistance("xDays",1,g);if(_<Wf){const A=Math.round(_/Xw);return i.formatDistance("xDays",A,g)}else if(_<Wf*2)return k=Math.round(_/Wf),i.formatDistance("aboutXMonths",k,g)}if(k=yj(x,v),k<12){const A=Math.round(_/Wf);return i.formatDistance("xMonths",A,g)}else{const A=k%12,R=Math.trunc(k/12);return A<3?i.formatDistance("aboutXYears",R,g):A<9?i.formatDistance("overXYears",R,g):i.formatDistance("almostXYears",R+1,g)}}function pM(e,t){return hM(e,hj(e),t)}function ib(e,t){return Ue(e,t==null?void 0:t.in).getDate()}function mM(e,t){return Ue(e,t==null?void 0:t.in).getDay()}function gM(e,t){const n=Ue(e,t==null?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),a=Wt(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function xM(){return Object.assign({},mo())}function ca(e,t){return Ue(e,t==null?void 0:t.in).getHours()}function vM(e,t){const n=Ue(e,t==null?void 0:t.in).getDay();return n===0?7:n}function ua(e,t){return Ue(e,t==null?void 0:t.in).getMinutes()}function Rr(e,t){return Ue(e,t==null?void 0:t.in).getMonth()}function io(e){return Ue(e).getSeconds()}function vg(e){return+Ue(e)}function vt(e,t){return Ue(e,t==null?void 0:t.in).getFullYear()}function lo(e,t){return+Ue(e)>+Ue(t)}function dl(e,t){return+Ue(e)<+Ue(t)}function yM(e,t){return+Ue(e)==+Ue(t)}function wM(e,t){const n=bM(t)?new t(0):Wt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function bM(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const CM=10;class HE{constructor(){Pe(this,"subPriority",0)}validate(t,n){return!0}}class EM extends HE{constructor(t,n,r,i,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class NM extends HE{constructor(n,r){super();Pe(this,"priority",CM);Pe(this,"subPriority",-1);this.context=n||(i=>Wt(r,i))}set(n,r){return r.timestampIsSet?n:Wt(n,wM(n,this.context))}}class Pt{run(t,n,r,i){const a=this.parse(t,n,r,i);return a?{setter:new EM(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class _M extends Pt{constructor(){super(...arguments);Pe(this,"priority",140);Pe(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},As={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qn(e,t){return e&&{value:t(e.value),rest:e.rest}}function _n(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ts(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:r*(i*Jh+a*Zh+d*lj),rest:t.slice(n[0].length)}}function qE(e){return _n(Hn.anyDigitsSigned,e)}function Ln(e,t){switch(e){case 1:return _n(Hn.singleDigit,t);case 2:return _n(Hn.twoDigits,t);case 3:return _n(Hn.threeDigits,t);case 4:return _n(Hn.fourDigits,t);default:return _n(new RegExp("^\\d{1,"+e+"}"),t)}}function ah(e,t){switch(e){case 1:return _n(Hn.singleDigitSigned,t);case 2:return _n(Hn.twoDigitsSigned,t);case 3:return _n(Hn.threeDigitsSigned,t);case 4:return _n(Hn.fourDigitsSigned,t);default:return _n(new RegExp("^-?\\d{1,"+e+"}"),t)}}function e2(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function VE(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const a=r+50,d=Math.trunc(a/100)*100,g=e>=a%100;i=e+d-(g?100:0)}return n?i:1-i}function YE(e){return e%400===0||e%4===0&&e%100!==0}class SM extends Pt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const a=d=>({year:d,isTwoDigitYear:r==="yy"});switch(r){case"y":return qn(Ln(4,n),a);case"yo":return qn(i.ordinalNumber(n,{unit:"year"}),a);default:return qn(Ln(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const a=n.getFullYear();if(i.isTwoDigitYear){const g=VE(i.year,a);return n.setFullYear(g,0,1),n.setHours(0,0,0,0),n}const d=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class AM extends Pt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const a=d=>({year:d,isTwoDigitYear:r==="YY"});switch(r){case"Y":return qn(Ln(4,n),a);case"Yo":return qn(i.ordinalNumber(n,{unit:"year"}),a);default:return qn(Ln(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,a){const d=Jx(n,a);if(i.isTwoDigitYear){const v=VE(i.year,d);return n.setFullYear(v,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),xa(n,a)}const g=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(g,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),xa(n,a)}}class TM extends Pt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return ah(r==="R"?4:r.length,n)}set(n,r,i){const a=Wt(n,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),mc(a)}}class kM extends Pt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return ah(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class DM extends Pt{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Ln(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class IM extends Pt{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Ln(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class RM extends Pt{constructor(){super(...arguments);Pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pe(this,"priority",110)}parse(n,r,i){const a=d=>d-1;switch(r){case"M":return qn(_n(Hn.month,n),a);case"MM":return qn(Ln(2,n),a);case"Mo":return qn(i.ordinalNumber(n,{unit:"month"}),a);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class OM extends Pt{constructor(){super(...arguments);Pe(this,"priority",110);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const a=d=>d-1;switch(r){case"L":return qn(_n(Hn.month,n),a);case"LL":return qn(Ln(2,n),a);case"Lo":return qn(i.ordinalNumber(n,{unit:"month"}),a);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function jM(e,t,n){const r=Ue(e,n==null?void 0:n.in),i=BE(r,n)-t;return r.setDate(r.getDate()-i*7),Ue(r,n==null?void 0:n.in)}class MM extends Pt{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return _n(Hn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Ln(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,a){return xa(jM(n,i,a),a)}}function LM(e,t,n){const r=Ue(e,n==null?void 0:n.in),i=Zx(r,n)-t;return r.setDate(r.getDate()-i*7),r}class PM extends Pt{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return _n(Hn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Ln(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return mc(LM(n,i))}}const FM=[31,28,31,30,31,30,31,31,30,31,30,31],BM=[31,29,31,30,31,30,31,31,30,31,30,31];class UM extends Pt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subPriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return _n(Hn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Ln(r.length,n)}}validate(n,r){const i=n.getFullYear(),a=YE(i),d=n.getMonth();return a?r>=1&&r<=BM[d]:r>=1&&r<=FM[d]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class zM extends Pt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subpriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return _n(Hn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Ln(r.length,n)}}validate(n,r){const i=n.getFullYear();return YE(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function t2(e,t,n){var E,_,k,A;const r=mo(),i=(n==null?void 0:n.weekStartsOn)??((_=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((A=(k=r.locale)==null?void 0:k.options)==null?void 0:A.weekStartsOn)??0,a=Ue(e,n==null?void 0:n.in),d=a.getDay(),v=(t%7+7)%7,x=7-i,b=t<0||t>6?t-(d+x)%7:(v+x)%7-(d+x)%7;return os(a,b,n)}class WM extends Pt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=t2(n,i,a),n.setHours(0,0,0,0),n}}class HM extends Pt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,a){const d=g=>{const v=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+v};switch(r){case"e":case"ee":return qn(Ln(r.length,n),d);case"eo":return qn(i.ordinalNumber(n,{unit:"day"}),d);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=t2(n,i,a),n.setHours(0,0,0,0),n}}class qM extends Pt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,a){const d=g=>{const v=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+v};switch(r){case"c":case"cc":return qn(Ln(r.length,n),d);case"co":return qn(i.ordinalNumber(n,{unit:"day"}),d);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=t2(n,i,a),n.setHours(0,0,0,0),n}}function VM(e,t,n){const r=Ue(e,n==null?void 0:n.in),i=vM(r,n),a=t-i;return os(r,a,n)}class YM extends Pt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const a=d=>d===0?7:d;switch(r){case"i":case"ii":return Ln(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return qn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a);case"iiiii":return qn(i.day(n,{width:"narrow",context:"formatting"}),a);case"iiiiii":return qn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a);case"iiii":default:return qn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=VM(n,i),n.setHours(0,0,0,0),n}}class GM extends Pt{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(e2(i),0,0,0),n}}class $M extends Pt{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(e2(i),0,0,0),n}}class XM extends Pt{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(e2(i),0,0,0),n}}class QM extends Pt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return _n(Hn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Ln(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const a=n.getHours()>=12;return a&&i<12?n.setHours(i+12,0,0,0):!a&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class KM extends Pt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return _n(Hn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Ln(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class ZM extends Pt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return _n(Hn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Ln(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class JM extends Pt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return _n(Hn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Ln(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const a=i<=24?i%24:i;return n.setHours(a,0,0,0),n}}class e9 extends Pt{constructor(){super(...arguments);Pe(this,"priority",60);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return _n(Hn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Ln(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class t9 extends Pt{constructor(){super(...arguments);Pe(this,"priority",50);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return _n(Hn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Ln(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class n9 extends Pt{constructor(){super(...arguments);Pe(this,"priority",30);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return qn(Ln(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class r9 extends Pt{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Ts(As.basicOptionalMinutes,n);case"XX":return Ts(As.basic,n);case"XXXX":return Ts(As.basicOptionalSeconds,n);case"XXXXX":return Ts(As.extendedOptionalSeconds,n);case"XXX":default:return Ts(As.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Wt(n,n.getTime()-gc(n)-i)}}class i9 extends Pt{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Ts(As.basicOptionalMinutes,n);case"xx":return Ts(As.basic,n);case"xxxx":return Ts(As.basicOptionalSeconds,n);case"xxxxx":return Ts(As.extendedOptionalSeconds,n);case"xxx":default:return Ts(As.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Wt(n,n.getTime()-gc(n)-i)}}class s9 extends Pt{constructor(){super(...arguments);Pe(this,"priority",40);Pe(this,"incompatibleTokens","*")}parse(n){return qE(n)}set(n,r,i){return[Wt(n,i*1e3),{timestampIsSet:!0}]}}class a9 extends Pt{constructor(){super(...arguments);Pe(this,"priority",20);Pe(this,"incompatibleTokens","*")}parse(n){return qE(n)}set(n,r,i){return[Wt(n,i),{timestampIsSet:!0}]}}const o9={G:new _M,y:new SM,Y:new AM,R:new TM,u:new kM,Q:new DM,q:new IM,M:new RM,L:new OM,w:new MM,I:new PM,d:new UM,D:new zM,E:new WM,e:new HM,c:new qM,i:new YM,a:new GM,b:new $M,B:new XM,h:new QM,H:new KM,K:new ZM,k:new JM,m:new e9,s:new t9,S:new n9,X:new r9,x:new i9,t:new s9,T:new a9},l9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u9=/^'([^]*?)'?$/,d9=/''/g,f9=/\S/,h9=/[a-zA-Z]/;function p9(e,t,n,r){var M,I,D,O,q,Q,z,j;const i=()=>Wt((r==null?void 0:r.in)||n,NaN),a=xM(),d=(r==null?void 0:r.locale)??a.locale??Kx,g=(r==null?void 0:r.firstWeekContainsDate)??((I=(M=r==null?void 0:r.locale)==null?void 0:M.options)==null?void 0:I.firstWeekContainsDate)??a.firstWeekContainsDate??((O=(D=a.locale)==null?void 0:D.options)==null?void 0:O.firstWeekContainsDate)??1,v=(r==null?void 0:r.weekStartsOn)??((Q=(q=r==null?void 0:r.locale)==null?void 0:q.options)==null?void 0:Q.weekStartsOn)??a.weekStartsOn??((j=(z=a.locale)==null?void 0:z.options)==null?void 0:j.weekStartsOn)??0;if(!t)return e?i():Ue(n,r==null?void 0:r.in);const x={firstWeekContainsDate:g,weekStartsOn:v,locale:d},b=[new NM(r==null?void 0:r.in,n)],E=t.match(c9).map(G=>{const H=G[0];if(H in gg){const se=gg[H];return se(G,d.formatLong)}return G}).join("").match(l9),_=[];for(let G of E){!(r!=null&&r.useAdditionalWeekYearTokens)&&WE(G)&&xg(G,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&zE(G)&&xg(G,t,e);const H=G[0],se=o9[H];if(se){const{incompatibleTokens:fe}=se;if(Array.isArray(fe)){const re=_.find(ve=>fe.includes(ve.token)||ve.token===H);if(re)throw new RangeError(`The format string mustn't contain \`${re.fullToken}\` and \`${G}\` at the same time`)}else if(se.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${G}\` and any other token at the same time`);_.push({token:H,fullToken:G});const ae=se.run(e,G,d.match,x);if(!ae)return i();b.push(ae.setter),e=ae.rest}else{if(H.match(h9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");if(G==="''"?G="'":H==="'"&&(G=m9(G)),e.indexOf(G)===0)e=e.slice(G.length);else return i()}}if(e.length>0&&f9.test(e))return i();const k=b.map(G=>G.priority).sort((G,H)=>H-G).filter((G,H,se)=>se.indexOf(G)===H).map(G=>b.filter(H=>H.priority===G).sort((H,se)=>se.subPriority-H.subPriority)).map(G=>G[0]);let A=Ue(n,r==null?void 0:r.in);if(isNaN(+A))return i();const R={};for(const G of k){if(!G.validate(A,x))return i();const H=G.set(A,R,x);Array.isArray(H)?(A=H[0],Object.assign(R,H[1])):A=H}return A}function m9(e){return e.match(u9)[1].replace(d9,"'")}function g9(e,t,n){const[r,i]=fs(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function x9(e,t,n){const[r,i]=fs(n==null?void 0:n.in,e,t);return+mg(r)==+mg(i)}function v9(e,t,n){const[r,i]=fs(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function cd(e,t,n){const r=+Ue(e,n==null?void 0:n.in),[i,a]=[+Ue(t.start,n==null?void 0:n.in),+Ue(t.end,n==null?void 0:n.in)].sort((d,g)=>d-g);return r>=i&&r<=a}function y9(e,t,n){return os(e,-t,n)}function w9(e,t){const n=()=>Wt(t==null?void 0:t.in,NaN),r=(t==null?void 0:t.additionalDigits)??2,i=N9(e);let a;if(i.date){const x=_9(i.date,r);a=S9(x.restDateString,x.year)}if(!a||isNaN(+a))return n();const d=+a;let g=0,v;if(i.time&&(g=A9(i.time),isNaN(g)))return n();if(i.timezone){if(v=T9(i.timezone),isNaN(v))return n()}else{const x=new Date(d+g),b=Ue(0,t==null?void 0:t.in);return b.setFullYear(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()),b.setHours(x.getUTCHours(),x.getUTCMinutes(),x.getUTCSeconds(),x.getUTCMilliseconds()),b}return Ue(d+g+v,t==null?void 0:t.in)}const Hf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},b9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,C9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,E9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function N9(e){const t={},n=e.split(Hf.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Hf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Hf.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Hf.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function _9(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function S9(e,t){if(t===null)return new Date(NaN);const n=e.match(b9);if(!n)return new Date(NaN);const r=!!n[4],i=Cu(n[1]),a=Cu(n[2])-1,d=Cu(n[3]),g=Cu(n[4]),v=Cu(n[5])-1;if(r)return O9(t,g,v)?k9(t,g,v):new Date(NaN);{const x=new Date(0);return!I9(t,a,d)||!R9(t,i)?new Date(NaN):(x.setUTCFullYear(t,a,Math.max(i,d)),x)}}function Cu(e){return e?parseInt(e):1}function A9(e){const t=e.match(C9);if(!t)return NaN;const n=V1(t[1]),r=V1(t[2]),i=V1(t[3]);return j9(n,r,i)?n*Jh+r*Zh+i*1e3:NaN}function V1(e){return e&&parseFloat(e.replace(",","."))||0}function T9(e){if(e==="Z")return 0;const t=e.match(E9);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return M9(r,i)?n*(r*Jh+i*Zh):NaN}function k9(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const D9=[31,null,31,30,31,30,31,31,30,31,30,31];function GE(e){return e%400===0||e%4===0&&e%100!==0}function I9(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(D9[t]||(GE(e)?29:28))}function R9(e,t){return t>=1&&t<=(GE(e)?366:365)}function O9(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function j9(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function M9(e,t){return t>=0&&t<=59}function Fi(e,t,n){const r=Ue(e,n==null?void 0:n.in),i=r.getFullYear(),a=r.getDate(),d=Wt((n==null?void 0:n.in)||e,0);d.setFullYear(i,t,15),d.setHours(0,0,0,0);const g=gM(d);return r.setMonth(t,Math.min(a,g)),r}function m0(e,t,n){const r=Ue(e,n==null?void 0:n.in);return r.setHours(t),r}function g0(e,t,n){const r=Ue(e,n==null?void 0:n.in);return r.setMinutes(t),r}function Fl(e,t,n){const r=Ue(e,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,a=t-i;return Fi(r,r.getMonth()+a*3)}function x0(e,t,n){const r=Ue(e,n==null?void 0:n.in);return r.setSeconds(t),r}function Es(e,t,n){const r=Ue(e,n==null?void 0:n.in);return isNaN(+r)?Wt((n==null?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function tl(e,t,n){return cs(e,-t,n)}function $E(e,t,n){return $x(e,-t,n)}function sb(e,t,n){return nh(e,-t,n)}function vc(e,t,n){return oa(e,-t,n)}const L9=()=>{const[e,t]=L.useState(!1),n=L.useRef(null),{notifications:r,unreadCount:i,markAsRead:a,markAllAsRead:d,clearNotifications:g}=QO();L.useEffect(()=>{const E=_=>{n.current&&!n.current.contains(_.target)&&t(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const v=()=>{t(!e)},x=E=>{a(E.id),t(!1)},b=E=>{switch(E){case"warning":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}};return c.jsxs("div",{className:"relative",ref:n,children:[c.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:v,"aria-label":`Notifications ${i>0?`(${i} unread)`:""}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),i>0&&c.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:i})]}),e&&c.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:c.jsxs("div",{className:"py-2",children:[c.jsxs("div",{className:"px-4 py-2 bg-gray-100 flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:d,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),c.jsx("button",{onClick:g,className:"text-xs text-red-600 hover:text-red-800",children:"Clear all"})]})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length===0?c.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No notifications"}):r.map(E=>c.jsx("div",{className:`px-4 py-3 border-b border-gray-100 ${E.read?"":"bg-blue-50"}`,onClick:()=>x(E),children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0",children:b(E.type)}),c.jsxs("div",{className:"ml-3 w-0 flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.title}),c.jsx("p",{className:"text-sm text-gray-600",children:E.message}),E.typeId&&c.jsx(jn,{to:`/equipment?type=${E.typeId}`,className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-block",onClick:_=>_.stopPropagation(),children:"View equipment"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:pM(new Date(E.timestamp),{addSuffix:!0})})]})]})},E.id))})]})})]})},P9=({toggleSidebar:e})=>{const{user:t,logout:n,isImpersonating:r}=Jn(),i=us(),a=()=>{n(),i("/login")};return c.jsx("nav",{className:"bg-white text-slate-800 shadow-soft sticky top-0 z-30 border-b border-slate-200 h-16",children:c.jsx("div",{className:"container-app py-0",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs(jn,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[c.jsx("img",{src:"/bird-logo.svg",alt:"Theater Equipment Logo",className:"w-8 h-8"}),c.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Equipment Inventory"})]})}),t?c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center gap-3",children:[t.role==="admin"&&c.jsx(L9,{}),c.jsxs("div",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-sm flex items-center",children:[c.jsx("span",{className:"font-medium",children:t.username}),c.jsx("span",{className:"ml-1 text-xs px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full",children:t.role}),r()&&c.jsx("span",{className:"ml-1 text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded-full border border-yellow-200",children:"Impersonating"})]}),c.jsxs("button",{onClick:a,className:"nav-link text-slate-600 hover:text-red-600","aria-label":"Logout",children:[c.jsx(Gw,{}),c.jsx("span",{className:"hidden md:inline",children:r()?"End Impersonation":"Logout"})]})]})}):c.jsx("div",{className:"flex items-center",children:c.jsxs(jn,{to:"/login",className:"btn btn-primary",children:[c.jsx(Gw,{className:"rotate-180"}),c.jsx("span",{children:"Login"})]})})]})})})},F9=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:c.jsx("polyline",{points:"9 18 15 12 9 6"})}),B9=({isOpen:e,isCollapsed:t,toggleSidebar:n,toggleCollapse:r})=>{const{isAdmin:i,isAdvanced:a}=Jn(),d=kc();L.useEffect(()=>{const v=()=>{window.innerWidth<768&&e&&n(!1)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[e,n]);const g=v=>d.pathname===v;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1),style:{opacity:e?1:0}}),c.jsxs("aside",{className:`sidebar ${e?"":"sidebar-hidden"} ${t?"sidebar-collapsed":"sidebar-expanded"}`,children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[!t&&c.jsx("span",{className:"text-lg font-semibold text-slate-800",children:"Navigation"}),c.jsxs("div",{className:"flex",children:[c.jsx("button",{onClick:()=>r(!t),className:"sidebar-collapse-btn","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?c.jsx(F9,{className:"w-4 h-4"}):c.jsx(nj,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(!e),className:"sidebar-toggle-btn md:hidden","aria-label":e?"Hide sidebar":"Show sidebar",children:c.jsx(tj,{className:"w-4 h-4"})})]})]}),c.jsxs("nav",{className:"sidebar-nav",children:[c.jsxs(jn,{to:"/dashboard",className:`sidebar-nav-item ${g("/dashboard")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Dashboard",children:[c.jsx(KO,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Dashboard"})]}),c.jsxs(jn,{to:"/equipment",className:`sidebar-nav-item ${g("/equipment")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment",children:[c.jsx(ZO,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment"})]}),i()&&c.jsxs(c.Fragment,{children:[c.jsxs(jn,{to:"/admin",className:`sidebar-nav-item ${g("/admin")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Admin",children:[c.jsx(JO,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Admin"})]}),c.jsxs(jn,{to:"/equipment-logs",className:`sidebar-nav-item ${g("/equipment-logs")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment Logs",children:[c.jsx(ij,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment Logs"})]})]}),(i()||a())&&c.jsxs(jn,{to:"/equipment/new",className:`sidebar-nav-item ${g("/equipment/new")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Add Equipment",children:[c.jsx(IE,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Add Equipment"})]}),c.jsxs(jn,{to:"/settings",className:`sidebar-nav-item ${g("/settings")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Settings",children:[c.jsx(ej,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Settings"})]})]})]})]})},U9=()=>{const{user:e,isImpersonating:t,logout:n}=Jn();return t()?c.jsx("div",{className:"bg-yellow-500 text-white py-2",children:c.jsxs("div",{className:"container-app py-0 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:"Impersonation Mode:"})," You are currently viewing the application as ",e.username," (",e.role,")"]}),c.jsx("button",{onClick:n,className:"bg-white text-yellow-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-100",children:"End Impersonation"})]})}):null},z9=()=>{const[e,t]=L.useState(""),[n,r]=L.useState(""),[i,a]=L.useState(""),[d,g]=L.useState(!1),{login:v}=Jn(),x=us(),b=async E=>{var _,k;if(E.preventDefault(),!e||!n){a("Username and password are required");return}try{g(!0),a(""),await v(e,n),x("/dashboard")}catch(A){a(((k=(_=A.response)==null?void 0:_.data)==null?void 0:k.message)||"Login failed")}finally{g(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Theater Equipment Catalog"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[i&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:c.jsx("p",{className:"text-red-700",children:i})}),c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),c.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:E=>t(E.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:E=>r(E.target.value)})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-sm text-center",children:c.jsx("p",{className:"text-gray-600",children:"Default admin credentials: username: admin, password: admin123"})})]})]})})},XE=async()=>{try{return{searches:(await it.get("/api/saved-searches")).data||[]}}catch(e){return console.error("Error fetching saved searches:",e),{searches:[]}}},QE=async e=>{try{return(await it.post("/api/saved-searches",e)).data}catch(t){throw console.error("Error saving search:",t),t}},KE=async e=>{try{return(await it.delete(`/api/saved-searches/${e}`)).data}catch(t){throw console.error("Error deleting saved search:",t),t}};function tp(){return typeof window<"u"}function Oc(e){return ZE(e)?(e.nodeName||"").toLowerCase():"#document"}function wi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ms(e){var t;return(t=(ZE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ZE(e){return tp()?e instanceof Node||e instanceof wi(e).Node:!1}function Hr(e){return tp()?e instanceof Element||e instanceof wi(e).Element:!1}function Os(e){return tp()?e instanceof HTMLElement||e instanceof wi(e).HTMLElement:!1}function ab(e){return!tp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wi(e).ShadowRoot}function bd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Yi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function W9(e){return["table","td","th"].includes(Oc(e))}function np(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function n2(e){const t=r2(),n=Hr(e)?Yi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function H9(e){let t=co(e);for(;Os(t)&&!yc(t);){if(n2(t))return t;if(np(t))return null;t=co(t)}return null}function r2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yc(e){return["html","body","#document"].includes(Oc(e))}function Yi(e){return wi(e).getComputedStyle(e)}function rp(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function co(e){if(Oc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ab(e)&&e.host||Ms(e);return ab(t)?t.host:t}function JE(e){const t=co(e);return yc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Os(t)&&bd(t)?t:JE(t)}function ud(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=JE(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),d=wi(i);if(a){const g=yg(d);return t.concat(d,d.visualViewport||[],bd(i)?i:[],g&&n?ud(g):[])}return t.concat(i,ud(i,[],n))}function yg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const wc=Math.min,nl=Math.max,oh=Math.round,qf=Math.floor,Rs=e=>({x:e,y:e}),q9={left:"right",right:"left",bottom:"top",top:"bottom"},V9={start:"end",end:"start"};function Y9(e,t,n){return nl(e,wc(t,n))}function ip(e,t){return typeof e=="function"?e(t):e}function bc(e){return e.split("-")[0]}function Cd(e){return e.split("-")[1]}function G9(e){return e==="x"?"y":"x"}function i2(e){return e==="y"?"height":"width"}function $o(e){return["top","bottom"].includes(bc(e))?"y":"x"}function s2(e){return G9($o(e))}function $9(e,t,n){n===void 0&&(n=!1);const r=Cd(e),i=s2(e),a=i2(i);let d=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(d=lh(d)),[d,lh(d)]}function X9(e){const t=lh(e);return[wg(e),t,wg(t)]}function wg(e){return e.replace(/start|end/g,t=>V9[t])}function Q9(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:d;default:return[]}}function K9(e,t,n,r){const i=Cd(e);let a=Q9(bc(e),n==="start",r);return i&&(a=a.map(d=>d+"-"+i),t&&(a=a.concat(a.map(wg)))),a}function lh(e){return e.replace(/left|right|bottom|top/g,t=>q9[t])}function Z9(e){return{top:0,right:0,bottom:0,left:0,...e}}function eN(e){return typeof e!="number"?Z9(e):{top:e,right:e,bottom:e,left:e}}function ch(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var J9=typeof document<"u",eL=function(){},uh=J9?L.useLayoutEffect:eL;const tL={...Pg},nL=tL.useInsertionEffect,rL=nL||(e=>e());function iL(e){const t=L.useRef(()=>{});return rL(()=>{t.current=e}),L.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function ob(e,t,n){let{reference:r,floating:i}=e;const a=$o(t),d=s2(t),g=i2(d),v=bc(t),x=a==="y",b=r.x+r.width/2-i.width/2,E=r.y+r.height/2-i.height/2,_=r[g]/2-i[g]/2;let k;switch(v){case"top":k={x:b,y:r.y-i.height};break;case"bottom":k={x:b,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:E};break;case"left":k={x:r.x-i.width,y:E};break;default:k={x:r.x,y:r.y}}switch(Cd(t)){case"start":k[d]-=_*(n&&x?-1:1);break;case"end":k[d]+=_*(n&&x?-1:1);break}return k}const sL=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:d}=n,g=a.filter(Boolean),v=await(d.isRTL==null?void 0:d.isRTL(t));let x=await d.getElementRects({reference:e,floating:t,strategy:i}),{x:b,y:E}=ob(x,r,v),_=r,k={},A=0;for(let R=0;R<g.length;R++){const{name:M,fn:I}=g[R],{x:D,y:O,data:q,reset:Q}=await I({x:b,y:E,initialPlacement:r,placement:_,strategy:i,middlewareData:k,rects:x,platform:d,elements:{reference:e,floating:t}});b=D??b,E=O??E,k={...k,[M]:{...k[M],...q}},Q&&A<=50&&(A++,typeof Q=="object"&&(Q.placement&&(_=Q.placement),Q.rects&&(x=Q.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:i}):Q.rects),{x:b,y:E}=ob(x,_,v)),R=-1)}return{x:b,y:E,placement:_,strategy:i,middlewareData:k}};async function aL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:d,elements:g,strategy:v}=e,{boundary:x="clippingAncestors",rootBoundary:b="viewport",elementContext:E="floating",altBoundary:_=!1,padding:k=0}=ip(t,e),A=eN(k),M=g[_?E==="floating"?"reference":"floating":E],I=ch(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(M)))==null||n?M:M.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(g.floating)),boundary:x,rootBoundary:b,strategy:v})),D=E==="floating"?{x:r,y:i,width:d.floating.width,height:d.floating.height}:d.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(g.floating)),q=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},Q=ch(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:D,offsetParent:O,strategy:v}):D);return{top:(I.top-Q.top+A.top)/q.y,bottom:(Q.bottom-I.bottom+A.bottom)/q.y,left:(I.left-Q.left+A.left)/q.x,right:(Q.right-I.right+A.right)/q.x}}const oL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:d,elements:g,middlewareData:v}=t,{element:x,padding:b=0}=ip(e,t)||{};if(x==null)return{};const E=eN(b),_={x:n,y:r},k=s2(i),A=i2(k),R=await d.getDimensions(x),M=k==="y",I=M?"top":"left",D=M?"bottom":"right",O=M?"clientHeight":"clientWidth",q=a.reference[A]+a.reference[k]-_[k]-a.floating[A],Q=_[k]-a.reference[k],z=await(d.getOffsetParent==null?void 0:d.getOffsetParent(x));let j=z?z[O]:0;(!j||!await(d.isElement==null?void 0:d.isElement(z)))&&(j=g.floating[O]||a.floating[A]);const G=q/2-Q/2,H=j/2-R[A]/2-1,se=wc(E[I],H),fe=wc(E[D],H),ae=se,re=j-R[A]-fe,ve=j/2-R[A]/2+G,ee=Y9(ae,ve,re),ge=!v.arrow&&Cd(i)!=null&&ve!==ee&&a.reference[A]/2-(ve<ae?se:fe)-R[A]/2<0,me=ge?ve<ae?ve-ae:ve-re:0;return{[k]:_[k]+me,data:{[k]:ee,centerOffset:ve-ee-me,...ge&&{alignmentOffset:me}},reset:ge}}}),lL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:d,initialPlacement:g,platform:v,elements:x}=t,{mainAxis:b=!0,crossAxis:E=!0,fallbackPlacements:_,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:R=!0,...M}=ip(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const I=bc(i),D=$o(g),O=bc(g)===g,q=await(v.isRTL==null?void 0:v.isRTL(x.floating)),Q=_||(O||!R?[lh(g)]:X9(g)),z=A!=="none";!_&&z&&Q.push(...K9(g,R,A,q));const j=[g,...Q],G=await aL(t,M),H=[];let se=((r=a.flip)==null?void 0:r.overflows)||[];if(b&&H.push(G[I]),E){const ve=$9(i,d,q);H.push(G[ve[0]],G[ve[1]])}if(se=[...se,{placement:i,overflows:H}],!H.every(ve=>ve<=0)){var fe,ae;const ve=(((fe=a.flip)==null?void 0:fe.index)||0)+1,ee=j[ve];if(ee&&(!(E==="alignment"?D!==$o(ee):!1)||se.every(ce=>ce.overflows[0]>0&&$o(ce.placement)===D)))return{data:{index:ve,overflows:se},reset:{placement:ee}};let ge=(ae=se.filter(me=>me.overflows[0]<=0).sort((me,ce)=>me.overflows[1]-ce.overflows[1])[0])==null?void 0:ae.placement;if(!ge)switch(k){case"bestFit":{var re;const me=(re=se.filter(ce=>{if(z){const Se=$o(ce.placement);return Se===D||Se==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(Se=>Se>0).reduce((Se,Re)=>Se+Re,0)]).sort((ce,Se)=>ce[1]-Se[1])[0])==null?void 0:re[0];me&&(ge=me);break}case"initialPlacement":ge=g;break}if(i!==ge)return{reset:{placement:ge}}}return{}}}};async function cL(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),d=bc(n),g=Cd(n),v=$o(n)==="y",x=["left","top"].includes(d)?-1:1,b=a&&v?-1:1,E=ip(t,e);let{mainAxis:_,crossAxis:k,alignmentAxis:A}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return g&&typeof A=="number"&&(k=g==="end"?A*-1:A),v?{x:k*b,y:_*x}:{x:_*x,y:k*b}}const uL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:d,middlewareData:g}=t,v=await cL(t,e);return d===((n=g.offset)==null?void 0:n.placement)&&(r=g.arrow)!=null&&r.alignmentOffset?{}:{x:i+v.x,y:a+v.y,data:{...v,placement:d}}}}};function tN(e){const t=Yi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Os(e),a=i?e.offsetWidth:n,d=i?e.offsetHeight:r,g=oh(n)!==a||oh(r)!==d;return g&&(n=a,r=d),{width:n,height:r,$:g}}function a2(e){return Hr(e)?e:e.contextElement}function sc(e){const t=a2(e);if(!Os(t))return Rs(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=tN(t);let d=(a?oh(n.width):n.width)/r,g=(a?oh(n.height):n.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!g||!Number.isFinite(g))&&(g=1),{x:d,y:g}}const dL=Rs(0);function nN(e){const t=wi(e);return!r2()||!t.visualViewport?dL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wi(e)?!1:t}function fl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=a2(e);let d=Rs(1);t&&(r?Hr(r)&&(d=sc(r)):d=sc(e));const g=fL(a,n,r)?nN(a):Rs(0);let v=(i.left+g.x)/d.x,x=(i.top+g.y)/d.y,b=i.width/d.x,E=i.height/d.y;if(a){const _=wi(a),k=r&&Hr(r)?wi(r):r;let A=_,R=yg(A);for(;R&&r&&k!==A;){const M=sc(R),I=R.getBoundingClientRect(),D=Yi(R),O=I.left+(R.clientLeft+parseFloat(D.paddingLeft))*M.x,q=I.top+(R.clientTop+parseFloat(D.paddingTop))*M.y;v*=M.x,x*=M.y,b*=M.x,E*=M.y,v+=O,x+=q,A=wi(R),R=yg(A)}}return ch({width:b,height:E,x:v,y:x})}function o2(e,t){const n=rp(e).scrollLeft;return t?t.left+n:fl(Ms(e)).left+n}function rN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:o2(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function hL(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",d=Ms(r),g=t?np(t.floating):!1;if(r===d||g&&a)return n;let v={scrollLeft:0,scrollTop:0},x=Rs(1);const b=Rs(0),E=Os(r);if((E||!E&&!a)&&((Oc(r)!=="body"||bd(d))&&(v=rp(r)),Os(r))){const k=fl(r);x=sc(r),b.x=k.x+r.clientLeft,b.y=k.y+r.clientTop}const _=d&&!E&&!a?rN(d,v,!0):Rs(0);return{width:n.width*x.x,height:n.height*x.y,x:n.x*x.x-v.scrollLeft*x.x+b.x+_.x,y:n.y*x.y-v.scrollTop*x.y+b.y+_.y}}function pL(e){return Array.from(e.getClientRects())}function mL(e){const t=Ms(e),n=rp(e),r=e.ownerDocument.body,i=nl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=nl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-n.scrollLeft+o2(e);const g=-n.scrollTop;return Yi(r).direction==="rtl"&&(d+=nl(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:d,y:g}}function gL(e,t){const n=wi(e),r=Ms(e),i=n.visualViewport;let a=r.clientWidth,d=r.clientHeight,g=0,v=0;if(i){a=i.width,d=i.height;const x=r2();(!x||x&&t==="fixed")&&(g=i.offsetLeft,v=i.offsetTop)}return{width:a,height:d,x:g,y:v}}function xL(e,t){const n=fl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Os(e)?sc(e):Rs(1),d=e.clientWidth*a.x,g=e.clientHeight*a.y,v=i*a.x,x=r*a.y;return{width:d,height:g,x:v,y:x}}function lb(e,t,n){let r;if(t==="viewport")r=gL(e,n);else if(t==="document")r=mL(Ms(e));else if(Hr(t))r=xL(t,n);else{const i=nN(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ch(r)}function iN(e,t){const n=co(e);return n===t||!Hr(n)||yc(n)?!1:Yi(n).position==="fixed"||iN(n,t)}function vL(e,t){const n=t.get(e);if(n)return n;let r=ud(e,[],!1).filter(g=>Hr(g)&&Oc(g)!=="body"),i=null;const a=Yi(e).position==="fixed";let d=a?co(e):e;for(;Hr(d)&&!yc(d);){const g=Yi(d),v=n2(d);!v&&g.position==="fixed"&&(i=null),(a?!v&&!i:!v&&g.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||bd(d)&&!v&&iN(e,d))?r=r.filter(b=>b!==d):i=g,d=co(d)}return t.set(e,r),r}function yL(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const d=[...n==="clippingAncestors"?np(t)?[]:vL(t,this._c):[].concat(n),r],g=d[0],v=d.reduce((x,b)=>{const E=lb(t,b,i);return x.top=nl(E.top,x.top),x.right=wc(E.right,x.right),x.bottom=wc(E.bottom,x.bottom),x.left=nl(E.left,x.left),x},lb(t,g,i));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function wL(e){const{width:t,height:n}=tN(e);return{width:t,height:n}}function bL(e,t,n){const r=Os(t),i=Ms(t),a=n==="fixed",d=fl(e,!0,a,t);let g={scrollLeft:0,scrollTop:0};const v=Rs(0);function x(){v.x=o2(i)}if(r||!r&&!a)if((Oc(t)!=="body"||bd(i))&&(g=rp(t)),r){const k=fl(t,!0,a,t);v.x=k.x+t.clientLeft,v.y=k.y+t.clientTop}else i&&x();a&&!r&&i&&x();const b=i&&!r&&!a?rN(i,g):Rs(0),E=d.left+g.scrollLeft-v.x-b.x,_=d.top+g.scrollTop-v.y-b.y;return{x:E,y:_,width:d.width,height:d.height}}function Y1(e){return Yi(e).position==="static"}function cb(e,t){if(!Os(e)||Yi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ms(e)===n&&(n=n.ownerDocument.body),n}function sN(e,t){const n=wi(e);if(np(e))return n;if(!Os(e)){let i=co(e);for(;i&&!yc(i);){if(Hr(i)&&!Y1(i))return i;i=co(i)}return n}let r=cb(e,t);for(;r&&W9(r)&&Y1(r);)r=cb(r,t);return r&&yc(r)&&Y1(r)&&!n2(r)?n:r||H9(e)||n}const CL=async function(e){const t=this.getOffsetParent||sN,n=this.getDimensions,r=await n(e.floating);return{reference:bL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EL(e){return Yi(e).direction==="rtl"}const NL={convertOffsetParentRelativeRectToViewportRelativeRect:hL,getDocumentElement:Ms,getClippingRect:yL,getOffsetParent:sN,getElementRects:CL,getClientRects:pL,getDimensions:wL,getScale:sc,isElement:Hr,isRTL:EL};function aN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _L(e,t){let n=null,r;const i=Ms(e);function a(){var g;clearTimeout(r),(g=n)==null||g.disconnect(),n=null}function d(g,v){g===void 0&&(g=!1),v===void 0&&(v=1),a();const x=e.getBoundingClientRect(),{left:b,top:E,width:_,height:k}=x;if(g||t(),!_||!k)return;const A=qf(E),R=qf(i.clientWidth-(b+_)),M=qf(i.clientHeight-(E+k)),I=qf(b),O={rootMargin:-A+"px "+-R+"px "+-M+"px "+-I+"px",threshold:nl(0,wc(1,v))||1};let q=!0;function Q(z){const j=z[0].intersectionRatio;if(j!==v){if(!q)return d();j?d(!1,j):r=setTimeout(()=>{d(!1,1e-7)},1e3)}j===1&&!aN(x,e.getBoundingClientRect())&&d(),q=!1}try{n=new IntersectionObserver(Q,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(Q,O)}n.observe(e)}return d(!0),a}function SL(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:v=!1}=r,x=a2(e),b=i||a?[...x?ud(x):[],...ud(t)]:[];b.forEach(I=>{i&&I.addEventListener("scroll",n,{passive:!0}),a&&I.addEventListener("resize",n)});const E=x&&g?_L(x,n):null;let _=-1,k=null;d&&(k=new ResizeObserver(I=>{let[D]=I;D&&D.target===x&&k&&(k.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var O;(O=k)==null||O.observe(t)})),n()}),x&&!v&&k.observe(x),k.observe(t));let A,R=v?fl(e):null;v&&M();function M(){const I=fl(e);R&&!aN(R,I)&&n(),R=I,A=requestAnimationFrame(M)}return n(),()=>{var I;b.forEach(D=>{i&&D.removeEventListener("scroll",n),a&&D.removeEventListener("resize",n)}),E==null||E(),(I=k)==null||I.disconnect(),k=null,v&&cancelAnimationFrame(A)}}const AL=uL,TL=lL,ub=oL,kL=(e,t,n)=>{const r=new Map,i={platform:NL,...n},a={...i.platform,_c:r};return sL(e,t,{...i,platform:a})};var DL=typeof document<"u",IL=function(){},v0=DL?L.useLayoutEffect:IL;function dh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!dh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function oN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function db(e,t){const n=oN(e);return Math.round(t*n)/n}function G1(e){const t=L.useRef(e);return v0(()=>{t.current=e}),t}function RL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:d}={},transform:g=!0,whileElementsMounted:v,open:x}=e,[b,E]=L.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[_,k]=L.useState(r);dh(_,r)||k(r);const[A,R]=L.useState(null),[M,I]=L.useState(null),D=L.useCallback(ce=>{ce!==z.current&&(z.current=ce,R(ce))},[]),O=L.useCallback(ce=>{ce!==j.current&&(j.current=ce,I(ce))},[]),q=a||A,Q=d||M,z=L.useRef(null),j=L.useRef(null),G=L.useRef(b),H=v!=null,se=G1(v),fe=G1(i),ae=G1(x),re=L.useCallback(()=>{if(!z.current||!j.current)return;const ce={placement:t,strategy:n,middleware:_};fe.current&&(ce.platform=fe.current),kL(z.current,j.current,ce).then(Se=>{const Re={...Se,isPositioned:ae.current!==!1};ve.current&&!dh(G.current,Re)&&(G.current=Re,Tx.flushSync(()=>{E(Re)}))})},[_,t,n,fe,ae]);v0(()=>{x===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,E(ce=>({...ce,isPositioned:!1})))},[x]);const ve=L.useRef(!1);v0(()=>(ve.current=!0,()=>{ve.current=!1}),[]),v0(()=>{if(q&&(z.current=q),Q&&(j.current=Q),q&&Q){if(se.current)return se.current(q,Q,re);re()}},[q,Q,re,se,H]);const ee=L.useMemo(()=>({reference:z,floating:j,setReference:D,setFloating:O}),[D,O]),ge=L.useMemo(()=>({reference:q,floating:Q}),[q,Q]),me=L.useMemo(()=>{const ce={position:n,left:0,top:0};if(!ge.floating)return ce;const Se=db(ge.floating,b.x),Re=db(ge.floating,b.y);return g?{...ce,transform:"translate("+Se+"px, "+Re+"px)",...oN(ge.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Se,top:Re}},[n,g,ge.floating,b.x,b.y]);return L.useMemo(()=>({...b,update:re,refs:ee,elements:ge,floatingStyles:me}),[b,re,ee,ge,me])}const OL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ub({element:r.current,padding:i}).fn(n):{}:r?ub({element:r,padding:i}).fn(n):{}}}},jL=(e,t)=>({...AL(e),options:[e,t]}),ML=(e,t)=>({...TL(e),options:[e,t]}),LL=(e,t)=>({...OL(e),options:[e,t]}),PL={...Pg};let fb=!1,FL=0;const hb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+FL++;function BL(){const[e,t]=L.useState(()=>fb?hb():void 0);return uh(()=>{e==null&&t(hb())},[]),L.useEffect(()=>{fb=!0},[]),e}const UL=PL.useId,lN=UL||BL,zL=L.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:d}},width:g=14,height:v=7,tipRadius:x=0,strokeWidth:b=0,staticOffset:E,stroke:_,d:k,style:{transform:A,...R}={},...M}=t,I=lN(),[D,O]=L.useState(!1);if(uh(()=>{if(!i)return;Yi(i).direction==="rtl"&&O(!0)},[i]),!i)return null;const[q,Q]=r.split("-"),z=q==="top"||q==="bottom";let j=E;(z&&d!=null&&d.x||!z&&d!=null&&d.y)&&(j=null);const G=b*2,H=G/2,se=g/2*(x/-8+1),fe=v/2*x/4,ae=!!k,re=j&&Q==="end"?"bottom":"top";let ve=j&&Q==="end"?"right":"left";j&&D&&(ve=Q==="end"?"left":"right");const ee=(a==null?void 0:a.x)!=null?j||a.x:"",ge=(a==null?void 0:a.y)!=null?j||a.y:"",me=k||"M0,0"+(" H"+g)+(" L"+(g-se)+","+(v-fe))+(" Q"+g/2+","+v+" "+se+","+(v-fe))+" Z",ce={top:ae?"rotate(180deg)":"",left:ae?"rotate(90deg)":"rotate(-90deg)",bottom:ae?"":"rotate(180deg)",right:ae?"rotate(-90deg)":"rotate(90deg)"}[q];return c.jsxs("svg",{...M,"aria-hidden":!0,ref:n,width:ae?g:g+G,height:g,viewBox:"0 0 "+g+" "+(v>g?v:g),style:{position:"absolute",pointerEvents:"none",[ve]:ee,[re]:ge,[q]:z||ae?"100%":"calc(100% - "+G/2+"px)",transform:[ce,A].filter(Se=>!!Se).join(" "),...R},children:[G>0&&c.jsx("path",{clipPath:"url(#"+I+")",fill:"none",stroke:_,strokeWidth:G+(k?0:1),d:me}),c.jsx("path",{stroke:G&&!k?M.fill:"none",d:me}),c.jsx("clipPath",{id:I,children:c.jsx("rect",{x:-H,y:H*(ae?-1:1),width:g+G,height:g})})]})});function WL(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const HL=L.createContext(null),qL=L.createContext(null),VL=()=>{var e;return((e=L.useContext(HL))==null?void 0:e.id)||null},YL=()=>L.useContext(qL);function GL(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=lN(),a=L.useRef({}),[d]=L.useState(()=>WL()),g=VL()!=null,[v,x]=L.useState(r.reference),b=iL((k,A,R)=>{a.current.openEvent=k?A:void 0,d.emit("openchange",{open:k,event:A,reason:R,nested:g}),n==null||n(k,A,R)}),E=L.useMemo(()=>({setPositionReference:x}),[]),_=L.useMemo(()=>({reference:v||r.reference||null,floating:r.floating||null,domReference:r.reference}),[v,r.reference,r.floating]);return L.useMemo(()=>({dataRef:a,open:t,onOpenChange:b,elements:_,events:d,floatingId:i,refs:E}),[t,b,_,d,i,E])}function $L(e){e===void 0&&(e={});const{nodeId:t}=e,n=GL({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,d]=L.useState(null),[g,v]=L.useState(null),b=(i==null?void 0:i.domReference)||a,E=L.useRef(null),_=YL();uh(()=>{b&&(E.current=b)},[b]);const k=RL({...e,elements:{...i,...g&&{reference:g}}}),A=L.useCallback(O=>{const q=Hr(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),getClientRects:()=>O.getClientRects(),contextElement:O}:O;v(q),k.refs.setReference(q)},[k.refs]),R=L.useCallback(O=>{(Hr(O)||O===null)&&(E.current=O,d(O)),(Hr(k.refs.reference.current)||k.refs.reference.current===null||O!==null&&!Hr(O))&&k.refs.setReference(O)},[k.refs]),M=L.useMemo(()=>({...k.refs,setReference:R,setPositionReference:A,domReference:E}),[k.refs,R,A]),I=L.useMemo(()=>({...k.elements,domReference:b}),[k.elements,b]),D=L.useMemo(()=>({...k,...r,refs:M,elements:I,nodeId:t}),[k,M,I,t,r]);return uh(()=>{r.dataRef.current.floatingContext=D;const O=_==null?void 0:_.nodesRef.current.find(q=>q.id===t);O&&(O.context=D)}),L.useMemo(()=>({...k,context:D,refs:M,elements:I}),[k,M,I,D])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var bg=function(t,n){return bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},bg(t,n)};function hr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Rt=function(){return Rt=Object.assign||function(n){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},Rt.apply(this,arguments)};function ks(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var XL=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,a=e.className,d=e.children,g=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return ue.createElement("div",{className:a,role:"dialog","aria-label":g,"aria-modal":"true"},d)},QL=function(e,t){var n=L.useRef(null),r=L.useRef(e);r.current=e;var i=L.useCallback(function(a){var d,g=a.composed&&a.composedPath&&a.composedPath().find(function(v){return v instanceof Node})||a.target;n.current&&!n.current.contains(g)&&(t&&g instanceof HTMLElement&&g.classList.contains(t)||(d=r.current)===null||d===void 0||d.call(r,a))},[t]);return L.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},sp=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,d=e.ignoreClass,g=QL(n,d);return ue.createElement("div",{className:r,style:a,ref:function(v){g.current=v,i&&(i.current=v)}},t)},Me;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Me||(Me={}));function cN(){var e=typeof window<"u"?window:globalThis;return e}var Ed=12;function zt(e){if(e==null)return new Date;var t=typeof e=="string"?w9(e):Ue(e);return ap(t)?t:new Date}function $1(e,t,n,r,i){i===void 0&&(i=zt());for(var a=Cc(n)||Cc(l2()),d=Array.isArray(t)?t:[t],g=0,v=d;g<v.length;g++){var x=v[g],b=p9(e,x,i,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(ap(b)&&(!r||e===bn(b,x,n)))return b}return null}function ap(e,t){return rh(e)&&!dl(e,new Date("1/1/1800"))}function bn(e,t,n){if(n==="en")return ld(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Cc(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Cc(l2()),ld(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Pi(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&bn(e,i,r)||""}var uN=" - ";function KL(e,t,n){if(!e)return"";var r=Pi(e,n),i=t?Pi(t,n):"";return"".concat(r).concat(uN).concat(i)}function ZL(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?Pi(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Pi(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function X1(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,a=i===void 0?0:i,d=t.second,g=d===void 0?0:d;return m0(g0(x0(e,g),a),r)}function JL(e){return Zx(e)}function eP(e,t){return bn(e,"ddd",t)}function y0(e){return ul(e)}function so(e,t,n){var r=Cc(t||l2());return xa(e,{locale:r,weekStartsOn:n})}function da(e){return PE(e)}function Tu(e){return ep(e)}function pb(e){return mg(e)}function mb(){return ul(zt())}function gb(e){return Xx(e)}function tP(e){return bj(e)}function nP(e){return Qx(e)}function Ns(e,t){return e&&t?v9(e,t):!e&&!t}function Ur(e,t){return e&&t?g9(e,t):!e&&!t}function fh(e,t){return e&&t?x9(e,t):!e&&!t}function It(e,t){return e&&t?pj(e,t):!e&&!t}function Xo(e,t){return e&&t?yM(e,t):!e&&!t}function ku(e,t,n){var r,i=ul(t),a=Xx(n);try{r=cd(e,{start:i,end:a})}catch{r=!1}return r}function l2(){var e=cN();return e.__localeId__}function Cc(e){if(typeof e=="string"){var t=cN();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function rP(e,t,n){return t(bn(e,"EEEE",n))}function iP(e,t){return bn(e,"EEEEEE",t)}function sP(e,t){return bn(e,"EEE",t)}function c2(e,t){return bn(Fi(zt(),e),"LLLL",t)}function dN(e,t){return bn(Fi(zt(),e),"LLL",t)}function aP(e,t){return bn(Fl(zt(),e),"QQQ",t)}function zi(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.excludeDateIntervals,g=n.includeDates,v=n.includeDateIntervals,x=n.filterDate;return Nd(e,{minDate:r,maxDate:i})||a&&a.some(function(b){return b instanceof Date?It(e,b):It(e,b.date)})||d&&d.some(function(b){var E=b.start,_=b.end;return cd(e,{start:E,end:_})})||g&&!g.some(function(b){return It(e,b)})||v&&!v.some(function(b){var E=b.start,_=b.end;return cd(e,{start:E,end:_})})||x&&!x(zt(e))||!1}function u2(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var d=a.start,g=a.end;return cd(e,{start:d,end:g})}):r&&r.some(function(a){var d;return a instanceof Date?It(e,a):It(e,(d=a.date)!==null&&d!==void 0?d:new Date)})||!1}function fN(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates,g=n.filterDate;return Nd(e,{minDate:r?PE(r):void 0,maxDate:i?Qx(i):void 0})||(a==null?void 0:a.some(function(v){return Ur(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return Ur(e,v)})||g&&!g(zt(e))||!1}function Vf(e,t,n,r){var i=vt(e),a=Rr(e),d=vt(t),g=Rr(t),v=vt(r);return i===d&&i===v?a<=n&&n<=g:i<d?v===i&&a<=n||v===d&&g>=n||v<d&&v>i:!1}function oP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates;return Nd(e,{minDate:r,maxDate:i})||a&&a.some(function(g){return Ur(g instanceof Date?g:g.date,e)})||d&&!d.some(function(g){return Ur(g,e)})||!1}function Yf(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates,g=n.filterDate;return Nd(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(v){return fh(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return fh(e,v)})||g&&!g(zt(e))||!1}function Gf(e,t,n){if(!t||!n||!rh(t)||!rh(n))return!1;var r=vt(t),i=vt(n);return r<=e&&i>=e}function w0(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates,g=n.filterDate,v=new Date(e,0,1);return Nd(v,{minDate:r?ep(r):void 0,maxDate:i?FE(i):void 0})||(a==null?void 0:a.some(function(x){return Ns(v,x instanceof Date?x:x.date)}))||d&&!d.some(function(x){return Ns(v,x)})||g&&!g(zt(v))||!1}function $f(e,t,n,r){var i=vt(e),a=el(e),d=vt(t),g=el(t),v=vt(r);return i===d&&i===v?a<=n&&n<=g:i<d?v===i&&a<=n||v===d&&g>=n||v<d&&v>i:!1}function Nd(e,t){var n,r=t===void 0?{}:t,i=r.minDate,a=r.maxDate;return(n=i&&xc(e,i)<0||a&&xc(e,a)>0)!==null&&n!==void 0?n:!1}function xb(e,t){return t.some(function(n){return ca(n)===ca(e)&&ua(n)===ua(e)&&io(n)===io(e)})}function vb(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&xb(e,r)||i&&!xb(e,i)||a&&!a(e)||!1}function yb(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=zt();i=m0(i,ca(e)),i=g0(i,ua(e)),i=x0(i,io(e));var a=zt();a=m0(a,ca(n)),a=g0(a,ua(n)),a=x0(a,io(n));var d=zt();d=m0(d,ca(r)),d=g0(d,ua(r)),d=x0(d,io(r));var g;try{g=!cd(i,{start:a,end:d})}catch{g=!1}return g}function wb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=tl(e,1);return r&&od(r,a)>0||i&&i.every(function(d){return od(d,a)>0})||!1}function bb(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=cs(e,1);return r&&od(a,r)>0||i&&i.every(function(d){return od(a,d)>0})||!1}function lP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=ep(e),d=$E(a,1);return r&&ih(r,d)>0||i&&i.every(function(g){return ih(g,d)>0})||!1}function cP(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=FE(e),d=$x(a,1);return r&&ih(d,r)>0||i&&i.every(function(g){return ih(d,g)>0})||!1}function Cb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=vc(e,1);return r&&sh(r,a)>0||i&&i.every(function(d){return sh(d,a)>0})||!1}function uP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,a=i===void 0?Ed:i,d=Tu(vc(e,a)),g=$a(d,a).endPeriod,v=r&&vt(r);return v&&v>g||!1}function Eb(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=oa(e,1);return r&&sh(a,r)>0||i&&i.every(function(d){return sh(a,d)>0})||!1}function dP(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,a=i===void 0?Ed:i,d=oa(e,a),g=$a(d,a).startPeriod,v=r&&vt(r);return v&&v<g||!1}function hN(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return xc(i,t)>=0});return Zw(r)}else return n?Zw(n):t}function pN(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return xc(i,t)<=0});return Kw(r)}else return n?Kw(n):t}function Nb(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var d=e[i];if(la(d)){var g=bn(d,"MM.dd.yyyy"),v=r.get(g)||[];v.includes(t)||(v.push(t),r.set(g,v))}else if(typeof d=="object"){var x=Object.keys(d),b=(n=x[0])!==null&&n!==void 0?n:"",E=d[b];if(typeof b=="string"&&Array.isArray(E))for(var _=0,k=E.length;_<k;_++){var A=E[_];if(A){var g=bn(A,"MM.dd.yyyy"),v=r.get(g)||[];v.includes(b)||(v.push(b),r.set(g,v))}}}}return r}function fP(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function hP(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(la(i)){var d=bn(i,"MM.dd.yyyy"),g=n.get(d)||{className:"",holidayNames:[]};if(!("className"in g&&g.className===t&&fP(g.holidayNames,[a]))){g.className=t;var v=g.holidayNames;g.holidayNames=v?ks(ks([],v,!0),[a],!1):[a],n.set(d,g)}}}),n}function pP(e,t,n,r,i){for(var a=i.length,d=[],g=0;g<a;g++){var v=e,x=i[g];x&&(v=cj(v,ca(x)),v=pg(v,ua(x)),v=fj(v,io(x)));var b=pg(e,(n+1)*r);lo(v,t)&&dl(v,b)&&x!=null&&d.push(x)}return d}function _b(e){return e<10?"0".concat(e):"".concat(e)}function $a(e,t){t===void 0&&(t=Ed);var n=Math.ceil(vt(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function mP(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function Sb(e){var t=e.getSeconds(),n=e.getMilliseconds();return Ue(e.getTime()-t*1e3-n)}function gP(e,t){return Sb(e).getTime()===Sb(t).getTime()}function Ab(e){if(!la(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Tb(e,t){if(!la(e)||!la(t))throw new Error("Invalid date received");var n=Ab(e),r=Ab(t);return dl(n,r)}function mN(e){return e.key===Me.Space}var xP=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=ue.createRef(),r.onTimeChange=function(i){var a,d;r.setState({time:i});var g=r.props.date,v=g instanceof Date&&!isNaN(+g),x=v?g:new Date;if(i!=null&&i.includes(":")){var b=i.split(":"),E=b[0],_=b[1];x.setHours(Number(E)),x.setMinutes(Number(_))}(d=(a=r.props).onChange)===null||d===void 0||d.call(a,x)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,d=a.date,g=a.timeString,v=a.customTimeInput;return v?L.cloneElement(v,{date:d,value:i,onChange:r.onTimeChange}):ue.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var x;(x=r.inputRef.current)===null||x===void 0||x.focus()},required:!0,value:i,onChange:function(x){r.onTimeChange(x.target.value||g)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return ue.createElement("div",{className:"react-datepicker__input-time-container"},ue.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ue.createElement("div",{className:"react-datepicker-time__input-container"},ue.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(L.Component),vP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=L.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,a,d=r.key;d===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isSameDay=function(r){return It(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),a=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!a},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),zi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return u2(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return It(n.props.day,so(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&It(r,so(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,a=r.highlightDates;if(!a)return!1;var d=bn(i,"MM.dd.yyyy");return a.get(d)},n.getHolidaysClass=function(){var r,i=n.props,a=i.day,d=i.holidays;if(!d)return[void 0];var g=bn(a,"MM.dd.yyyy");return d.has(g)?[(r=d.get(g))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:ku(i,a,d)},n.isInSelectingRange=function(){var r,i=n.props,a=i.day,d=i.selectsStart,g=i.selectsEnd,v=i.selectsRange,x=i.selectsDisabledDaysInRange,b=i.startDate,E=i.endDate,_=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(d||g||v)||!_||!x&&n.isDisabled()?!1:d&&E&&(dl(_,E)||Xo(_,E))?ku(a,_,E):g&&b&&(lo(_,b)||Xo(_,b))||v&&b&&!E&&(lo(_,b)||Xo(_,b))?ku(a,b,_):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,d=i.startDate,g=i.selectsStart,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return g?It(a,v):It(a,d)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,d=i.endDate,g=i.selectsEnd,v=i.selectsRange,x=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return g||v?It(a,x):It(a,d)},n.isRangeStart=function(){var r=n.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:It(a,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:It(d,i)},n.isWeekend=function(){var r=mM(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Rr(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Rr(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(zt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return wn("react-datepicker__day",i,"react-datepicker__day--"+eP(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,d=a===void 0?"Choose":a,g=r.ariaLabelPrefixWhenDisabled,v=g===void 0?"Not available":g,x=n.isDisabled()||n.isExcluded()?v:d;return"".concat(x," ").concat(bn(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,a=r.holidays,d=a===void 0?new Map:a,g=r.excludeDates,v=bn(i,"MM.dd.yyyy"),x=[];return d.has(v)&&x.push.apply(x,d.get(v).holidayNames),n.isExcluded()&&x.push(g==null?void 0:g.filter(function(b){return b instanceof Date?It(b,i):It(b==null?void 0:b.date,i)}).map(function(b){if(!(b instanceof Date))return b==null?void 0:b.message})),x.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,a=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&It(i,r))?0:-1;return a},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(ib(n.props.day),n.props.day):ib(n.props.day)},n.render=function(){return ue.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&ue.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(L.Component),yP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=L.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,a,d=r.key;d===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!It(n.props.date,n.props.selected)&&It(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||It(n.props.date,n.props.selected)&&It(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&It(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,a=n.ariaLabelPrefix,d=a===void 0?t.defaultProps.ariaLabelPrefix:a,g=n.onClick,v={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!g&&!i,"react-datepicker__week-number--selected":!!g&&It(this.props.date,this.props.selected)};return ue.createElement("div",{ref:this.weekNumberEl,className:wn(v),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(L.Component),wP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return zi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,a){for(var d,g,v,x=new Date(r),b=0;b<7;b++){var E=new Date(r);E.setDate(E.getDate()+b);var _=!n.isDisabled(E);if(_){x=E;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(x,i,a),n.props.showWeekPicker&&n.handleDayClick(x,a),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:t.defaultProps.shouldCloseOnSelect)&&((v=(g=n.props).setOpen)===null||v===void 0||v.call(g,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):JL(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=os(r,6),a=new Date(r);a<=i;){if(!n.isDisabled(a))return!1;a=os(a,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],a=n.formatWeekNumber(r);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,a):void 0;i.push(ue.createElement(yP,Rt({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:d})))}return i.concat([0,1,2,3,4,5,6].map(function(g){var v=os(r,g);return ue.createElement(vP,Rt({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:v.valueOf(),day:v,onClick:n.handleDayClick.bind(n,v),onMouseEnter:n.handleDayMouseEnter.bind(n,v)}))}))},n.startOfWeek=function(){return so(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!It(n.startOfWeek(),n.props.selected)&&It(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":It(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ue.createElement("div",{className:wn(n)},this.renderDays())},t}(L.Component),Eu,bP=6,ac={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Q1=(Eu={},Eu[ac.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Eu[ac.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Eu[ac.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Eu),Xf=1;function kb(e,t){return e?ac.FOUR_COLUMNS:t?ac.TWO_COLUMNS:ac.THREE_COLUMNS}var CP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=ks([],Array(12),!0).map(function(){return L.createRef()}),n.QUARTER_REFS=ks([],Array(4),!0).map(function(){return L.createRef()}),n.isDisabled=function(r){return zi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return u2(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var a,d;(d=(a=n.props).onDayClick)===null||d===void 0||d.call(a,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,a;(a=(i=n.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:Ur(Fi(a,r),d)},n.isRangeStartQuarter=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:fh(Fl(a,r),d)},n.isRangeEndMonth=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:Ur(Fi(a,r),g)},n.isRangeEndQuarter=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:fh(Fl(a,r),g)},n.isInSelectingRangeMonth=function(r){var i,a=n.props,d=a.day,g=a.selectsStart,v=a.selectsEnd,x=a.selectsRange,b=a.startDate,E=a.endDate,_=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(g||v||x)||!_?!1:g&&E?Vf(_,E,r,d):v&&b||x&&b&&!E?Vf(b,_,r,d):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,d=a.day,g=a.startDate,v=a.selectsStart,x=Fi(d,r),b=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return v?Ur(x,b):Ur(x,g)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,d=a.day,g=a.endDate,v=a.selectsEnd,x=a.selectsRange,b=Fi(d,r),E=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return v||x?Ur(b,E):Ur(b,g)},n.isInSelectingRangeQuarter=function(r){var i,a=n.props,d=a.day,g=a.selectsStart,v=a.selectsEnd,x=a.selectsRange,b=a.startDate,E=a.endDate,_=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(g||v||x)||!_?!1:g&&E?$f(_,E,r,d):v&&b||x&&b&&!E?$f(b,_,r,d):!1},n.isWeekInMonth=function(r){var i=n.props.day,a=os(r,6);return Ur(r,i)||Ur(a,i)},n.isCurrentMonth=function(r,i){return vt(r)===vt(zt())&&i===Rr(zt())},n.isCurrentQuarter=function(r,i){return vt(r)===vt(zt())&&i===el(zt())},n.isSelectedMonth=function(r,i,a){return Rr(a)===i&&vt(r)===vt(a)},n.isSelectMonthInList=function(r,i,a){return a.some(function(d){return n.isSelectedMonth(r,i,d)})},n.isSelectedQuarter=function(r,i,a){return el(r)===i&&vt(r)===vt(a)},n.isMonthSelected=function(){var r=n.props,i=r.day,a=r.selected,d=r.selectedDates,g=r.selectsMultiple,v=Rr(i);return g?d==null?void 0:d.some(function(x){return n.isSelectedMonth(i,v,x)}):!!a&&n.isSelectedMonth(i,v,a)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,a=0,d=!1,g=so(da(n.props.day),n.props.locale,n.props.calendarStartDay),v=function(A){return n.props.showWeekPicker?so(A,n.props.locale,n.props.calendarStartDay):n.props.preSelection},x=function(A){return n.props.showWeekPicker?so(A,n.props.locale,n.props.calendarStartDay):n.props.selected},b=n.props.selected?x(n.props.selected):void 0,E=n.props.preSelection?v(n.props.preSelection):void 0;r.push(ue.createElement(wP,Rt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:a,day:g,month:Rr(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:b,preSelection:E,showWeekNumber:n.props.showWeekNumbers}))),!d;){a++,g=nh(g,1);var _=i&&a>=bP,k=!i&&!n.isWeekInMonth(g);if(_||k)if(n.props.peekNextMonth)d=!0;else break}return r},n.onMonthClick=function(r,i){var a=n.isMonthDisabledForLabelDate(i),d=a.isDisabled,g=a.labelDate;d||n.handleDayClick(da(g),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),a=i.isDisabled,d=i.labelDate;a||n.handleDayMouseEnter(da(d))},n.handleMonthNavigation=function(r,i){var a,d,g,v;(d=(a=n.props).setPreSelection)===null||d===void 0||d.call(a,i),(v=(g=n.MONTH_REFS[r])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus()},n.handleKeyboardNavigation=function(r,i,a){var d,g=n.props,v=g.selected,x=g.preSelection,b=g.setPreSelection,E=g.minDate,_=g.maxDate,k=g.showFourColumnMonthYearPicker,A=g.showTwoColumnMonthYearPicker;if(x){var R=kb(k,A),M=n.getVerticalOffset(R),I=(d=Q1[R])===null||d===void 0?void 0:d.grid,D=function(j,G,H){var se,fe,ae=G,re=H;switch(j){case Me.ArrowRight:ae=cs(G,Xf),re=H===11?0:H+Xf;break;case Me.ArrowLeft:ae=tl(G,Xf),re=H===0?11:H-Xf;break;case Me.ArrowUp:ae=tl(G,M),re=!((se=I==null?void 0:I[0])===null||se===void 0)&&se.includes(H)?H+12-M:H-M;break;case Me.ArrowDown:ae=cs(G,M),re=!((fe=I==null?void 0:I[I.length-1])===null||fe===void 0)&&fe.includes(H)?H-12+M:H+M;break}return{newCalculatedDate:ae,newCalculatedMonth:re}},O=function(j,G,H){for(var se=40,fe=j,ae=!1,re=0,ve=D(fe,G,H),ee=ve.newCalculatedDate,ge=ve.newCalculatedMonth;!ae;){if(re>=se){ee=G,ge=H;break}if(E&&ee<E){fe=Me.ArrowRight;var me=D(fe,ee,ge);ee=me.newCalculatedDate,ge=me.newCalculatedMonth}if(_&&ee>_){fe=Me.ArrowLeft;var me=D(fe,ee,ge);ee=me.newCalculatedDate,ge=me.newCalculatedMonth}if(oP(ee,n.props)){var me=D(fe,ee,ge);ee=me.newCalculatedDate,ge=me.newCalculatedMonth}else ae=!0;re++}return{newCalculatedDate:ee,newCalculatedMonth:ge}};if(i===Me.Enter){n.isMonthDisabled(a)||(n.onMonthClick(r,a),b==null||b(v));return}var q=O(i,x,a),Q=q.newCalculatedDate,z=q.newCalculatedMonth;switch(i){case Me.ArrowRight:case Me.ArrowLeft:case Me.ArrowUp:case Me.ArrowDown:n.handleMonthNavigation(z,Q);break}}},n.getVerticalOffset=function(r){var i,a;return(a=(i=Q1[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},n.onMonthKeyDown=function(r,i){var a=n.props,d=a.disabledKeyboardNavigation,g=a.handleOnMonthKeyDown,v=r.key;v!==Me.Tab&&r.preventDefault(),d||n.handleKeyboardNavigation(r,v,i),g&&g(r)},n.onQuarterClick=function(r,i){var a=Fl(n.props.day,i);Yf(a,n.props)||n.handleDayClick(pb(a),r)},n.onQuarterMouseEnter=function(r){var i=Fl(n.props.day,r);Yf(i,n.props)||n.handleDayMouseEnter(pb(i))},n.handleQuarterNavigation=function(r,i){var a,d,g,v;n.isDisabled(i)||n.isExcluded(i)||((d=(a=n.props).setPreSelection)===null||d===void 0||d.call(a,i),(v=(g=n.QUARTER_REFS[r-1])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus())},n.onQuarterKeyDown=function(r,i){var a,d,g=r.key;if(!n.props.disabledKeyboardNavigation)switch(g){case Me.Enter:n.onQuarterClick(r,i),(d=(a=n.props).setPreSelection)===null||d===void 0||d.call(a,n.props.selected);break;case Me.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,$x(n.props.preSelection,1));break;case Me.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,$E(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,a=n.props,d=a.day,g=a.minDate,v=a.maxDate,x=a.excludeDates,b=a.includeDates,E=Fi(d,r);return{isDisabled:(i=(g||v||x||b)&&fN(E,n.props))!==null&&i!==void 0?i:!1,labelDate:E}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate,v=i.preSelection,x=i.monthClassName,b=x?x(Fi(a,r)):void 0,E=n.getSelection();return wn("react-datepicker__month-text","react-datepicker__month-".concat(r),b,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":E?n.isSelectMonthInList(a,r,E):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&v&&n.isSelectedMonth(a,r,v)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":d&&g?Vf(d,g,r,a):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(a,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Rr(n.props.preSelection),a=n.isMonthDisabledForLabelDate(i).isDisabled,d=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=el(n.props.preSelection),a=Yf(n.props.day,n.props),d=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(r){var i=n.props,a=i.chooseDayAriaLabelPrefix,d=a===void 0?"Choose":a,g=i.disabledDayAriaLabelPrefix,v=g===void 0?"Not available":g,x=i.day,b=i.locale,E=Fi(x,r),_=n.isDisabled(E)||n.isExcluded(E)?v:d;return"".concat(_," ").concat(bn(E,"MMMM yyyy",b))},n.getQuarterClassNames=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate,v=i.selected,x=i.minDate,b=i.maxDate,E=i.excludeDates,_=i.includeDates,k=i.filterDate,A=i.preSelection,R=i.disabledKeyboardNavigation,M=(x||b||E||_||k)&&Yf(Fl(a,r),n.props);return wn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":M,"react-datepicker__quarter-text--selected":v?n.isSelectedQuarter(a,r,v):void 0,"react-datepicker__quarter-text--keyboard-selected":!R&&A&&n.isSelectedQuarter(a,r,A)&&!M,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":d&&g?$f(d,g,r,a):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(a,r)})},n.getMonthContent=function(r){var i=n.props,a=i.showFullMonthYearPicker,d=i.renderMonthContent,g=i.locale,v=i.day,x=dN(r,g),b=c2(r,g);return d?d(r,x,b,v):a?b:x},n.getQuarterContent=function(r){var i,a=n.props,d=a.renderQuarterContent,g=a.locale,v=aP(r,g);return(i=d==null?void 0:d(r,v))!==null&&i!==void 0?i:v},n.renderMonths=function(){var r,i=n.props,a=i.showTwoColumnMonthYearPicker,d=i.showFourColumnMonthYearPicker,g=i.day,v=i.selected,x=(r=Q1[kb(d,a)])===null||r===void 0?void 0:r.grid;return x==null?void 0:x.map(function(b,E){return ue.createElement("div",{className:"react-datepicker__month-wrapper",key:E},b.map(function(_,k){return ue.createElement("div",{ref:n.MONTH_REFS[_],key:k,onClick:function(A){n.onMonthClick(A,_)},onKeyDown:function(A){mN(A)&&(A.preventDefault(),A.key=Me.Enter),n.onMonthKeyDown(A,_)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(_)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(_)}:void 0,tabIndex:Number(n.getTabIndex(_)),className:n.getMonthClassNames(_),"aria-disabled":n.isMonthDisabled(_),role:"option","aria-label":n.getAriaLabel(_),"aria-current":n.isCurrentMonth(g,_)?"date":void 0,"aria-selected":v?n.isSelectedMonth(g,_,v):void 0},n.getMonthContent(_))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,a=r.selected,d=[1,2,3,4];return ue.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(g,v){return ue.createElement("div",{key:v,ref:n.QUARTER_REFS[v],role:"option",onClick:function(x){n.onQuarterClick(x,g)},onKeyDown:function(x){n.onQuarterKeyDown(x,g)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(g)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(g)}:void 0,className:n.getQuarterClassNames(g),"aria-selected":a?n.isSelectedQuarter(i,g,a):void 0,tabIndex:Number(n.getQuarterTabIndex(g)),"aria-current":n.isCurrentQuarter(i,g)?"date":void 0},n.getQuarterContent(g))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,a=r.selectsStart,d=r.selectsEnd,g=r.showMonthYearPicker,v=r.showQuarterYearPicker,x=r.showWeekPicker;return wn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||d)},{"react-datepicker__monthPicker":g},{"react-datepicker__quarterPicker":v},{"react-datepicker__weekPicker":x})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,a=n.selectsMultiple;if(a)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,a=n.day,d=n.ariaLabelPrefix,g=d===void 0?"Month ":d,v=g?g.trim()+" ":"";return ue.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(v).concat(bn(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(L.Component),EP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return ue.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?ue.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return ue.createElement(sp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),NP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,a){return ue.createElement("option",{key:i,value:a},i)})},n.renderSelectMode=function(r){return ue.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return ue.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},ue.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return ue.createElement(EP,Rt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,a=[n.renderReadView(!i,r)];return i&&a.unshift(n.renderDropdown(r)),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return dN(a,n.props.locale)}:function(a){return c2(a,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return ue.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(L.Component);function _P(e,t){for(var n=[],r=da(e),i=da(t);!lo(r,i);)n.push(zt(r)),r=cs(r,1);return n}var SP=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=vg(i),d=Ns(r.props.date,i)&&Ur(r.props.date,i);return ue.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":d?"true":void 0},d?ue.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",bn(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:_P(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=wn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ue.createElement(sp,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),AP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=da(n.props.minDate),i=da(n.props.maxDate),a=[];!lo(r,i);){var d=vg(r);a.push(ue.createElement("option",{key:d,value:d},bn(r,n.props.dateFormat,n.props.locale))),r=cs(r,1)}return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ue.createElement("select",{value:vg(da(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=bn(n.props.date,n.props.dateFormat,n.props.locale);return ue.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},ue.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return ue.createElement(SP,Rt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=zt(r);Ns(n.props.date,i)&&Ur(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ue.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(L.Component),TP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;n.list&&(n.list.scrollTop=(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&a!==void 0?a:0)})},n.handleClick=function(r){var i,a;(n.props.minTime||n.props.maxTime)&&yb(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&vb(r,n.props)||(a=(i=n.props).onChange)===null||a===void 0||a.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&gP(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&yb(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&vb(r,n.props)},n.liClasses=function(r){var i,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(ca(r)*3600+ua(r)*60+io(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(r,i){var a,d;r.key===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(r.key===Me.ArrowUp||r.key===Me.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Me.ArrowDown||r.key===Me.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Me.Enter&&n.handleClick(i),(d=(a=n.props).handleOnKeyDown)===null||d===void 0||d.call(a,r)},n.renderTimes=function(){for(var r,i=[],a=typeof n.props.format=="string"?n.props.format:"p",d=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,g=n.props.selected||n.props.openToDate||zt(),v=y0(g),x=n.props.injectTimes&&n.props.injectTimes.sort(function(M,I){return M.getTime()-I.getTime()}),b=60*mP(g),E=b/d,_=0;_<E;_++){var k=pg(v,_*d);if(i.push(k),x){var A=pP(v,k,_,d,x);i=i.concat(A)}}var R=i.reduce(function(M,I){return I.getTime()<=g.getTime()?I:M},i[0]);return i.map(function(M){return ue.createElement("li",{key:M.valueOf(),onClick:n.handleClick.bind(n,M),className:n.liClasses(M),ref:function(I){M===R&&(n.centerLi=I)},onKeyDown:function(I){n.handleOnKeyDown(I,M)},tabIndex:M===R?0:-1,role:"option","aria-selected":n.isSelectedTime(M)?"true":void 0,"aria-disabled":n.isDisabledTime(M)?"true":void 0},bn(M,a,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?ue.createElement(ue.Fragment,null):ue.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},ue.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return ue.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ue.createElement("div",{className:"react-datepicker__time"},ue.createElement("div",{className:"react-datepicker__time-box"},ue.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){n.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(L.Component),Db=3,kP=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=ks([],Array(r.props.yearItemNumber),!0).map(function(){return L.createRef()}),r.isDisabled=function(i){return zi(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return u2(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var d,g;(g=(d=r.YEAR_REFS[i])===null||d===void 0?void 0:d.current)===null||g===void 0||g.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var d,g,v,x,b=r.props,E=b.date,_=b.yearItemNumber;if(!(E===void 0||_===void 0)){var k=$a(E,_).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,a),i-k<0?r.updateFocusOnPaginate(_-(k-i)):i-k>=_?r.updateFocusOnPaginate(Math.abs(_-(i-k))):(x=(v=r.YEAR_REFS[i-k])===null||v===void 0?void 0:v.current)===null||x===void 0||x.focus())}},r.isSameDay=function(i,a){return It(i,a)},r.isCurrentYear=function(i){return i===vt(zt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Ns(Es(zt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Ns(Es(zt(),i),r.props.endDate)},r.isInRange=function(i){return Gf(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,d=a.selectsStart,g=a.selectsEnd,v=a.selectsRange,x=a.startDate,b=a.endDate;return!(d||g||v)||!r.selectingDate()?!1:d&&b?Gf(i,r.selectingDate(),b):g&&x||v&&x&&!b?Gf(i,x,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var d=r.props,g=d.startDate,v=d.selectsStart,x=Es(zt(),i);return v?Ns(x,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ns(x,g??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var d=r.props,g=d.endDate,v=d.selectsEnd,x=d.selectsRange,b=Es(zt(),i);return v||x?Ns(b,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ns(b,g??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,d=a.minDate,g=a.maxDate,v=a.excludeDates,x=a.includeDates,b=a.filterDate,E=Tu(Es(r.props.date,i)),_=(d||g||v||x||b)&&w0(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!It(E,Tu(r.props.selected))&&It(E,Tu(r.props.preSelection))&&!_}},r.isSelectedYear=function(i){var a=r.props,d=a.selectsMultiple,g=a.selected,v=a.selectedDates;return d?v==null?void 0:v.some(function(x){return i===vt(x)}):!!g&&i===vt(g)},r.onYearClick=function(i,a){var d=r.props.date;d!==void 0&&r.handleYearClick(Tu(Es(d,a)),i)},r.onYearKeyDown=function(i,a){var d,g,v=i.key,x=r.props,b=x.date,E=x.yearItemNumber,_=x.handleOnKeyDown;if(v!==Me.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(v){case Me.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,r.props.selected);break;case Me.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,oa(r.props.preSelection,1));break;case Me.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,vc(r.props.preSelection,1));break;case Me.ArrowUp:{if(b===void 0||E===void 0||r.props.preSelection==null)break;var k=$a(b,E).startPeriod,A=Db,R=a-A;if(R<k){var M=E%A;a>=k&&a<k+M?A=M:A+=M,R=a-A}r.handleYearNavigation(R,vc(r.props.preSelection,A));break}case Me.ArrowDown:{if(b===void 0||E===void 0||r.props.preSelection==null)break;var I=$a(b,E).endPeriod,A=Db,R=a+A;if(R>I){var M=E%A;a<=I&&a>I-M?A=M:A+=M,R=a+A}r.handleYearNavigation(R,oa(r.props.preSelection,A));break}}_&&_(i)},r.getYearClassNames=function(i){var a=r.props,d=a.date,g=a.minDate,v=a.maxDate,x=a.excludeDates,b=a.includeDates,E=a.filterDate,_=a.yearClassName;return wn("react-datepicker__year-text","react-datepicker__year-".concat(i),d?_==null?void 0:_(Es(d,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(g||v||x||b||E)&&w0(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=vt(r.props.preSelection),d=w0(i,r.props);return i===a&&!d?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,a=i.date,d=i.yearItemNumber,g=i.onYearMouseEnter,v=i.onYearMouseLeave;if(a===void 0)return null;for(var x=$a(a,d),b=x.startPeriod,E=x.endPeriod,_=function(R){r.push(ue.createElement("div",{ref:k.YEAR_REFS[R-b],onClick:function(M){n.onYearClick(M,R)},onKeyDown:function(M){mN(M)&&(M.preventDefault(),M.key=Me.Enter),n.onYearKeyDown(M,R)},tabIndex:Number(k.getYearTabIndex(R)),className:k.getYearClassNames(R),onMouseEnter:k.props.usePointerEvent?void 0:function(M){return g(M,R)},onPointerEnter:k.props.usePointerEvent?function(M){return g(M,R)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(M){return v(M,R)},onPointerLeave:k.props.usePointerEvent?function(M){return v(M,R)}:void 0,key:R,"aria-current":k.isCurrentYear(R)?"date":void 0},k.getYearContent(R)))},k=this,A=b;A<=E;A++)_(A);return ue.createElement("div",{className:"react-datepicker__year"},ue.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(L.Component);function DP(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var d=e+t-a,g=!0;n&&(g=vt(n)<=d),r&&g&&(g=vt(r)>=d),g&&i.push(d)}return i}var IP=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var g=r.props.year,v=r.state.yearsList.map(function(E){return ue.createElement("div",{className:g===E?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:E,onClick:r.onChange.bind(r,E),"aria-selected":g===E?"true":void 0},g===E?ue.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",E)}),x=r.props.minDate?vt(r.props.minDate):null,b=r.props.maxDate?vt(r.props.maxDate):null;return(!b||!r.state.yearsList.find(function(E){return E===b}))&&v.unshift(ue.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ue.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!x||!r.state.yearsList.find(function(E){return E===x}))&&v.push(ue.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ue.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),v},r.onChange=function(g){r.props.onChange(g)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(g){var v=r.state.yearsList.map(function(x){return x+g});r.setState({yearsList:v})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,a=n.scrollableYearDropdown,d=i||(a?10:5);return r.state={yearsList:DP(r.props.year,d,r.props.minDate,r.props.maxDate)},r.dropdownRef=L.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=wn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ue.createElement(sp,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),RP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?vt(n.props.minDate):1900,i=n.props.maxDate?vt(n.props.maxDate):2100,a=[],d=r;d<=i;d++)a.push(ue.createElement("option",{key:d,value:d},d));return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ue.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return ue.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},ue.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return ue.createElement(IP,Rt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var a;(a=n.onSelect)===null||a===void 0||a.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var a,d;(d=(a=n.props).onSelect)===null||d===void 0||d.call(a,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ue.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(L.Component),OP=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],jP=function(e){var t=(e.className||"").split(/\s+/);return OP.some(function(n){return t.indexOf(n)>=0})},MP=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,d;jP(i.target)&&((d=(a=r.props).onDropdownFocus)===null||d===void 0||d.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,d=i.selected,g=i.openToDate,v=hN(r.props),x=pN(r.props),b=zt(),E=g||d||a;return E||(v&&dl(b,v)?v:x&&lo(b,x)?x:b)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:cs(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:tl(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,d){r.props.onSelect(i,a,d),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:Es(zt(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,d,g,v;(d=(a=r.props).onYearChange)===null||d===void 0||d.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(v=(g=r.props).setOpen)===null||v===void 0||v.call(g,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!zi(i,r.props))return i;for(var a=da(i),d=nP(i),g=mj(d,a),v=null,x=0;x<=g;x++){var b=os(a,x);if(!zi(b,r.props)){v=b;break}}return v},r.handleMonthChange=function(i){var a,d,g,v=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(v),r.props.adjustDateOnChange&&(r.props.onSelect(v),(g=(d=r.props).setOpen)===null||g===void 0||g.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(v)},r.handleCustomMonthChange=function(i){var a,d;(d=(a=r.props).onMonthChange)===null||d===void 0||d.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var d=a.date;return{date:Es(d,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var d=a.date;return{date:Fi(d,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var d=a.date;return{date:Es(Fi(d,Rr(i)),vt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=so(i,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(ue.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(g){var v=os(a,g),x=r.formatWeekday(v,r.props.locale),b=r.props.weekDayClassName?r.props.weekDayClassName(v):void 0;return ue.createElement("div",{key:g,"aria-label":bn(v,"EEEE",r.props.locale),className:wn("react-datepicker__day-name",b)},x)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?rP(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?sP(i,a):iP(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,d=i.date;return{date:vc(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,d;if(!r.props.renderCustomHeader){var g=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,v=r.props.showPreviousMonths?g-1:0,x=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:v,b=tl(r.state.date,x),E;switch(!0){case r.props.showMonthYearPicker:E=Cb(r.state.date,r.props);break;case r.props.showYearPicker:E=uP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:E=lP(r.state.date,r.props);break;default:E=wb(b,r.props);break}if(!(!((d=r.props.forceShowMonthNavigation)!==null&&d!==void 0?d:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&E||r.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],A=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(A=r.decreaseYear),E&&r.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),A=void 0);var R=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,M=r.props,I=M.previousMonthButtonLabel,D=I===void 0?t.defaultProps.previousMonthButtonLabel:I,O=M.previousYearButtonLabel,q=O===void 0?t.defaultProps.previousYearButtonLabel:O,Q=r.props,z=Q.previousMonthAriaLabel,j=z===void 0?typeof D=="string"?D:"Previous Month":z,G=Q.previousYearAriaLabel,H=G===void 0?typeof q=="string"?q:"Previous Year":G;return ue.createElement("button",{type:"button",className:k.join(" "),onClick:A,onKeyDown:r.props.handleOnKeyDown,"aria-label":R?H:j},ue.createElement("span",{className:_.join(" ")},R?q:D))}}},r.increaseYear=function(){r.setState(function(i){var a,d=i.date;return{date:oa(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=Eb(r.state.date,r.props);break;case r.props.showYearPicker:a=dP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=cP(r.state.date,r.props);break;default:a=bb(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var v=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),v=void 0);var x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,b=r.props,E=b.nextMonthButtonLabel,_=E===void 0?t.defaultProps.nextMonthButtonLabel:E,k=b.nextYearButtonLabel,A=k===void 0?t.defaultProps.nextYearButtonLabel:k,R=r.props,M=R.nextMonthAriaLabel,I=M===void 0?typeof _=="string"?_:"Next Month":M,D=R.nextYearAriaLabel,O=D===void 0?typeof A=="string"?A:"Next Year":D;return ue.createElement("button",{type:"button",className:d.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":x?O:I},ue.createElement("span",{className:g.join(" ")},x?A:_))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),ue.createElement("h2",{className:a.join(" ")},bn(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return ue.createElement(RP,Rt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:vt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return ue.createElement(NP,Rt({},t.defaultProps,r.props,{month:Rr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return ue.createElement(AP,Rt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(mb(),i),r.props.setPreSelection&&r.props.setPreSelection(mb())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ue.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,d=i.i;return ue.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),ue.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(d!==0),r.renderMonthYearDropdown(d!==0),r.renderYearDropdown(d!==0)),ue.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,d,g=i.monthDate,v=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var x=wb(r.state.date,r.props),b=bb(r.state.date,r.props),E=Cb(r.state.date,r.props),_=Eb(r.state.date,r.props),k=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ue.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(d=(a=r.props).renderCustomHeader)===null||d===void 0?void 0:d.call(a,Rt(Rt({},r.state),{customHeaderCount:v,monthDate:g,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:x,nextMonthButtonDisabled:b,prevYearButtonDisabled:E,nextYearButtonDisabled:_})),k&&ue.createElement("div",{className:"react-datepicker__day-names"},r.header(g)))},r.renderYearHeader=function(i){var a=i.monthDate,d=r.props,g=d.showYearPicker,v=d.yearItemNumber,x=v===void 0?t.defaultProps.yearItemNumber:v,b=$a(a,x),E=b.startPeriod,_=b.endPeriod;return ue.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},g?"".concat(E," - ").concat(_):vt(a))},r.renderHeader=function(i){var a=i.monthDate,d=i.i,g=d===void 0?0:d,v={monthDate:a,i:g};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(v);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(v);default:return r.renderDefaultHeader(v)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var d=[],g=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,v=r.props.showPreviousMonths?g-1:0,x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?oa(r.state.date,v):tl(r.state.date,v),b=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:v,E=0;E<g;++E){var _=E-b+v,k=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?oa(x,_):cs(x,_),A="month-".concat(E),R=E<g-1,M=E>0;d.push(ue.createElement("div",{key:A,ref:function(I){r.monthContainer=I??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:k,i:E}),ue.createElement(CP,Rt({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:k,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:E,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:R,monthShowsDuplicateDaysStart:M}))))}return d}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ue.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ue.createElement(kP,Rt({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ue.createElement(TP,Rt({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&ap(i)&&!!r.props.selected,d=a?"".concat(_b(i.getHours()),":").concat(_b(i.getMinutes())):"";if(r.props.showTimeInput)return ue.createElement(xP,Rt({},t.defaultProps,r.props,{date:i,timeString:d,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=$a(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),d=a.startPeriod,g=a.endPeriod,v;return r.props.showYearPicker?v="".concat(d," - ").concat(g):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?v=vt(r.state.date):v="".concat(c2(Rr(r.state.date),r.props.locale)," ").concat(vt(r.state.date)),ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&v)},r.renderChildren=function(){if(r.props.children)return ue.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=L.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ed}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!It(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Ur(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!It(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||XL;return ue.createElement(sp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ue.createElement("div",{style:{display:"contents"},ref:this.containerRef},ue.createElement(n,{className:wn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(L.Component),LP=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,a="react-datepicker__calendar-icon";if(typeof t=="string")return ue.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(ue.isValidElement(t)){var d=t;return ue.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(a," ").concat(r),onClick:function(g){typeof d.props.onClick=="function"&&d.props.onClick(g),typeof i=="function"&&i(g)}})}return ue.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ue.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},gN=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return RD.createPortal(this.props.children,this.el)},t}(L.Component),PP="[tabindex], a, button, input, select, textarea",FP=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},xN=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(PP),1,-1).filter(FP)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=L.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?ue.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ue.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ue.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(L.Component);function BP(e){var t=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,a=L.useRef(null),d=$L(Rt({open:!i,whileElementsMounted:SL,placement:n.popperPlacement,middleware:ks([ML({padding:15}),jL(10),LL({element:a})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),g=Rt(Rt({},n),{hidePopper:i,popperProps:Rt(Rt({},d),{arrowRef:a})});return ue.createElement(e,Rt({},g))};return t}var UP=function(e){hr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,a=n.hidePopper,d=a===void 0?t.defaultProps.hidePopper:a,g=n.popperComponent,v=n.targetComponent,x=n.enableTabLoop,b=n.popperOnKeyDown,E=n.portalId,_=n.portalHost,k=n.popperProps,A=n.showArrow,R=void 0;if(!d){var M=wn("react-datepicker-popper",r);R=ue.createElement(xN,{enableTabLoop:x},ue.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:M,"data-placement":k.placement,onKeyDown:b},g,A&&ue.createElement(zL,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(R=L.createElement(this.props.popperContainer,{},R)),E&&!d&&(R=ue.createElement(gN,{portalId:E,portalHost:_},R));var I=wn("react-datepicker-wrapper",i);return ue.createElement(ue.Fragment,null,ue.createElement("div",{ref:k.refs.setReference,className:I},v),R)},t}(L.Component),zP=BP(UP),Ib="react-datepicker-ignore-onclickoutside";function WP(e,t){return e&&t?Rr(e)!==Rr(t)||vt(e)!==vt(t):e!==t}var K1="Date input not valid.",vN=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:zt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,d){var g=new Date(d.date);return ap(g)?ks(ks([],a,!0),[Rt(Rt({},d),{date:g})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),d=hN(r.props),g=pN(r.props),v=d&&dl(a,y0(d))?d:g&&lo(a,gb(g))?g:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:v,highlightDates:Nb(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Rt(Rt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Rt(Rt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},r.setBlur=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Z1},function(){i||r.setState(function(d){return{focused:a?d.focused:!1}},function(){!a&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return la(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,d,g=r.state.wasHidden,v=g?r.state.open:!0;g&&r.resetHiddenStatus(),r.state.preventFocus||((d=(a=r.props).onFocus)===null||d===void 0||d.call(a,i),v&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,d;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((d=(a=r.props).onBlur)===null||d===void 0||d.call(a,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,d;r.props.inline||r.setOpen(!1),(d=(a=r.props).onClickOutside)===null||d===void 0||d.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,d,g,v,x=[],b=0;b<arguments.length;b++)x[b]=arguments[b];var E=x[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,x),!E||typeof E.isDefaultPrevented!="function"||E.isDefaultPrevented()))){r.setState({inputValue:(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:null,lastPreSelectChange:HP});var _=r.props,k=_.selectsRange,A=_.startDate,R=_.endDate,M=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,I=(a=r.props.strictParsing)!==null&&a!==void 0?a:t.defaultProps.strictParsing,D=(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:"";if(k){var O=D.split(M.includes("-")?uN:"-",2).map(function(fe){return fe.trim()}),q=O[0],Q=O[1],z=$1(q??"",M,r.props.locale,I),j=$1(Q??"",M,r.props.locale,I),G=(A==null?void 0:A.getTime())!==(z==null?void 0:z.getTime()),H=(R==null?void 0:R.getTime())!==(j==null?void 0:j.getTime());if(!G&&!H||z&&zi(z,r.props)||j&&zi(j,r.props))return;(g=(d=r.props).onChange)===null||g===void 0||g.call(d,[z,j],E)}else{var se=$1(D,M,r.props.locale,I,(v=r.props.selected)!==null&&v!==void 0?v:void 0);(se||!D)&&r.setSelected(se,E,!0)}}},r.handleSelect=function(i,a,d){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,d),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var g=r.props,v=g.startDate,x=g.endDate;v&&!x&&(r.props.swapRange||!Tb(i,v))&&r.setOpen(!1)}}},r.setSelected=function(i,a,d,g){var v,x,b=i;if(r.props.showYearPicker){if(b!==null&&w0(vt(b),r.props))return}else if(r.props.showMonthYearPicker){if(b!==null&&fN(b,r.props))return}else if(b!==null&&zi(b,r.props))return;var E=r.props,_=E.onChange,k=E.selectsRange,A=E.startDate,R=E.endDate,M=E.selectsMultiple,I=E.selectedDates,D=E.minTime,O=E.swapRange;if(!Xo(r.props.selected,b)||r.props.allowSameDay||k||M)if(b!==null&&(r.props.selected&&(!d||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(b=X1(b,{hour:ca(r.props.selected),minute:ua(r.props.selected),second:io(r.props.selected)})),!d&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&D&&(b=X1(b,{hour:D.getHours(),minute:D.getMinutes(),second:D.getSeconds()})),r.props.inline||r.setState({preSelection:b}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:g})),k){var q=!A&&!R,Q=A&&!R,z=A&&R;q?_==null||_([b,null],a):Q&&(b===null?_==null||_([null,null],a):Tb(b,A)?O?_==null||_([b,A],a):_==null||_([b,null],a):_==null||_([A,b],a)),z&&(_==null||_([b,null],a))}else if(M){if(b!==null)if(!(I!=null&&I.length))_==null||_([b],a);else{var j=I.some(function(H){return It(H,b)});if(j){var G=I.filter(function(H){return!It(H,b)});_==null||_(G,a)}else _==null||_(ks(ks([],I,!0),[b],!1),a)}}else _==null||_(b,a);d||((x=(v=r.props).onSelect)===null||x===void 0||x.call(v,b,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var a=la(r.props.minDate),d=la(r.props.maxDate),g=!0;if(i){var v=y0(i);if(a&&d)g=ku(i,r.props.minDate,r.props.maxDate);else if(a){var x=y0(r.props.minDate);g=lo(i,x)||Xo(v,x)}else if(d){var b=gb(r.props.maxDate);g=dl(i,b)||Xo(v,b)}}g&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,d;if(!(r.props.selectsRange||r.props.selectsMultiple)){var g=r.props.selected?r.props.selected:r.getPreSelection(),v=r.props.selected?i:X1(g,{hour:ca(i),minute:ua(i)});r.setState({preSelection:v}),(d=(a=r.props).onChange)===null||d===void 0||d.call(a,v),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,d,g,v,x,b;(d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,i);var E=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(E===Me.ArrowDown||E===Me.ArrowUp||E===Me.Enter)&&((g=r.onInputClick)===null||g===void 0||g.call(r));return}if(r.state.open){if(E===Me.ArrowDown||E===Me.ArrowUp){i.preventDefault();var _=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((v=r.calendar)===null||v===void 0?void 0:v.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(_);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var A=zt(r.state.preSelection);E===Me.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Z1?(r.handleSelect(A,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(A)):r.setOpen(!1)):E===Me.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):E===Me.Tab&&r.setOpen(!1),r.inputOk()||(b=(x=r.props).onInputError)===null||b===void 0||b.call(x,{code:1,msg:K1})}},r.onPortalKeyDown=function(i){var a=i.key;a===Me.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,d,g,v,x,b,E=r.props,_=E.minDate,k=E.maxDate,A=E.disabledKeyboardNavigation,R=E.showWeekPicker,M=E.shouldCloseOnSelect,I=E.locale,D=E.calendarStartDay,O=E.adjustDateOnChange,q=E.inline;if((d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,i),!A){var Q=i.key,z=i.shiftKey,j=zt(r.state.preSelection),G=function(ee,ge){var me=ge;switch(ee){case Me.ArrowRight:me=R?nh(ge,1):os(ge,1);break;case Me.ArrowLeft:me=R?sb(ge,1):y9(ge,1);break;case Me.ArrowUp:me=sb(ge,1);break;case Me.ArrowDown:me=nh(ge,1);break;case Me.PageUp:me=z?vc(ge,1):tl(ge,1);break;case Me.PageDown:me=z?oa(ge,1):cs(ge,1);break;case Me.Home:me=so(ge,I,D);break;case Me.End:me=tP(ge);break}return me},H=function(ee,ge){for(var me=40,ce=ee,Se=!1,Re=0,Ye=G(ee,ge);!Se;){if(Re>=me){Ye=ge;break}_&&Ye<_&&(ce=Me.ArrowRight,Ye=zi(_,r.props)?G(ce,Ye):_),k&&Ye>k&&(ce=Me.ArrowLeft,Ye=zi(k,r.props)?G(ce,Ye):k),zi(Ye,r.props)?((ce===Me.PageUp||ce===Me.Home)&&(ce=Me.ArrowRight),(ce===Me.PageDown||ce===Me.End)&&(ce=Me.ArrowLeft),Ye=G(ce,Ye)):Se=!0,Re++}return Ye};if(Q===Me.Enter){i.preventDefault(),r.handleSelect(j,i),!M&&r.setPreSelection(j);return}else if(Q===Me.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(v=(g=r.props).onInputError)===null||v===void 0||v.call(g,{code:1,msg:K1});return}var se=null;switch(Q){case Me.ArrowLeft:case Me.ArrowRight:case Me.ArrowUp:case Me.ArrowDown:case Me.PageUp:case Me.PageDown:case Me.Home:case Me.End:se=H(Q,j);break}if(!se){(b=(x=r.props).onInputError)===null||b===void 0||b.call(x,{code:1,msg:K1});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Z1}),O&&r.setSelected(se),r.setPreSelection(se),q){var fe=Rr(j),ae=Rr(se),re=vt(j),ve=vt(se);fe!==ae||re!==ve?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===Me.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,d=a.selectsRange,g=a.onChange;d?g==null||g([null,null],i):g==null||g(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:ue.createElement(MP,Rt({showMonthYearDropdown:void 0,ref:function(d){r.calendar=d}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:hP(r.modifyHolidays()),outsideClickIgnoreClass:Ib,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,d=a===void 0?t.defaultProps.dateFormat:a,g=i.locale,v=r.props.showTimeInput||r.props.showTimeSelect,x=v?"PPPPp":"PPPP",b;return r.props.selectsRange?b="Selected start date: ".concat(Pi(r.props.startDate,{dateFormat:x,locale:g}),". ").concat(r.props.endDate?"End date: "+Pi(r.props.endDate,{dateFormat:x,locale:g}):""):r.props.showTimeSelectOnly?b="Selected time: ".concat(Pi(r.props.selected,{dateFormat:d,locale:g})):r.props.showYearPicker?b="Selected year: ".concat(Pi(r.props.selected,{dateFormat:"yyyy",locale:g})):r.props.showMonthYearPicker?b="Selected month: ".concat(Pi(r.props.selected,{dateFormat:"MMMM yyyy",locale:g})):r.props.showQuarterYearPicker?b="Selected quarter: ".concat(Pi(r.props.selected,{dateFormat:"yyyy, QQQ",locale:g})):b="Selected date: ".concat(Pi(r.props.selected,{dateFormat:x,locale:g})),ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},b)},r.renderDateInput=function(){var i,a,d,g=wn(r.props.className,(i={},i[Ib]=r.state.open,i)),v=r.props.customInput||ue.createElement("input",{type:"text"}),x=r.props.customInputRef||"ref",b=r.props,E=b.dateFormat,_=E===void 0?t.defaultProps.dateFormat:E,k=b.locale,A=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?KL(r.props.startDate,r.props.endDate,{dateFormat:_,locale:k}):r.props.selectsMultiple?ZL((d=r.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:_,locale:k}):Pi(r.props.selected,{dateFormat:_,locale:k});return L.cloneElement(v,(a={},a[x]=function(R){r.input=R},a.value=A,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=wn(v.props.className,g),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,d=i.disabled,g=i.selected,v=i.startDate,x=i.endDate,b=i.clearButtonTitle,E=i.clearButtonClassName,_=E===void 0?"":E,k=i.ariaLabelClose,A=k===void 0?"Close":k,R=i.selectedDates,M=i.readOnly;return a&&!M&&(g!=null||v!=null||x!=null||R!=null&&R.length)?ue.createElement("button",{type:"button",className:wn("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":A,onClick:r.onClearClick,title:b,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ed,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,a,d,g;n.inline&&WP(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Nb(this.props.highlightDates)}),!r.focused&&!Xo(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((g=(d=this.props).onCalendarClose)===null||g===void 0||g.call(d)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,a=n.calendarIconClassname,d=n.calendarIconClassName,g=n.toggleCalendarOnIconClick,v=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ue.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ue.createElement(LP,Rt({icon:i,className:wn(d,!d&&a,v&&"react-datepicker-ignore-onclickoutside")},g?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?ue.createElement(xN,{enableTabLoop:this.props.enableTabLoop},ue.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=ue.createElement(gN,Rt({portalId:this.props.portalId},this.props),r)),ue.createElement("div",null,this.renderInputContainer(),r)}return ue.createElement(zP,Rt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(L.Component),HP="input",Z1="navigate";var hh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */hh.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",g="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",x=500,b="__lodash_placeholder__",E=1,_=2,k=4,A=1,R=2,M=1,I=2,D=4,O=8,q=16,Q=32,z=64,j=128,G=256,H=512,se=30,fe="...",ae=800,re=16,ve=1,ee=2,ge=3,me=1/0,ce=9007199254740991,Se=17976931348623157e292,Re=0/0,Ye=4294967295,nt=Ye-1,sn=Ye>>>1,gt=[["ary",j],["bind",M],["bindKey",I],["curry",O],["curryRight",q],["flip",H],["partial",Q],["partialRight",z],["rearg",G]],hn="[object Arguments]",De="[object Array]",Oe="[object AsyncFunction]",We="[object Boolean]",Qt="[object Date]",Gn="[object DOMException]",Ft="[object Error]",pn="[object Function]",dt="[object GeneratorFunction]",Ee="[object Map]",Qe="[object Number]",Pn="[object Null]",at="[object Object]",ct="[object Promise]",Ke="[object Proxy]",Ie="[object RegExp]",Ne="[object Set]",Fn="[object String]",pr="[object Symbol]",ke="[object Undefined]",Ge="[object WeakMap]",At="[object WeakSet]",Jt="[object ArrayBuffer]",Ht="[object DataView]",ln="[object Float32Array]",si="[object Float64Array]",Ni="[object Int8Array]",Ls="[object Int16Array]",Kt="[object Int32Array]",Te="[object Uint8Array]",en="[object Uint8ClampedArray]",_t="[object Uint16Array]",Bt="[object Uint32Array]",Gi=/\b__p \+= '';/g,xo=/\b(__p \+=) '' \+/g,Ad=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,hs=/[&<>"']/g,Td=RegExp(Tt.source),kd=RegExp(hs.source),ai=/<%-([\s\S]+?)%>/g,Mc=/<%([\s\S]+?)%>/g,er=/<%=([\s\S]+?)%>/g,ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xl=/^\w*$/,_i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lc=/[\\^$.*+?()[\]{}|]/g,Ps=RegExp(Lc.source),vo=/^\s+/,br=/\s/,Fs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gr=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,Ca=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pc=/[()=,{}\[\]\/\s]/,Cr=/\\(\\)?/g,Ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yo=/\w*$/,vl=/^[-+]0x[0-9a-f]+$/i,Si=/^0b[01]+$/i,lp=/^\[object .+?Constructor\]$/,cp=/^0o[0-7]+$/i,Ai=/^(?:0|[1-9]\d*)$/,mr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=/($^)/,Dd=/['\n\r\u2028\u2029\\]/g,oi="\\ud800-\\udfff",Fc="\\u0300-\\u036f",Ce="\\ufe20-\\ufe2f",up="\\u20d0-\\u20ff",cn=Fc+Ce+up,Bs="\\u2700-\\u27bf",Id="a-z\\xdf-\\xf6\\xf8-\\xff",jt="\\xac\\xb1\\xd7\\xf7",Dt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yt="\\u2000-\\u206f",Bc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yl="A-Z\\xc0-\\xd6\\xd8-\\xde",wl="\\ufe0e\\ufe0f",Tn=jt+Dt+yt+Bc,Ti="[']",dp="["+oi+"]",mn="["+Tn+"]",li="["+cn+"]",Rd="\\d+",Na="["+Bs+"]",Vt="["+Id+"]",tr="[^"+oi+Tn+Rd+Bs+Id+yl+"]",le="\\ud83c[\\udffb-\\udfff]",K="(?:"+li+"|"+le+")",qe="[^"+oi+"]",kn="(?:\\ud83c[\\udde6-\\uddff]){2}",Er="[\\ud800-\\udbff][\\udc00-\\udfff]",_a="["+yl+"]",bl="\\u200d",jr="(?:"+Vt+"|"+tr+")",$e="(?:"+_a+"|"+tr+")",an="(?:"+Ti+"(?:d|ll|m|re|s|t|ve))?",Uc="(?:"+Ti+"(?:D|LL|M|RE|S|T|VE))?",Od=K+"?",Cl="["+wl+"]?",El="(?:"+bl+"(?:"+[qe,kn,Er].join("|")+")"+Cl+Od+")*",zc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bn=Cl+Od+El,wo="(?:"+[Na,kn,Er].join("|")+")"+Bn,ps="(?:"+[qe+li+"?",li,kn,Er,dp].join("|")+")",Ze=RegExp(Ti,"g"),hp=RegExp(li,"g"),lt=RegExp(le+"(?="+le+")|"+ps+Bn,"g"),nr=RegExp([_a+"?"+Vt+"+"+an+"(?="+[mn,_a,"$"].join("|")+")",$e+"+"+Uc+"(?="+[mn,_a+jr,"$"].join("|")+")",_a+"?"+jr+"+"+an,_a+"+"+Uc,fp,zc,Rd,wo].join("|"),"g"),pp=RegExp("["+bl+oi+cn+wl+"]"),Wc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Us=-1,tn={};tn[ln]=tn[si]=tn[Ni]=tn[Ls]=tn[Kt]=tn[Te]=tn[en]=tn[_t]=tn[Bt]=!0,tn[hn]=tn[De]=tn[Jt]=tn[We]=tn[Ht]=tn[Qt]=tn[Ft]=tn[pn]=tn[Ee]=tn[Qe]=tn[at]=tn[Ie]=tn[Ne]=tn[Fn]=tn[Ge]=!1;var Mt={};Mt[hn]=Mt[De]=Mt[Jt]=Mt[Ht]=Mt[We]=Mt[Qt]=Mt[ln]=Mt[si]=Mt[Ni]=Mt[Ls]=Mt[Kt]=Mt[Ee]=Mt[Qe]=Mt[at]=Mt[Ie]=Mt[Ne]=Mt[Fn]=Mt[pr]=Mt[Te]=Mt[en]=Mt[_t]=Mt[Bt]=!0,Mt[Ft]=Mt[pn]=Mt[Ge]=!1;var bo={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Co={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Md={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Eo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},No=parseFloat,Nr=parseInt,Hc=typeof _s=="object"&&_s&&_s.Object===Object&&_s,Ld=typeof self=="object"&&self&&self.Object===Object&&self,$n=Hc||Ld||Function("return this")(),qc=t&&!t.nodeType&&t,zs=qc&&!0&&e&&!e.nodeType&&e,Pd=zs&&zs.exports===qc,Lt=Pd&&Hc.process,Mr=function(){try{var U=zs&&zs.require&&zs.require("util").types;return U||Lt&&Lt.binding&&Lt.binding("util")}catch{}}(),_o=Mr&&Mr.isArrayBuffer,$i=Mr&&Mr.isDate,Fd=Mr&&Mr.isMap,de=Mr&&Mr.isRegExp,ft=Mr&&Mr.isSet,Xn=Mr&&Mr.isTypedArray;function or(U,Y,X){switch(X.length){case 0:return U.call(Y);case 1:return U.call(Y,X[0]);case 2:return U.call(Y,X[0],X[1]);case 3:return U.call(Y,X[0],X[1],X[2])}return U.apply(Y,X)}function Bd(U,Y,X,ne){for(var he=-1,xe=U==null?0:U.length;++he<xe;){var ye=U[he];Y(ne,ye,X(ye),U)}return ne}function $r(U,Y){for(var X=-1,ne=U==null?0:U.length;++X<ne&&Y(U[X],X,U)!==!1;);return U}function mp(U,Y){for(var X=U==null?0:U.length;X--&&Y(U[X],X,U)!==!1;);return U}function Ud(U,Y){for(var X=-1,ne=U==null?0:U.length;++X<ne;)if(!Y(U[X],X,U))return!1;return!0}function ki(U,Y){for(var X=-1,ne=U==null?0:U.length,he=0,xe=[];++X<ne;){var ye=U[X];Y(ye,X,U)&&(xe[he++]=ye)}return xe}function gn(U,Y){var X=U==null?0:U.length;return!!X&&gr(U,Y,0)>-1}function So(U,Y,X){for(var ne=-1,he=U==null?0:U.length;++ne<he;)if(X(Y,U[ne]))return!0;return!1}function st(U,Y){for(var X=-1,ne=U==null?0:U.length,he=Array(ne);++X<ne;)he[X]=Y(U[X],X,U);return he}function ci(U,Y){for(var X=-1,ne=Y.length,he=U.length;++X<ne;)U[he+X]=Y[X];return U}function Xi(U,Y,X,ne){var he=-1,xe=U==null?0:U.length;for(ne&&xe&&(X=U[++he]);++he<xe;)X=Y(X,U[he],he,U);return X}function Yt(U,Y,X,ne){var he=U==null?0:U.length;for(ne&&he&&(X=U[--he]);he--;)X=Y(X,U[he],he,U);return X}function Xe(U,Y){for(var X=-1,ne=U==null?0:U.length;++X<ne;)if(Y(U[X],X,U))return!0;return!1}var gp=Sl("length");function nn(U){return U.split("")}function Ws(U){return U.match(Ca)||[]}function Hs(U,Y,X){var ne;return X(U,function(he,xe,ye){if(Y(he,xe,ye))return ne=xe,!1}),ne}function Nl(U,Y,X,ne){for(var he=U.length,xe=X+(ne?1:-1);ne?xe--:++xe<he;)if(Y(U[xe],xe,U))return xe;return-1}function gr(U,Y,X){return Y===Y?l(U,Y,X):Nl(U,Yc,X)}function Vc(U,Y,X,ne){for(var he=X-1,xe=U.length;++he<xe;)if(ne(U[he],Y))return he;return-1}function Yc(U){return U!==U}function _l(U,Y){var X=U==null?0:U.length;return X?Ao(U,Y)/X:Re}function Sl(U){return function(Y){return Y==null?n:Y[U]}}function Al(U){return function(Y){return U==null?n:U[Y]}}function zd(U,Y,X,ne,he){return he(U,function(xe,ye,ze){X=ne?(ne=!1,xe):Y(X,xe,ye,ze)}),X}function Sa(U,Y){var X=U.length;for(U.sort(Y);X--;)U[X]=U[X].value;return U}function Ao(U,Y){for(var X,ne=-1,he=U.length;++ne<he;){var xe=Y(U[ne]);xe!==n&&(X=X===n?xe:X+xe)}return X}function Gc(U,Y){for(var X=-1,ne=Array(U);++X<U;)ne[X]=Y(X);return ne}function To(U,Y){return st(Y,function(X){return[X,U[X]]})}function Wd(U){return U&&U.slice(0,y(U)+1).replace(vo,"")}function Dn(U){return function(Y){return U(Y)}}function Aa(U,Y){return st(Y,function(X){return U[X]})}function lr(U,Y){return U.has(Y)}function $c(U,Y){for(var X=-1,ne=U.length;++X<ne&&gr(Y,U[X],0)>-1;);return X}function ui(U,Y){for(var X=U.length;X--&&gr(Y,U[X],0)>-1;);return X}function xp(U,Y){for(var X=U.length,ne=0;X--;)U[X]===Y&&++ne;return ne}var Xc=Al(bo),vp=Al(Co);function Hd(U){return"\\"+Eo[U]}function Di(U,Y){return U==null?n:U[Y]}function Ta(U){return pp.test(U)}function Qc(U){return Wc.test(U)}function ko(U){for(var Y,X=[];!(Y=U.next()).done;)X.push(Y.value);return X}function wt(U){var Y=-1,X=Array(U.size);return U.forEach(function(ne,he){X[++Y]=[he,ne]}),X}function Do(U,Y){return function(X){return U(Y(X))}}function P(U,Y){for(var X=-1,ne=U.length,he=0,xe=[];++X<ne;){var ye=U[X];(ye===Y||ye===b)&&(U[X]=b,xe[he++]=X)}return xe}function s(U){var Y=-1,X=Array(U.size);return U.forEach(function(ne){X[++Y]=ne}),X}function o(U){var Y=-1,X=Array(U.size);return U.forEach(function(ne){X[++Y]=[ne,ne]}),X}function l(U,Y,X){for(var ne=X-1,he=U.length;++ne<he;)if(U[ne]===Y)return ne;return-1}function f(U,Y,X){for(var ne=X+1;ne--;)if(U[ne]===Y)return ne;return ne}function h(U){return Ta(U)?N(U):gp(U)}function m(U){return Ta(U)?T(U):nn(U)}function y(U){for(var Y=U.length;Y--&&br.test(U.charAt(Y)););return Y}var C=Al(Md);function N(U){for(var Y=lt.lastIndex=0;lt.test(U);)++Y;return Y}function T(U){return U.match(lt)||[]}function F(U){return U.match(nr)||[]}var W=function U(Y){Y=Y==null?$n:Z.defaults($n.Object(),Y,Z.pick($n,jd));var X=Y.Array,ne=Y.Date,he=Y.Error,xe=Y.Function,ye=Y.Math,ze=Y.Object,ot=Y.RegExp,_r=Y.String,xn=Y.TypeError,rr=X.prototype,Gt=xe.prototype,vn=ze.prototype,cr=Y["__core-js_shared__"],Qi=Gt.toString,Et=vn.hasOwnProperty,yp=0,qd=function(){var u=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Vd=vn.toString,t_=Qi.call(ze),n_=$n._,r_=ot("^"+Qi.call(Et).replace(Lc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yd=Pd?Y.Buffer:n,ka=Y.Symbol,Gd=Y.Uint8Array,v2=Yd?Yd.allocUnsafe:n,$d=Do(ze.getPrototypeOf,ze),y2=ze.create,w2=vn.propertyIsEnumerable,Xd=rr.splice,b2=ka?ka.isConcatSpreadable:n,Kc=ka?ka.iterator:n,Io=ka?ka.toStringTag:n,Qd=function(){try{var u=Lo(ze,"defineProperty");return u({},"",{}),u}catch{}}(),i_=Y.clearTimeout!==$n.clearTimeout&&Y.clearTimeout,s_=ne&&ne.now!==$n.Date.now&&ne.now,a_=Y.setTimeout!==$n.setTimeout&&Y.setTimeout,Kd=ye.ceil,Zd=ye.floor,wp=ze.getOwnPropertySymbols,o_=Yd?Yd.isBuffer:n,C2=Y.isFinite,l_=rr.join,c_=Do(ze.keys,ze),ir=ye.max,Sr=ye.min,u_=ne.now,d_=Y.parseInt,E2=ye.random,f_=rr.reverse,bp=Lo(Y,"DataView"),Zc=Lo(Y,"Map"),Cp=Lo(Y,"Promise"),Tl=Lo(Y,"Set"),Jc=Lo(Y,"WeakMap"),eu=Lo(ze,"create"),Jd=Jc&&new Jc,kl={},h_=Po(bp),p_=Po(Zc),m_=Po(Cp),g_=Po(Tl),x_=Po(Jc),ef=ka?ka.prototype:n,tu=ef?ef.valueOf:n,N2=ef?ef.toString:n;function V(u){if(In(u)&&!ut(u)&&!(u instanceof Nt)){if(u instanceof Ii)return u;if(Et.call(u,"__wrapped__"))return _v(u)}return new Ii(u)}var Dl=function(){function u(){}return function(p){if(!Cn(p))return{};if(y2)return y2(p);u.prototype=p;var w=new u;return u.prototype=n,w}}();function tf(){}function Ii(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}V.templateSettings={escape:ai,evaluate:Mc,interpolate:er,variable:"",imports:{_:V}},V.prototype=tf.prototype,V.prototype.constructor=V,Ii.prototype=Dl(tf.prototype),Ii.prototype.constructor=Ii;function Nt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ye,this.__views__=[]}function v_(){var u=new Nt(this.__wrapped__);return u.__actions__=Xr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Xr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Xr(this.__views__),u}function y_(){if(this.__filtered__){var u=new Nt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function w_(){var u=this.__wrapped__.value(),p=this.__dir__,w=ut(u),S=p<0,B=w?u.length:0,$=RS(0,B,this.__views__),J=$.start,ie=$.end,oe=ie-J,we=S?ie:J-1,be=this.__iteratees__,_e=be.length,je=0,He=Sr(oe,this.__takeCount__);if(!w||!S&&B==oe&&He==oe)return $2(u,this.__actions__);var et=[];e:for(;oe--&&je<He;){we+=p;for(var mt=-1,tt=u[we];++mt<_e;){var bt=be[mt],St=bt.iteratee,hi=bt.type,Fr=St(tt);if(hi==ee)tt=Fr;else if(!Fr){if(hi==ve)continue e;break e}}et[je++]=tt}return et}Nt.prototype=Dl(tf.prototype),Nt.prototype.constructor=Nt;function Ro(u){var p=-1,w=u==null?0:u.length;for(this.clear();++p<w;){var S=u[p];this.set(S[0],S[1])}}function b_(){this.__data__=eu?eu(null):{},this.size=0}function C_(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function E_(u){var p=this.__data__;if(eu){var w=p[u];return w===v?n:w}return Et.call(p,u)?p[u]:n}function N_(u){var p=this.__data__;return eu?p[u]!==n:Et.call(p,u)}function __(u,p){var w=this.__data__;return this.size+=this.has(u)?0:1,w[u]=eu&&p===n?v:p,this}Ro.prototype.clear=b_,Ro.prototype.delete=C_,Ro.prototype.get=E_,Ro.prototype.has=N_,Ro.prototype.set=__;function qs(u){var p=-1,w=u==null?0:u.length;for(this.clear();++p<w;){var S=u[p];this.set(S[0],S[1])}}function S_(){this.__data__=[],this.size=0}function A_(u){var p=this.__data__,w=nf(p,u);if(w<0)return!1;var S=p.length-1;return w==S?p.pop():Xd.call(p,w,1),--this.size,!0}function T_(u){var p=this.__data__,w=nf(p,u);return w<0?n:p[w][1]}function k_(u){return nf(this.__data__,u)>-1}function D_(u,p){var w=this.__data__,S=nf(w,u);return S<0?(++this.size,w.push([u,p])):w[S][1]=p,this}qs.prototype.clear=S_,qs.prototype.delete=A_,qs.prototype.get=T_,qs.prototype.has=k_,qs.prototype.set=D_;function Vs(u){var p=-1,w=u==null?0:u.length;for(this.clear();++p<w;){var S=u[p];this.set(S[0],S[1])}}function I_(){this.size=0,this.__data__={hash:new Ro,map:new(Zc||qs),string:new Ro}}function R_(u){var p=mf(this,u).delete(u);return this.size-=p?1:0,p}function O_(u){return mf(this,u).get(u)}function j_(u){return mf(this,u).has(u)}function M_(u,p){var w=mf(this,u),S=w.size;return w.set(u,p),this.size+=w.size==S?0:1,this}Vs.prototype.clear=I_,Vs.prototype.delete=R_,Vs.prototype.get=O_,Vs.prototype.has=j_,Vs.prototype.set=M_;function Oo(u){var p=-1,w=u==null?0:u.length;for(this.__data__=new Vs;++p<w;)this.add(u[p])}function L_(u){return this.__data__.set(u,v),this}function P_(u){return this.__data__.has(u)}Oo.prototype.add=Oo.prototype.push=L_,Oo.prototype.has=P_;function Ki(u){var p=this.__data__=new qs(u);this.size=p.size}function F_(){this.__data__=new qs,this.size=0}function B_(u){var p=this.__data__,w=p.delete(u);return this.size=p.size,w}function U_(u){return this.__data__.get(u)}function z_(u){return this.__data__.has(u)}function W_(u,p){var w=this.__data__;if(w instanceof qs){var S=w.__data__;if(!Zc||S.length<i-1)return S.push([u,p]),this.size=++w.size,this;w=this.__data__=new Vs(S)}return w.set(u,p),this.size=w.size,this}Ki.prototype.clear=F_,Ki.prototype.delete=B_,Ki.prototype.get=U_,Ki.prototype.has=z_,Ki.prototype.set=W_;function _2(u,p){var w=ut(u),S=!w&&Fo(u),B=!w&&!S&&ja(u),$=!w&&!S&&!B&&jl(u),J=w||S||B||$,ie=J?Gc(u.length,_r):[],oe=ie.length;for(var we in u)(p||Et.call(u,we))&&!(J&&(we=="length"||B&&(we=="offset"||we=="parent")||$&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Xs(we,oe)))&&ie.push(we);return ie}function S2(u){var p=u.length;return p?u[Op(0,p-1)]:n}function H_(u,p){return gf(Xr(u),jo(p,0,u.length))}function q_(u){return gf(Xr(u))}function Ep(u,p,w){(w!==n&&!Zi(u[p],w)||w===n&&!(p in u))&&Ys(u,p,w)}function nu(u,p,w){var S=u[p];(!(Et.call(u,p)&&Zi(S,w))||w===n&&!(p in u))&&Ys(u,p,w)}function nf(u,p){for(var w=u.length;w--;)if(Zi(u[w][0],p))return w;return-1}function V_(u,p,w,S){return Da(u,function(B,$,J){p(S,B,w(B),J)}),S}function A2(u,p){return u&&gs(p,ur(p),u)}function Y_(u,p){return u&&gs(p,Kr(p),u)}function Ys(u,p,w){p=="__proto__"&&Qd?Qd(u,p,{configurable:!0,enumerable:!0,value:w,writable:!0}):u[p]=w}function Np(u,p){for(var w=-1,S=p.length,B=X(S),$=u==null;++w<S;)B[w]=$?n:i1(u,p[w]);return B}function jo(u,p,w){return u===u&&(w!==n&&(u=u<=w?u:w),p!==n&&(u=u>=p?u:p)),u}function Ri(u,p,w,S,B,$){var J,ie=p&E,oe=p&_,we=p&k;if(w&&(J=B?w(u,S,B,$):w(u)),J!==n)return J;if(!Cn(u))return u;var be=ut(u);if(be){if(J=jS(u),!ie)return Xr(u,J)}else{var _e=Ar(u),je=_e==pn||_e==dt;if(ja(u))return K2(u,ie);if(_e==at||_e==hn||je&&!B){if(J=oe||je?{}:gv(u),!ie)return oe?ES(u,Y_(J,u)):CS(u,A2(J,u))}else{if(!Mt[_e])return B?u:{};J=MS(u,_e,ie)}}$||($=new Ki);var He=$.get(u);if(He)return He;$.set(u,J),Vv(u)?u.forEach(function(tt){J.add(Ri(tt,p,w,tt,u,$))}):Hv(u)&&u.forEach(function(tt,bt){J.set(bt,Ri(tt,p,w,bt,u,$))});var et=we?oe?qp:Hp:oe?Kr:ur,mt=be?n:et(u);return $r(mt||u,function(tt,bt){mt&&(bt=tt,tt=u[bt]),nu(J,bt,Ri(tt,p,w,bt,u,$))}),J}function G_(u){var p=ur(u);return function(w){return T2(w,u,p)}}function T2(u,p,w){var S=w.length;if(u==null)return!S;for(u=ze(u);S--;){var B=w[S],$=p[B],J=u[B];if(J===n&&!(B in u)||!$(J))return!1}return!0}function k2(u,p,w){if(typeof u!="function")throw new xn(d);return cu(function(){u.apply(n,w)},p)}function ru(u,p,w,S){var B=-1,$=gn,J=!0,ie=u.length,oe=[],we=p.length;if(!ie)return oe;w&&(p=st(p,Dn(w))),S?($=So,J=!1):p.length>=i&&($=lr,J=!1,p=new Oo(p));e:for(;++B<ie;){var be=u[B],_e=w==null?be:w(be);if(be=S||be!==0?be:0,J&&_e===_e){for(var je=we;je--;)if(p[je]===_e)continue e;oe.push(be)}else $(p,_e,S)||oe.push(be)}return oe}var Da=nv(ms),D2=nv(Sp,!0);function $_(u,p){var w=!0;return Da(u,function(S,B,$){return w=!!p(S,B,$),w}),w}function rf(u,p,w){for(var S=-1,B=u.length;++S<B;){var $=u[S],J=p($);if(J!=null&&(ie===n?J===J&&!fi(J):w(J,ie)))var ie=J,oe=$}return oe}function X_(u,p,w,S){var B=u.length;for(w=pt(w),w<0&&(w=-w>B?0:B+w),S=S===n||S>B?B:pt(S),S<0&&(S+=B),S=w>S?0:Gv(S);w<S;)u[w++]=p;return u}function I2(u,p){var w=[];return Da(u,function(S,B,$){p(S,B,$)&&w.push(S)}),w}function xr(u,p,w,S,B){var $=-1,J=u.length;for(w||(w=PS),B||(B=[]);++$<J;){var ie=u[$];p>0&&w(ie)?p>1?xr(ie,p-1,w,S,B):ci(B,ie):S||(B[B.length]=ie)}return B}var _p=rv(),R2=rv(!0);function ms(u,p){return u&&_p(u,p,ur)}function Sp(u,p){return u&&R2(u,p,ur)}function sf(u,p){return ki(p,function(w){return Qs(u[w])})}function Mo(u,p){p=Ra(p,u);for(var w=0,S=p.length;u!=null&&w<S;)u=u[xs(p[w++])];return w&&w==S?u:n}function O2(u,p,w){var S=p(u);return ut(u)?S:ci(S,w(u))}function Lr(u){return u==null?u===n?ke:Pn:Io&&Io in ze(u)?IS(u):qS(u)}function Ap(u,p){return u>p}function Q_(u,p){return u!=null&&Et.call(u,p)}function K_(u,p){return u!=null&&p in ze(u)}function Z_(u,p,w){return u>=Sr(p,w)&&u<ir(p,w)}function Tp(u,p,w){for(var S=w?So:gn,B=u[0].length,$=u.length,J=$,ie=X($),oe=1/0,we=[];J--;){var be=u[J];J&&p&&(be=st(be,Dn(p))),oe=Sr(be.length,oe),ie[J]=!w&&(p||B>=120&&be.length>=120)?new Oo(J&&be):n}be=u[0];var _e=-1,je=ie[0];e:for(;++_e<B&&we.length<oe;){var He=be[_e],et=p?p(He):He;if(He=w||He!==0?He:0,!(je?lr(je,et):S(we,et,w))){for(J=$;--J;){var mt=ie[J];if(!(mt?lr(mt,et):S(u[J],et,w)))continue e}je&&je.push(et),we.push(He)}}return we}function J_(u,p,w,S){return ms(u,function(B,$,J){p(S,w(B),$,J)}),S}function iu(u,p,w){p=Ra(p,u),u=wv(u,p);var S=u==null?u:u[xs(ji(p))];return S==null?n:or(S,u,w)}function j2(u){return In(u)&&Lr(u)==hn}function eS(u){return In(u)&&Lr(u)==Jt}function tS(u){return In(u)&&Lr(u)==Qt}function su(u,p,w,S,B){return u===p?!0:u==null||p==null||!In(u)&&!In(p)?u!==u&&p!==p:nS(u,p,w,S,su,B)}function nS(u,p,w,S,B,$){var J=ut(u),ie=ut(p),oe=J?De:Ar(u),we=ie?De:Ar(p);oe=oe==hn?at:oe,we=we==hn?at:we;var be=oe==at,_e=we==at,je=oe==we;if(je&&ja(u)){if(!ja(p))return!1;J=!0,be=!1}if(je&&!be)return $||($=new Ki),J||jl(u)?hv(u,p,w,S,B,$):kS(u,p,oe,w,S,B,$);if(!(w&A)){var He=be&&Et.call(u,"__wrapped__"),et=_e&&Et.call(p,"__wrapped__");if(He||et){var mt=He?u.value():u,tt=et?p.value():p;return $||($=new Ki),B(mt,tt,w,S,$)}}return je?($||($=new Ki),DS(u,p,w,S,B,$)):!1}function rS(u){return In(u)&&Ar(u)==Ee}function kp(u,p,w,S){var B=w.length,$=B,J=!S;if(u==null)return!$;for(u=ze(u);B--;){var ie=w[B];if(J&&ie[2]?ie[1]!==u[ie[0]]:!(ie[0]in u))return!1}for(;++B<$;){ie=w[B];var oe=ie[0],we=u[oe],be=ie[1];if(J&&ie[2]){if(we===n&&!(oe in u))return!1}else{var _e=new Ki;if(S)var je=S(we,be,oe,u,p,_e);if(!(je===n?su(be,we,A|R,S,_e):je))return!1}}return!0}function M2(u){if(!Cn(u)||BS(u))return!1;var p=Qs(u)?r_:lp;return p.test(Po(u))}function iS(u){return In(u)&&Lr(u)==Ie}function sS(u){return In(u)&&Ar(u)==Ne}function aS(u){return In(u)&&Cf(u.length)&&!!tn[Lr(u)]}function L2(u){return typeof u=="function"?u:u==null?Zr:typeof u=="object"?ut(u)?B2(u[0],u[1]):F2(u):iy(u)}function Dp(u){if(!lu(u))return c_(u);var p=[];for(var w in ze(u))Et.call(u,w)&&w!="constructor"&&p.push(w);return p}function oS(u){if(!Cn(u))return HS(u);var p=lu(u),w=[];for(var S in u)S=="constructor"&&(p||!Et.call(u,S))||w.push(S);return w}function Ip(u,p){return u<p}function P2(u,p){var w=-1,S=Qr(u)?X(u.length):[];return Da(u,function(B,$,J){S[++w]=p(B,$,J)}),S}function F2(u){var p=Yp(u);return p.length==1&&p[0][2]?vv(p[0][0],p[0][1]):function(w){return w===u||kp(w,u,p)}}function B2(u,p){return $p(u)&&xv(p)?vv(xs(u),p):function(w){var S=i1(w,u);return S===n&&S===p?s1(w,u):su(p,S,A|R)}}function af(u,p,w,S,B){u!==p&&_p(p,function($,J){if(B||(B=new Ki),Cn($))lS(u,p,J,w,af,S,B);else{var ie=S?S(Qp(u,J),$,J+"",u,p,B):n;ie===n&&(ie=$),Ep(u,J,ie)}},Kr)}function lS(u,p,w,S,B,$,J){var ie=Qp(u,w),oe=Qp(p,w),we=J.get(oe);if(we){Ep(u,w,we);return}var be=$?$(ie,oe,w+"",u,p,J):n,_e=be===n;if(_e){var je=ut(oe),He=!je&&ja(oe),et=!je&&!He&&jl(oe);be=oe,je||He||et?ut(ie)?be=ie:Un(ie)?be=Xr(ie):He?(_e=!1,be=K2(oe,!0)):et?(_e=!1,be=Z2(oe,!0)):be=[]:uu(oe)||Fo(oe)?(be=ie,Fo(ie)?be=$v(ie):(!Cn(ie)||Qs(ie))&&(be=gv(oe))):_e=!1}_e&&(J.set(oe,be),B(be,oe,S,$,J),J.delete(oe)),Ep(u,w,be)}function U2(u,p){var w=u.length;if(w)return p+=p<0?w:0,Xs(p,w)?u[p]:n}function z2(u,p,w){p.length?p=st(p,function($){return ut($)?function(J){return Mo(J,$.length===1?$[0]:$)}:$}):p=[Zr];var S=-1;p=st(p,Dn(Je()));var B=P2(u,function($,J,ie){var oe=st(p,function(we){return we($)});return{criteria:oe,index:++S,value:$}});return Sa(B,function($,J){return bS($,J,w)})}function cS(u,p){return W2(u,p,function(w,S){return s1(u,S)})}function W2(u,p,w){for(var S=-1,B=p.length,$={};++S<B;){var J=p[S],ie=Mo(u,J);w(ie,J)&&au($,Ra(J,u),ie)}return $}function uS(u){return function(p){return Mo(p,u)}}function Rp(u,p,w,S){var B=S?Vc:gr,$=-1,J=p.length,ie=u;for(u===p&&(p=Xr(p)),w&&(ie=st(u,Dn(w)));++$<J;)for(var oe=0,we=p[$],be=w?w(we):we;(oe=B(ie,be,oe,S))>-1;)ie!==u&&Xd.call(ie,oe,1),Xd.call(u,oe,1);return u}function H2(u,p){for(var w=u?p.length:0,S=w-1;w--;){var B=p[w];if(w==S||B!==$){var $=B;Xs(B)?Xd.call(u,B,1):Lp(u,B)}}return u}function Op(u,p){return u+Zd(E2()*(p-u+1))}function dS(u,p,w,S){for(var B=-1,$=ir(Kd((p-u)/(w||1)),0),J=X($);$--;)J[S?$:++B]=u,u+=w;return J}function jp(u,p){var w="";if(!u||p<1||p>ce)return w;do p%2&&(w+=u),p=Zd(p/2),p&&(u+=u);while(p);return w}function xt(u,p){return Kp(yv(u,p,Zr),u+"")}function fS(u){return S2(Ml(u))}function hS(u,p){var w=Ml(u);return gf(w,jo(p,0,w.length))}function au(u,p,w,S){if(!Cn(u))return u;p=Ra(p,u);for(var B=-1,$=p.length,J=$-1,ie=u;ie!=null&&++B<$;){var oe=xs(p[B]),we=w;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return u;if(B!=J){var be=ie[oe];we=S?S(be,oe,ie):n,we===n&&(we=Cn(be)?be:Xs(p[B+1])?[]:{})}nu(ie,oe,we),ie=ie[oe]}return u}var q2=Jd?function(u,p){return Jd.set(u,p),u}:Zr,pS=Qd?function(u,p){return Qd(u,"toString",{configurable:!0,enumerable:!1,value:o1(p),writable:!0})}:Zr;function mS(u){return gf(Ml(u))}function Oi(u,p,w){var S=-1,B=u.length;p<0&&(p=-p>B?0:B+p),w=w>B?B:w,w<0&&(w+=B),B=p>w?0:w-p>>>0,p>>>=0;for(var $=X(B);++S<B;)$[S]=u[S+p];return $}function gS(u,p){var w;return Da(u,function(S,B,$){return w=p(S,B,$),!w}),!!w}function of(u,p,w){var S=0,B=u==null?S:u.length;if(typeof p=="number"&&p===p&&B<=sn){for(;S<B;){var $=S+B>>>1,J=u[$];J!==null&&!fi(J)&&(w?J<=p:J<p)?S=$+1:B=$}return B}return Mp(u,p,Zr,w)}function Mp(u,p,w,S){var B=0,$=u==null?0:u.length;if($===0)return 0;p=w(p);for(var J=p!==p,ie=p===null,oe=fi(p),we=p===n;B<$;){var be=Zd((B+$)/2),_e=w(u[be]),je=_e!==n,He=_e===null,et=_e===_e,mt=fi(_e);if(J)var tt=S||et;else we?tt=et&&(S||je):ie?tt=et&&je&&(S||!He):oe?tt=et&&je&&!He&&(S||!mt):He||mt?tt=!1:tt=S?_e<=p:_e<p;tt?B=be+1:$=be}return Sr($,nt)}function V2(u,p){for(var w=-1,S=u.length,B=0,$=[];++w<S;){var J=u[w],ie=p?p(J):J;if(!w||!Zi(ie,oe)){var oe=ie;$[B++]=J===0?0:J}}return $}function Y2(u){return typeof u=="number"?u:fi(u)?Re:+u}function di(u){if(typeof u=="string")return u;if(ut(u))return st(u,di)+"";if(fi(u))return N2?N2.call(u):"";var p=u+"";return p=="0"&&1/u==-me?"-0":p}function Ia(u,p,w){var S=-1,B=gn,$=u.length,J=!0,ie=[],oe=ie;if(w)J=!1,B=So;else if($>=i){var we=p?null:AS(u);if(we)return s(we);J=!1,B=lr,oe=new Oo}else oe=p?[]:ie;e:for(;++S<$;){var be=u[S],_e=p?p(be):be;if(be=w||be!==0?be:0,J&&_e===_e){for(var je=oe.length;je--;)if(oe[je]===_e)continue e;p&&oe.push(_e),ie.push(be)}else B(oe,_e,w)||(oe!==ie&&oe.push(_e),ie.push(be))}return ie}function Lp(u,p){return p=Ra(p,u),u=wv(u,p),u==null||delete u[xs(ji(p))]}function G2(u,p,w,S){return au(u,p,w(Mo(u,p)),S)}function lf(u,p,w,S){for(var B=u.length,$=S?B:-1;(S?$--:++$<B)&&p(u[$],$,u););return w?Oi(u,S?0:$,S?$+1:B):Oi(u,S?$+1:0,S?B:$)}function $2(u,p){var w=u;return w instanceof Nt&&(w=w.value()),Xi(p,function(S,B){return B.func.apply(B.thisArg,ci([S],B.args))},w)}function Pp(u,p,w){var S=u.length;if(S<2)return S?Ia(u[0]):[];for(var B=-1,$=X(S);++B<S;)for(var J=u[B],ie=-1;++ie<S;)ie!=B&&($[B]=ru($[B]||J,u[ie],p,w));return Ia(xr($,1),p,w)}function X2(u,p,w){for(var S=-1,B=u.length,$=p.length,J={};++S<B;){var ie=S<$?p[S]:n;w(J,u[S],ie)}return J}function Fp(u){return Un(u)?u:[]}function Bp(u){return typeof u=="function"?u:Zr}function Ra(u,p){return ut(u)?u:$p(u,p)?[u]:Nv(Ut(u))}var xS=xt;function Oa(u,p,w){var S=u.length;return w=w===n?S:w,!p&&w>=S?u:Oi(u,p,w)}var Q2=i_||function(u){return $n.clearTimeout(u)};function K2(u,p){if(p)return u.slice();var w=u.length,S=v2?v2(w):new u.constructor(w);return u.copy(S),S}function Up(u){var p=new u.constructor(u.byteLength);return new Gd(p).set(new Gd(u)),p}function vS(u,p){var w=p?Up(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.byteLength)}function yS(u){var p=new u.constructor(u.source,yo.exec(u));return p.lastIndex=u.lastIndex,p}function wS(u){return tu?ze(tu.call(u)):{}}function Z2(u,p){var w=p?Up(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.length)}function J2(u,p){if(u!==p){var w=u!==n,S=u===null,B=u===u,$=fi(u),J=p!==n,ie=p===null,oe=p===p,we=fi(p);if(!ie&&!we&&!$&&u>p||$&&J&&oe&&!ie&&!we||S&&J&&oe||!w&&oe||!B)return 1;if(!S&&!$&&!we&&u<p||we&&w&&B&&!S&&!$||ie&&w&&B||!J&&B||!oe)return-1}return 0}function bS(u,p,w){for(var S=-1,B=u.criteria,$=p.criteria,J=B.length,ie=w.length;++S<J;){var oe=J2(B[S],$[S]);if(oe){if(S>=ie)return oe;var we=w[S];return oe*(we=="desc"?-1:1)}}return u.index-p.index}function ev(u,p,w,S){for(var B=-1,$=u.length,J=w.length,ie=-1,oe=p.length,we=ir($-J,0),be=X(oe+we),_e=!S;++ie<oe;)be[ie]=p[ie];for(;++B<J;)(_e||B<$)&&(be[w[B]]=u[B]);for(;we--;)be[ie++]=u[B++];return be}function tv(u,p,w,S){for(var B=-1,$=u.length,J=-1,ie=w.length,oe=-1,we=p.length,be=ir($-ie,0),_e=X(be+we),je=!S;++B<be;)_e[B]=u[B];for(var He=B;++oe<we;)_e[He+oe]=p[oe];for(;++J<ie;)(je||B<$)&&(_e[He+w[J]]=u[B++]);return _e}function Xr(u,p){var w=-1,S=u.length;for(p||(p=X(S));++w<S;)p[w]=u[w];return p}function gs(u,p,w,S){var B=!w;w||(w={});for(var $=-1,J=p.length;++$<J;){var ie=p[$],oe=S?S(w[ie],u[ie],ie,w,u):n;oe===n&&(oe=u[ie]),B?Ys(w,ie,oe):nu(w,ie,oe)}return w}function CS(u,p){return gs(u,Gp(u),p)}function ES(u,p){return gs(u,pv(u),p)}function cf(u,p){return function(w,S){var B=ut(w)?Bd:V_,$=p?p():{};return B(w,u,Je(S,2),$)}}function Il(u){return xt(function(p,w){var S=-1,B=w.length,$=B>1?w[B-1]:n,J=B>2?w[2]:n;for($=u.length>3&&typeof $=="function"?(B--,$):n,J&&Pr(w[0],w[1],J)&&($=B<3?n:$,B=1),p=ze(p);++S<B;){var ie=w[S];ie&&u(p,ie,S,$)}return p})}function nv(u,p){return function(w,S){if(w==null)return w;if(!Qr(w))return u(w,S);for(var B=w.length,$=p?B:-1,J=ze(w);(p?$--:++$<B)&&S(J[$],$,J)!==!1;);return w}}function rv(u){return function(p,w,S){for(var B=-1,$=ze(p),J=S(p),ie=J.length;ie--;){var oe=J[u?ie:++B];if(w($[oe],oe,$)===!1)break}return p}}function NS(u,p,w){var S=p&M,B=ou(u);function $(){var J=this&&this!==$n&&this instanceof $?B:u;return J.apply(S?w:this,arguments)}return $}function iv(u){return function(p){p=Ut(p);var w=Ta(p)?m(p):n,S=w?w[0]:p.charAt(0),B=w?Oa(w,1).join(""):p.slice(1);return S[u]()+B}}function Rl(u){return function(p){return Xi(ny(ty(p).replace(Ze,"")),u,"")}}function ou(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var w=Dl(u.prototype),S=u.apply(w,p);return Cn(S)?S:w}}function _S(u,p,w){var S=ou(u);function B(){for(var $=arguments.length,J=X($),ie=$,oe=Ol(B);ie--;)J[ie]=arguments[ie];var we=$<3&&J[0]!==oe&&J[$-1]!==oe?[]:P(J,oe);if($-=we.length,$<w)return cv(u,p,uf,B.placeholder,n,J,we,n,n,w-$);var be=this&&this!==$n&&this instanceof B?S:u;return or(be,this,J)}return B}function sv(u){return function(p,w,S){var B=ze(p);if(!Qr(p)){var $=Je(w,3);p=ur(p),w=function(ie){return $(B[ie],ie,B)}}var J=u(p,w,S);return J>-1?B[$?p[J]:J]:n}}function av(u){return $s(function(p){var w=p.length,S=w,B=Ii.prototype.thru;for(u&&p.reverse();S--;){var $=p[S];if(typeof $!="function")throw new xn(d);if(B&&!J&&pf($)=="wrapper")var J=new Ii([],!0)}for(S=J?S:w;++S<w;){$=p[S];var ie=pf($),oe=ie=="wrapper"?Vp($):n;oe&&Xp(oe[0])&&oe[1]==(j|O|Q|G)&&!oe[4].length&&oe[9]==1?J=J[pf(oe[0])].apply(J,oe[3]):J=$.length==1&&Xp($)?J[ie]():J.thru($)}return function(){var we=arguments,be=we[0];if(J&&we.length==1&&ut(be))return J.plant(be).value();for(var _e=0,je=w?p[_e].apply(this,we):be;++_e<w;)je=p[_e].call(this,je);return je}})}function uf(u,p,w,S,B,$,J,ie,oe,we){var be=p&j,_e=p&M,je=p&I,He=p&(O|q),et=p&H,mt=je?n:ou(u);function tt(){for(var bt=arguments.length,St=X(bt),hi=bt;hi--;)St[hi]=arguments[hi];if(He)var Fr=Ol(tt),pi=xp(St,Fr);if(S&&(St=ev(St,S,B,He)),$&&(St=tv(St,$,J,He)),bt-=pi,He&&bt<we){var zn=P(St,Fr);return cv(u,p,uf,tt.placeholder,w,St,zn,ie,oe,we-bt)}var Ji=_e?w:this,Zs=je?Ji[u]:u;return bt=St.length,ie?St=VS(St,ie):et&&bt>1&&St.reverse(),be&&oe<bt&&(St.length=oe),this&&this!==$n&&this instanceof tt&&(Zs=mt||ou(Zs)),Zs.apply(Ji,St)}return tt}function ov(u,p){return function(w,S){return J_(w,u,p(S),{})}}function df(u,p){return function(w,S){var B;if(w===n&&S===n)return p;if(w!==n&&(B=w),S!==n){if(B===n)return S;typeof w=="string"||typeof S=="string"?(w=di(w),S=di(S)):(w=Y2(w),S=Y2(S)),B=u(w,S)}return B}}function zp(u){return $s(function(p){return p=st(p,Dn(Je())),xt(function(w){var S=this;return u(p,function(B){return or(B,S,w)})})})}function ff(u,p){p=p===n?" ":di(p);var w=p.length;if(w<2)return w?jp(p,u):p;var S=jp(p,Kd(u/h(p)));return Ta(p)?Oa(m(S),0,u).join(""):S.slice(0,u)}function SS(u,p,w,S){var B=p&M,$=ou(u);function J(){for(var ie=-1,oe=arguments.length,we=-1,be=S.length,_e=X(be+oe),je=this&&this!==$n&&this instanceof J?$:u;++we<be;)_e[we]=S[we];for(;oe--;)_e[we++]=arguments[++ie];return or(je,B?w:this,_e)}return J}function lv(u){return function(p,w,S){return S&&typeof S!="number"&&Pr(p,w,S)&&(w=S=n),p=Ks(p),w===n?(w=p,p=0):w=Ks(w),S=S===n?p<w?1:-1:Ks(S),dS(p,w,S,u)}}function hf(u){return function(p,w){return typeof p=="string"&&typeof w=="string"||(p=Mi(p),w=Mi(w)),u(p,w)}}function cv(u,p,w,S,B,$,J,ie,oe,we){var be=p&O,_e=be?J:n,je=be?n:J,He=be?$:n,et=be?n:$;p|=be?Q:z,p&=~(be?z:Q),p&D||(p&=~(M|I));var mt=[u,p,B,He,_e,et,je,ie,oe,we],tt=w.apply(n,mt);return Xp(u)&&bv(tt,mt),tt.placeholder=S,Cv(tt,u,p)}function Wp(u){var p=ye[u];return function(w,S){if(w=Mi(w),S=S==null?0:Sr(pt(S),292),S&&C2(w)){var B=(Ut(w)+"e").split("e"),$=p(B[0]+"e"+(+B[1]+S));return B=(Ut($)+"e").split("e"),+(B[0]+"e"+(+B[1]-S))}return p(w)}}var AS=Tl&&1/s(new Tl([,-0]))[1]==me?function(u){return new Tl(u)}:u1;function uv(u){return function(p){var w=Ar(p);return w==Ee?wt(p):w==Ne?o(p):To(p,u(p))}}function Gs(u,p,w,S,B,$,J,ie){var oe=p&I;if(!oe&&typeof u!="function")throw new xn(d);var we=S?S.length:0;if(we||(p&=~(Q|z),S=B=n),J=J===n?J:ir(pt(J),0),ie=ie===n?ie:pt(ie),we-=B?B.length:0,p&z){var be=S,_e=B;S=B=n}var je=oe?n:Vp(u),He=[u,p,w,S,B,be,_e,$,J,ie];if(je&&WS(He,je),u=He[0],p=He[1],w=He[2],S=He[3],B=He[4],ie=He[9]=He[9]===n?oe?0:u.length:ir(He[9]-we,0),!ie&&p&(O|q)&&(p&=~(O|q)),!p||p==M)var et=NS(u,p,w);else p==O||p==q?et=_S(u,p,ie):(p==Q||p==(M|Q))&&!B.length?et=SS(u,p,w,S):et=uf.apply(n,He);var mt=je?q2:bv;return Cv(mt(et,He),u,p)}function dv(u,p,w,S){return u===n||Zi(u,vn[w])&&!Et.call(S,w)?p:u}function fv(u,p,w,S,B,$){return Cn(u)&&Cn(p)&&($.set(p,u),af(u,p,n,fv,$),$.delete(p)),u}function TS(u){return uu(u)?n:u}function hv(u,p,w,S,B,$){var J=w&A,ie=u.length,oe=p.length;if(ie!=oe&&!(J&&oe>ie))return!1;var we=$.get(u),be=$.get(p);if(we&&be)return we==p&&be==u;var _e=-1,je=!0,He=w&R?new Oo:n;for($.set(u,p),$.set(p,u);++_e<ie;){var et=u[_e],mt=p[_e];if(S)var tt=J?S(mt,et,_e,p,u,$):S(et,mt,_e,u,p,$);if(tt!==n){if(tt)continue;je=!1;break}if(He){if(!Xe(p,function(bt,St){if(!lr(He,St)&&(et===bt||B(et,bt,w,S,$)))return He.push(St)})){je=!1;break}}else if(!(et===mt||B(et,mt,w,S,$))){je=!1;break}}return $.delete(u),$.delete(p),je}function kS(u,p,w,S,B,$,J){switch(w){case Ht:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case Jt:return!(u.byteLength!=p.byteLength||!$(new Gd(u),new Gd(p)));case We:case Qt:case Qe:return Zi(+u,+p);case Ft:return u.name==p.name&&u.message==p.message;case Ie:case Fn:return u==p+"";case Ee:var ie=wt;case Ne:var oe=S&A;if(ie||(ie=s),u.size!=p.size&&!oe)return!1;var we=J.get(u);if(we)return we==p;S|=R,J.set(u,p);var be=hv(ie(u),ie(p),S,B,$,J);return J.delete(u),be;case pr:if(tu)return tu.call(u)==tu.call(p)}return!1}function DS(u,p,w,S,B,$){var J=w&A,ie=Hp(u),oe=ie.length,we=Hp(p),be=we.length;if(oe!=be&&!J)return!1;for(var _e=oe;_e--;){var je=ie[_e];if(!(J?je in p:Et.call(p,je)))return!1}var He=$.get(u),et=$.get(p);if(He&&et)return He==p&&et==u;var mt=!0;$.set(u,p),$.set(p,u);for(var tt=J;++_e<oe;){je=ie[_e];var bt=u[je],St=p[je];if(S)var hi=J?S(St,bt,je,p,u,$):S(bt,St,je,u,p,$);if(!(hi===n?bt===St||B(bt,St,w,S,$):hi)){mt=!1;break}tt||(tt=je=="constructor")}if(mt&&!tt){var Fr=u.constructor,pi=p.constructor;Fr!=pi&&"constructor"in u&&"constructor"in p&&!(typeof Fr=="function"&&Fr instanceof Fr&&typeof pi=="function"&&pi instanceof pi)&&(mt=!1)}return $.delete(u),$.delete(p),mt}function $s(u){return Kp(yv(u,n,Tv),u+"")}function Hp(u){return O2(u,ur,Gp)}function qp(u){return O2(u,Kr,pv)}var Vp=Jd?function(u){return Jd.get(u)}:u1;function pf(u){for(var p=u.name+"",w=kl[p],S=Et.call(kl,p)?w.length:0;S--;){var B=w[S],$=B.func;if($==null||$==u)return B.name}return p}function Ol(u){var p=Et.call(V,"placeholder")?V:u;return p.placeholder}function Je(){var u=V.iteratee||l1;return u=u===l1?L2:u,arguments.length?u(arguments[0],arguments[1]):u}function mf(u,p){var w=u.__data__;return FS(p)?w[typeof p=="string"?"string":"hash"]:w.map}function Yp(u){for(var p=ur(u),w=p.length;w--;){var S=p[w],B=u[S];p[w]=[S,B,xv(B)]}return p}function Lo(u,p){var w=Di(u,p);return M2(w)?w:n}function IS(u){var p=Et.call(u,Io),w=u[Io];try{u[Io]=n;var S=!0}catch{}var B=Vd.call(u);return S&&(p?u[Io]=w:delete u[Io]),B}var Gp=wp?function(u){return u==null?[]:(u=ze(u),ki(wp(u),function(p){return w2.call(u,p)}))}:d1,pv=wp?function(u){for(var p=[];u;)ci(p,Gp(u)),u=$d(u);return p}:d1,Ar=Lr;(bp&&Ar(new bp(new ArrayBuffer(1)))!=Ht||Zc&&Ar(new Zc)!=Ee||Cp&&Ar(Cp.resolve())!=ct||Tl&&Ar(new Tl)!=Ne||Jc&&Ar(new Jc)!=Ge)&&(Ar=function(u){var p=Lr(u),w=p==at?u.constructor:n,S=w?Po(w):"";if(S)switch(S){case h_:return Ht;case p_:return Ee;case m_:return ct;case g_:return Ne;case x_:return Ge}return p});function RS(u,p,w){for(var S=-1,B=w.length;++S<B;){var $=w[S],J=$.size;switch($.type){case"drop":u+=J;break;case"dropRight":p-=J;break;case"take":p=Sr(p,u+J);break;case"takeRight":u=ir(u,p-J);break}}return{start:u,end:p}}function OS(u){var p=u.match(Gr);return p?p[1].split(Le):[]}function mv(u,p,w){p=Ra(p,u);for(var S=-1,B=p.length,$=!1;++S<B;){var J=xs(p[S]);if(!($=u!=null&&w(u,J)))break;u=u[J]}return $||++S!=B?$:(B=u==null?0:u.length,!!B&&Cf(B)&&Xs(J,B)&&(ut(u)||Fo(u)))}function jS(u){var p=u.length,w=new u.constructor(p);return p&&typeof u[0]=="string"&&Et.call(u,"index")&&(w.index=u.index,w.input=u.input),w}function gv(u){return typeof u.constructor=="function"&&!lu(u)?Dl($d(u)):{}}function MS(u,p,w){var S=u.constructor;switch(p){case Jt:return Up(u);case We:case Qt:return new S(+u);case Ht:return vS(u,w);case ln:case si:case Ni:case Ls:case Kt:case Te:case en:case _t:case Bt:return Z2(u,w);case Ee:return new S;case Qe:case Fn:return new S(u);case Ie:return yS(u);case Ne:return new S;case pr:return wS(u)}}function LS(u,p){var w=p.length;if(!w)return u;var S=w-1;return p[S]=(w>1?"& ":"")+p[S],p=p.join(w>2?", ":" "),u.replace(Fs,`{
/* [wrapped with `+p+`] */
`)}function PS(u){return ut(u)||Fo(u)||!!(b2&&u&&u[b2])}function Xs(u,p){var w=typeof u;return p=p??ce,!!p&&(w=="number"||w!="symbol"&&Ai.test(u))&&u>-1&&u%1==0&&u<p}function Pr(u,p,w){if(!Cn(w))return!1;var S=typeof p;return(S=="number"?Qr(w)&&Xs(p,w.length):S=="string"&&p in w)?Zi(w[p],u):!1}function $p(u,p){if(ut(u))return!1;var w=typeof u;return w=="number"||w=="symbol"||w=="boolean"||u==null||fi(u)?!0:xl.test(u)||!ba.test(u)||p!=null&&u in ze(p)}function FS(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function Xp(u){var p=pf(u),w=V[p];if(typeof w!="function"||!(p in Nt.prototype))return!1;if(u===w)return!0;var S=Vp(w);return!!S&&u===S[0]}function BS(u){return!!qd&&qd in u}var US=cr?Qs:f1;function lu(u){var p=u&&u.constructor,w=typeof p=="function"&&p.prototype||vn;return u===w}function xv(u){return u===u&&!Cn(u)}function vv(u,p){return function(w){return w==null?!1:w[u]===p&&(p!==n||u in ze(w))}}function zS(u){var p=wf(u,function(S){return w.size===x&&w.clear(),S}),w=p.cache;return p}function WS(u,p){var w=u[1],S=p[1],B=w|S,$=B<(M|I|j),J=S==j&&w==O||S==j&&w==G&&u[7].length<=p[8]||S==(j|G)&&p[7].length<=p[8]&&w==O;if(!($||J))return u;S&M&&(u[2]=p[2],B|=w&M?0:D);var ie=p[3];if(ie){var oe=u[3];u[3]=oe?ev(oe,ie,p[4]):ie,u[4]=oe?P(u[3],b):p[4]}return ie=p[5],ie&&(oe=u[5],u[5]=oe?tv(oe,ie,p[6]):ie,u[6]=oe?P(u[5],b):p[6]),ie=p[7],ie&&(u[7]=ie),S&j&&(u[8]=u[8]==null?p[8]:Sr(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=B,u}function HS(u){var p=[];if(u!=null)for(var w in ze(u))p.push(w);return p}function qS(u){return Vd.call(u)}function yv(u,p,w){return p=ir(p===n?u.length-1:p,0),function(){for(var S=arguments,B=-1,$=ir(S.length-p,0),J=X($);++B<$;)J[B]=S[p+B];B=-1;for(var ie=X(p+1);++B<p;)ie[B]=S[B];return ie[p]=w(J),or(u,this,ie)}}function wv(u,p){return p.length<2?u:Mo(u,Oi(p,0,-1))}function VS(u,p){for(var w=u.length,S=Sr(p.length,w),B=Xr(u);S--;){var $=p[S];u[S]=Xs($,w)?B[$]:n}return u}function Qp(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var bv=Ev(q2),cu=a_||function(u,p){return $n.setTimeout(u,p)},Kp=Ev(pS);function Cv(u,p,w){var S=p+"";return Kp(u,LS(S,YS(OS(S),w)))}function Ev(u){var p=0,w=0;return function(){var S=u_(),B=re-(S-w);if(w=S,B>0){if(++p>=ae)return arguments[0]}else p=0;return u.apply(n,arguments)}}function gf(u,p){var w=-1,S=u.length,B=S-1;for(p=p===n?S:p;++w<p;){var $=Op(w,B),J=u[$];u[$]=u[w],u[w]=J}return u.length=p,u}var Nv=zS(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(_i,function(w,S,B,$){p.push(B?$.replace(Cr,"$1"):S||w)}),p});function xs(u){if(typeof u=="string"||fi(u))return u;var p=u+"";return p=="0"&&1/u==-me?"-0":p}function Po(u){if(u!=null){try{return Qi.call(u)}catch{}try{return u+""}catch{}}return""}function YS(u,p){return $r(gt,function(w){var S="_."+w[0];p&w[1]&&!gn(u,S)&&u.push(S)}),u.sort()}function _v(u){if(u instanceof Nt)return u.clone();var p=new Ii(u.__wrapped__,u.__chain__);return p.__actions__=Xr(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function GS(u,p,w){(w?Pr(u,p,w):p===n)?p=1:p=ir(pt(p),0);var S=u==null?0:u.length;if(!S||p<1)return[];for(var B=0,$=0,J=X(Kd(S/p));B<S;)J[$++]=Oi(u,B,B+=p);return J}function $S(u){for(var p=-1,w=u==null?0:u.length,S=0,B=[];++p<w;){var $=u[p];$&&(B[S++]=$)}return B}function XS(){var u=arguments.length;if(!u)return[];for(var p=X(u-1),w=arguments[0],S=u;S--;)p[S-1]=arguments[S];return ci(ut(w)?Xr(w):[w],xr(p,1))}var QS=xt(function(u,p){return Un(u)?ru(u,xr(p,1,Un,!0)):[]}),KS=xt(function(u,p){var w=ji(p);return Un(w)&&(w=n),Un(u)?ru(u,xr(p,1,Un,!0),Je(w,2)):[]}),ZS=xt(function(u,p){var w=ji(p);return Un(w)&&(w=n),Un(u)?ru(u,xr(p,1,Un,!0),n,w):[]});function JS(u,p,w){var S=u==null?0:u.length;return S?(p=w||p===n?1:pt(p),Oi(u,p<0?0:p,S)):[]}function e5(u,p,w){var S=u==null?0:u.length;return S?(p=w||p===n?1:pt(p),p=S-p,Oi(u,0,p<0?0:p)):[]}function t5(u,p){return u&&u.length?lf(u,Je(p,3),!0,!0):[]}function n5(u,p){return u&&u.length?lf(u,Je(p,3),!0):[]}function r5(u,p,w,S){var B=u==null?0:u.length;return B?(w&&typeof w!="number"&&Pr(u,p,w)&&(w=0,S=B),X_(u,p,w,S)):[]}function Sv(u,p,w){var S=u==null?0:u.length;if(!S)return-1;var B=w==null?0:pt(w);return B<0&&(B=ir(S+B,0)),Nl(u,Je(p,3),B)}function Av(u,p,w){var S=u==null?0:u.length;if(!S)return-1;var B=S-1;return w!==n&&(B=pt(w),B=w<0?ir(S+B,0):Sr(B,S-1)),Nl(u,Je(p,3),B,!0)}function Tv(u){var p=u==null?0:u.length;return p?xr(u,1):[]}function i5(u){var p=u==null?0:u.length;return p?xr(u,me):[]}function s5(u,p){var w=u==null?0:u.length;return w?(p=p===n?1:pt(p),xr(u,p)):[]}function a5(u){for(var p=-1,w=u==null?0:u.length,S={};++p<w;){var B=u[p];S[B[0]]=B[1]}return S}function kv(u){return u&&u.length?u[0]:n}function o5(u,p,w){var S=u==null?0:u.length;if(!S)return-1;var B=w==null?0:pt(w);return B<0&&(B=ir(S+B,0)),gr(u,p,B)}function l5(u){var p=u==null?0:u.length;return p?Oi(u,0,-1):[]}var c5=xt(function(u){var p=st(u,Fp);return p.length&&p[0]===u[0]?Tp(p):[]}),u5=xt(function(u){var p=ji(u),w=st(u,Fp);return p===ji(w)?p=n:w.pop(),w.length&&w[0]===u[0]?Tp(w,Je(p,2)):[]}),d5=xt(function(u){var p=ji(u),w=st(u,Fp);return p=typeof p=="function"?p:n,p&&w.pop(),w.length&&w[0]===u[0]?Tp(w,n,p):[]});function f5(u,p){return u==null?"":l_.call(u,p)}function ji(u){var p=u==null?0:u.length;return p?u[p-1]:n}function h5(u,p,w){var S=u==null?0:u.length;if(!S)return-1;var B=S;return w!==n&&(B=pt(w),B=B<0?ir(S+B,0):Sr(B,S-1)),p===p?f(u,p,B):Nl(u,Yc,B,!0)}function p5(u,p){return u&&u.length?U2(u,pt(p)):n}var m5=xt(Dv);function Dv(u,p){return u&&u.length&&p&&p.length?Rp(u,p):u}function g5(u,p,w){return u&&u.length&&p&&p.length?Rp(u,p,Je(w,2)):u}function x5(u,p,w){return u&&u.length&&p&&p.length?Rp(u,p,n,w):u}var v5=$s(function(u,p){var w=u==null?0:u.length,S=Np(u,p);return H2(u,st(p,function(B){return Xs(B,w)?+B:B}).sort(J2)),S});function y5(u,p){var w=[];if(!(u&&u.length))return w;var S=-1,B=[],$=u.length;for(p=Je(p,3);++S<$;){var J=u[S];p(J,S,u)&&(w.push(J),B.push(S))}return H2(u,B),w}function Zp(u){return u==null?u:f_.call(u)}function w5(u,p,w){var S=u==null?0:u.length;return S?(w&&typeof w!="number"&&Pr(u,p,w)?(p=0,w=S):(p=p==null?0:pt(p),w=w===n?S:pt(w)),Oi(u,p,w)):[]}function b5(u,p){return of(u,p)}function C5(u,p,w){return Mp(u,p,Je(w,2))}function E5(u,p){var w=u==null?0:u.length;if(w){var S=of(u,p);if(S<w&&Zi(u[S],p))return S}return-1}function N5(u,p){return of(u,p,!0)}function _5(u,p,w){return Mp(u,p,Je(w,2),!0)}function S5(u,p){var w=u==null?0:u.length;if(w){var S=of(u,p,!0)-1;if(Zi(u[S],p))return S}return-1}function A5(u){return u&&u.length?V2(u):[]}function T5(u,p){return u&&u.length?V2(u,Je(p,2)):[]}function k5(u){var p=u==null?0:u.length;return p?Oi(u,1,p):[]}function D5(u,p,w){return u&&u.length?(p=w||p===n?1:pt(p),Oi(u,0,p<0?0:p)):[]}function I5(u,p,w){var S=u==null?0:u.length;return S?(p=w||p===n?1:pt(p),p=S-p,Oi(u,p<0?0:p,S)):[]}function R5(u,p){return u&&u.length?lf(u,Je(p,3),!1,!0):[]}function O5(u,p){return u&&u.length?lf(u,Je(p,3)):[]}var j5=xt(function(u){return Ia(xr(u,1,Un,!0))}),M5=xt(function(u){var p=ji(u);return Un(p)&&(p=n),Ia(xr(u,1,Un,!0),Je(p,2))}),L5=xt(function(u){var p=ji(u);return p=typeof p=="function"?p:n,Ia(xr(u,1,Un,!0),n,p)});function P5(u){return u&&u.length?Ia(u):[]}function F5(u,p){return u&&u.length?Ia(u,Je(p,2)):[]}function B5(u,p){return p=typeof p=="function"?p:n,u&&u.length?Ia(u,n,p):[]}function Jp(u){if(!(u&&u.length))return[];var p=0;return u=ki(u,function(w){if(Un(w))return p=ir(w.length,p),!0}),Gc(p,function(w){return st(u,Sl(w))})}function Iv(u,p){if(!(u&&u.length))return[];var w=Jp(u);return p==null?w:st(w,function(S){return or(p,n,S)})}var U5=xt(function(u,p){return Un(u)?ru(u,p):[]}),z5=xt(function(u){return Pp(ki(u,Un))}),W5=xt(function(u){var p=ji(u);return Un(p)&&(p=n),Pp(ki(u,Un),Je(p,2))}),H5=xt(function(u){var p=ji(u);return p=typeof p=="function"?p:n,Pp(ki(u,Un),n,p)}),q5=xt(Jp);function V5(u,p){return X2(u||[],p||[],nu)}function Y5(u,p){return X2(u||[],p||[],au)}var G5=xt(function(u){var p=u.length,w=p>1?u[p-1]:n;return w=typeof w=="function"?(u.pop(),w):n,Iv(u,w)});function Rv(u){var p=V(u);return p.__chain__=!0,p}function $5(u,p){return p(u),u}function xf(u,p){return p(u)}var X5=$s(function(u){var p=u.length,w=p?u[0]:0,S=this.__wrapped__,B=function($){return Np($,u)};return p>1||this.__actions__.length||!(S instanceof Nt)||!Xs(w)?this.thru(B):(S=S.slice(w,+w+(p?1:0)),S.__actions__.push({func:xf,args:[B],thisArg:n}),new Ii(S,this.__chain__).thru(function($){return p&&!$.length&&$.push(n),$}))});function Q5(){return Rv(this)}function K5(){return new Ii(this.value(),this.__chain__)}function Z5(){this.__values__===n&&(this.__values__=Yv(this.value()));var u=this.__index__>=this.__values__.length,p=u?n:this.__values__[this.__index__++];return{done:u,value:p}}function J5(){return this}function e8(u){for(var p,w=this;w instanceof tf;){var S=_v(w);S.__index__=0,S.__values__=n,p?B.__wrapped__=S:p=S;var B=S;w=w.__wrapped__}return B.__wrapped__=u,p}function t8(){var u=this.__wrapped__;if(u instanceof Nt){var p=u;return this.__actions__.length&&(p=new Nt(this)),p=p.reverse(),p.__actions__.push({func:xf,args:[Zp],thisArg:n}),new Ii(p,this.__chain__)}return this.thru(Zp)}function n8(){return $2(this.__wrapped__,this.__actions__)}var r8=cf(function(u,p,w){Et.call(u,w)?++u[w]:Ys(u,w,1)});function i8(u,p,w){var S=ut(u)?Ud:$_;return w&&Pr(u,p,w)&&(p=n),S(u,Je(p,3))}function s8(u,p){var w=ut(u)?ki:I2;return w(u,Je(p,3))}var a8=sv(Sv),o8=sv(Av);function l8(u,p){return xr(vf(u,p),1)}function c8(u,p){return xr(vf(u,p),me)}function u8(u,p,w){return w=w===n?1:pt(w),xr(vf(u,p),w)}function Ov(u,p){var w=ut(u)?$r:Da;return w(u,Je(p,3))}function jv(u,p){var w=ut(u)?mp:D2;return w(u,Je(p,3))}var d8=cf(function(u,p,w){Et.call(u,w)?u[w].push(p):Ys(u,w,[p])});function f8(u,p,w,S){u=Qr(u)?u:Ml(u),w=w&&!S?pt(w):0;var B=u.length;return w<0&&(w=ir(B+w,0)),Ef(u)?w<=B&&u.indexOf(p,w)>-1:!!B&&gr(u,p,w)>-1}var h8=xt(function(u,p,w){var S=-1,B=typeof p=="function",$=Qr(u)?X(u.length):[];return Da(u,function(J){$[++S]=B?or(p,J,w):iu(J,p,w)}),$}),p8=cf(function(u,p,w){Ys(u,w,p)});function vf(u,p){var w=ut(u)?st:P2;return w(u,Je(p,3))}function m8(u,p,w,S){return u==null?[]:(ut(p)||(p=p==null?[]:[p]),w=S?n:w,ut(w)||(w=w==null?[]:[w]),z2(u,p,w))}var g8=cf(function(u,p,w){u[w?0:1].push(p)},function(){return[[],[]]});function x8(u,p,w){var S=ut(u)?Xi:zd,B=arguments.length<3;return S(u,Je(p,4),w,B,Da)}function v8(u,p,w){var S=ut(u)?Yt:zd,B=arguments.length<3;return S(u,Je(p,4),w,B,D2)}function y8(u,p){var w=ut(u)?ki:I2;return w(u,bf(Je(p,3)))}function w8(u){var p=ut(u)?S2:fS;return p(u)}function b8(u,p,w){(w?Pr(u,p,w):p===n)?p=1:p=pt(p);var S=ut(u)?H_:hS;return S(u,p)}function C8(u){var p=ut(u)?q_:mS;return p(u)}function E8(u){if(u==null)return 0;if(Qr(u))return Ef(u)?h(u):u.length;var p=Ar(u);return p==Ee||p==Ne?u.size:Dp(u).length}function N8(u,p,w){var S=ut(u)?Xe:gS;return w&&Pr(u,p,w)&&(p=n),S(u,Je(p,3))}var _8=xt(function(u,p){if(u==null)return[];var w=p.length;return w>1&&Pr(u,p[0],p[1])?p=[]:w>2&&Pr(p[0],p[1],p[2])&&(p=[p[0]]),z2(u,xr(p,1),[])}),yf=s_||function(){return $n.Date.now()};function S8(u,p){if(typeof p!="function")throw new xn(d);return u=pt(u),function(){if(--u<1)return p.apply(this,arguments)}}function Mv(u,p,w){return p=w?n:p,p=u&&p==null?u.length:p,Gs(u,j,n,n,n,n,p)}function Lv(u,p){var w;if(typeof p!="function")throw new xn(d);return u=pt(u),function(){return--u>0&&(w=p.apply(this,arguments)),u<=1&&(p=n),w}}var e1=xt(function(u,p,w){var S=M;if(w.length){var B=P(w,Ol(e1));S|=Q}return Gs(u,S,p,w,B)}),Pv=xt(function(u,p,w){var S=M|I;if(w.length){var B=P(w,Ol(Pv));S|=Q}return Gs(p,S,u,w,B)});function Fv(u,p,w){p=w?n:p;var S=Gs(u,O,n,n,n,n,n,p);return S.placeholder=Fv.placeholder,S}function Bv(u,p,w){p=w?n:p;var S=Gs(u,q,n,n,n,n,n,p);return S.placeholder=Bv.placeholder,S}function Uv(u,p,w){var S,B,$,J,ie,oe,we=0,be=!1,_e=!1,je=!0;if(typeof u!="function")throw new xn(d);p=Mi(p)||0,Cn(w)&&(be=!!w.leading,_e="maxWait"in w,$=_e?ir(Mi(w.maxWait)||0,p):$,je="trailing"in w?!!w.trailing:je);function He(zn){var Ji=S,Zs=B;return S=B=n,we=zn,J=u.apply(Zs,Ji),J}function et(zn){return we=zn,ie=cu(bt,p),be?He(zn):J}function mt(zn){var Ji=zn-oe,Zs=zn-we,sy=p-Ji;return _e?Sr(sy,$-Zs):sy}function tt(zn){var Ji=zn-oe,Zs=zn-we;return oe===n||Ji>=p||Ji<0||_e&&Zs>=$}function bt(){var zn=yf();if(tt(zn))return St(zn);ie=cu(bt,mt(zn))}function St(zn){return ie=n,je&&S?He(zn):(S=B=n,J)}function hi(){ie!==n&&Q2(ie),we=0,S=oe=B=ie=n}function Fr(){return ie===n?J:St(yf())}function pi(){var zn=yf(),Ji=tt(zn);if(S=arguments,B=this,oe=zn,Ji){if(ie===n)return et(oe);if(_e)return Q2(ie),ie=cu(bt,p),He(oe)}return ie===n&&(ie=cu(bt,p)),J}return pi.cancel=hi,pi.flush=Fr,pi}var A8=xt(function(u,p){return k2(u,1,p)}),T8=xt(function(u,p,w){return k2(u,Mi(p)||0,w)});function k8(u){return Gs(u,H)}function wf(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new xn(d);var w=function(){var S=arguments,B=p?p.apply(this,S):S[0],$=w.cache;if($.has(B))return $.get(B);var J=u.apply(this,S);return w.cache=$.set(B,J)||$,J};return w.cache=new(wf.Cache||Vs),w}wf.Cache=Vs;function bf(u){if(typeof u!="function")throw new xn(d);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function D8(u){return Lv(2,u)}var I8=xS(function(u,p){p=p.length==1&&ut(p[0])?st(p[0],Dn(Je())):st(xr(p,1),Dn(Je()));var w=p.length;return xt(function(S){for(var B=-1,$=Sr(S.length,w);++B<$;)S[B]=p[B].call(this,S[B]);return or(u,this,S)})}),t1=xt(function(u,p){var w=P(p,Ol(t1));return Gs(u,Q,n,p,w)}),zv=xt(function(u,p){var w=P(p,Ol(zv));return Gs(u,z,n,p,w)}),R8=$s(function(u,p){return Gs(u,G,n,n,n,p)});function O8(u,p){if(typeof u!="function")throw new xn(d);return p=p===n?p:pt(p),xt(u,p)}function j8(u,p){if(typeof u!="function")throw new xn(d);return p=p==null?0:ir(pt(p),0),xt(function(w){var S=w[p],B=Oa(w,0,p);return S&&ci(B,S),or(u,this,B)})}function M8(u,p,w){var S=!0,B=!0;if(typeof u!="function")throw new xn(d);return Cn(w)&&(S="leading"in w?!!w.leading:S,B="trailing"in w?!!w.trailing:B),Uv(u,p,{leading:S,maxWait:p,trailing:B})}function L8(u){return Mv(u,1)}function P8(u,p){return t1(Bp(p),u)}function F8(){if(!arguments.length)return[];var u=arguments[0];return ut(u)?u:[u]}function B8(u){return Ri(u,k)}function U8(u,p){return p=typeof p=="function"?p:n,Ri(u,k,p)}function z8(u){return Ri(u,E|k)}function W8(u,p){return p=typeof p=="function"?p:n,Ri(u,E|k,p)}function H8(u,p){return p==null||T2(u,p,ur(p))}function Zi(u,p){return u===p||u!==u&&p!==p}var q8=hf(Ap),V8=hf(function(u,p){return u>=p}),Fo=j2(function(){return arguments}())?j2:function(u){return In(u)&&Et.call(u,"callee")&&!w2.call(u,"callee")},ut=X.isArray,Y8=_o?Dn(_o):eS;function Qr(u){return u!=null&&Cf(u.length)&&!Qs(u)}function Un(u){return In(u)&&Qr(u)}function G8(u){return u===!0||u===!1||In(u)&&Lr(u)==We}var ja=o_||f1,$8=$i?Dn($i):tS;function X8(u){return In(u)&&u.nodeType===1&&!uu(u)}function Q8(u){if(u==null)return!0;if(Qr(u)&&(ut(u)||typeof u=="string"||typeof u.splice=="function"||ja(u)||jl(u)||Fo(u)))return!u.length;var p=Ar(u);if(p==Ee||p==Ne)return!u.size;if(lu(u))return!Dp(u).length;for(var w in u)if(Et.call(u,w))return!1;return!0}function K8(u,p){return su(u,p)}function Z8(u,p,w){w=typeof w=="function"?w:n;var S=w?w(u,p):n;return S===n?su(u,p,n,w):!!S}function n1(u){if(!In(u))return!1;var p=Lr(u);return p==Ft||p==Gn||typeof u.message=="string"&&typeof u.name=="string"&&!uu(u)}function J8(u){return typeof u=="number"&&C2(u)}function Qs(u){if(!Cn(u))return!1;var p=Lr(u);return p==pn||p==dt||p==Oe||p==Ke}function Wv(u){return typeof u=="number"&&u==pt(u)}function Cf(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ce}function Cn(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function In(u){return u!=null&&typeof u=="object"}var Hv=Fd?Dn(Fd):rS;function e6(u,p){return u===p||kp(u,p,Yp(p))}function t6(u,p,w){return w=typeof w=="function"?w:n,kp(u,p,Yp(p),w)}function n6(u){return qv(u)&&u!=+u}function r6(u){if(US(u))throw new he(a);return M2(u)}function i6(u){return u===null}function s6(u){return u==null}function qv(u){return typeof u=="number"||In(u)&&Lr(u)==Qe}function uu(u){if(!In(u)||Lr(u)!=at)return!1;var p=$d(u);if(p===null)return!0;var w=Et.call(p,"constructor")&&p.constructor;return typeof w=="function"&&w instanceof w&&Qi.call(w)==t_}var r1=de?Dn(de):iS;function a6(u){return Wv(u)&&u>=-ce&&u<=ce}var Vv=ft?Dn(ft):sS;function Ef(u){return typeof u=="string"||!ut(u)&&In(u)&&Lr(u)==Fn}function fi(u){return typeof u=="symbol"||In(u)&&Lr(u)==pr}var jl=Xn?Dn(Xn):aS;function o6(u){return u===n}function l6(u){return In(u)&&Ar(u)==Ge}function c6(u){return In(u)&&Lr(u)==At}var u6=hf(Ip),d6=hf(function(u,p){return u<=p});function Yv(u){if(!u)return[];if(Qr(u))return Ef(u)?m(u):Xr(u);if(Kc&&u[Kc])return ko(u[Kc]());var p=Ar(u),w=p==Ee?wt:p==Ne?s:Ml;return w(u)}function Ks(u){if(!u)return u===0?u:0;if(u=Mi(u),u===me||u===-me){var p=u<0?-1:1;return p*Se}return u===u?u:0}function pt(u){var p=Ks(u),w=p%1;return p===p?w?p-w:p:0}function Gv(u){return u?jo(pt(u),0,Ye):0}function Mi(u){if(typeof u=="number")return u;if(fi(u))return Re;if(Cn(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=Cn(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=Wd(u);var w=Si.test(u);return w||cp.test(u)?Nr(u.slice(2),w?2:8):vl.test(u)?Re:+u}function $v(u){return gs(u,Kr(u))}function f6(u){return u?jo(pt(u),-ce,ce):u===0?u:0}function Ut(u){return u==null?"":di(u)}var h6=Il(function(u,p){if(lu(p)||Qr(p)){gs(p,ur(p),u);return}for(var w in p)Et.call(p,w)&&nu(u,w,p[w])}),Xv=Il(function(u,p){gs(p,Kr(p),u)}),Nf=Il(function(u,p,w,S){gs(p,Kr(p),u,S)}),p6=Il(function(u,p,w,S){gs(p,ur(p),u,S)}),m6=$s(Np);function g6(u,p){var w=Dl(u);return p==null?w:A2(w,p)}var x6=xt(function(u,p){u=ze(u);var w=-1,S=p.length,B=S>2?p[2]:n;for(B&&Pr(p[0],p[1],B)&&(S=1);++w<S;)for(var $=p[w],J=Kr($),ie=-1,oe=J.length;++ie<oe;){var we=J[ie],be=u[we];(be===n||Zi(be,vn[we])&&!Et.call(u,we))&&(u[we]=$[we])}return u}),v6=xt(function(u){return u.push(n,fv),or(Qv,n,u)});function y6(u,p){return Hs(u,Je(p,3),ms)}function w6(u,p){return Hs(u,Je(p,3),Sp)}function b6(u,p){return u==null?u:_p(u,Je(p,3),Kr)}function C6(u,p){return u==null?u:R2(u,Je(p,3),Kr)}function E6(u,p){return u&&ms(u,Je(p,3))}function N6(u,p){return u&&Sp(u,Je(p,3))}function _6(u){return u==null?[]:sf(u,ur(u))}function S6(u){return u==null?[]:sf(u,Kr(u))}function i1(u,p,w){var S=u==null?n:Mo(u,p);return S===n?w:S}function A6(u,p){return u!=null&&mv(u,p,Q_)}function s1(u,p){return u!=null&&mv(u,p,K_)}var T6=ov(function(u,p,w){p!=null&&typeof p.toString!="function"&&(p=Vd.call(p)),u[p]=w},o1(Zr)),k6=ov(function(u,p,w){p!=null&&typeof p.toString!="function"&&(p=Vd.call(p)),Et.call(u,p)?u[p].push(w):u[p]=[w]},Je),D6=xt(iu);function ur(u){return Qr(u)?_2(u):Dp(u)}function Kr(u){return Qr(u)?_2(u,!0):oS(u)}function I6(u,p){var w={};return p=Je(p,3),ms(u,function(S,B,$){Ys(w,p(S,B,$),S)}),w}function R6(u,p){var w={};return p=Je(p,3),ms(u,function(S,B,$){Ys(w,B,p(S,B,$))}),w}var O6=Il(function(u,p,w){af(u,p,w)}),Qv=Il(function(u,p,w,S){af(u,p,w,S)}),j6=$s(function(u,p){var w={};if(u==null)return w;var S=!1;p=st(p,function($){return $=Ra($,u),S||(S=$.length>1),$}),gs(u,qp(u),w),S&&(w=Ri(w,E|_|k,TS));for(var B=p.length;B--;)Lp(w,p[B]);return w});function M6(u,p){return Kv(u,bf(Je(p)))}var L6=$s(function(u,p){return u==null?{}:cS(u,p)});function Kv(u,p){if(u==null)return{};var w=st(qp(u),function(S){return[S]});return p=Je(p),W2(u,w,function(S,B){return p(S,B[0])})}function P6(u,p,w){p=Ra(p,u);var S=-1,B=p.length;for(B||(B=1,u=n);++S<B;){var $=u==null?n:u[xs(p[S])];$===n&&(S=B,$=w),u=Qs($)?$.call(u):$}return u}function F6(u,p,w){return u==null?u:au(u,p,w)}function B6(u,p,w,S){return S=typeof S=="function"?S:n,u==null?u:au(u,p,w,S)}var Zv=uv(ur),Jv=uv(Kr);function U6(u,p,w){var S=ut(u),B=S||ja(u)||jl(u);if(p=Je(p,4),w==null){var $=u&&u.constructor;B?w=S?new $:[]:Cn(u)?w=Qs($)?Dl($d(u)):{}:w={}}return(B?$r:ms)(u,function(J,ie,oe){return p(w,J,ie,oe)}),w}function z6(u,p){return u==null?!0:Lp(u,p)}function W6(u,p,w){return u==null?u:G2(u,p,Bp(w))}function H6(u,p,w,S){return S=typeof S=="function"?S:n,u==null?u:G2(u,p,Bp(w),S)}function Ml(u){return u==null?[]:Aa(u,ur(u))}function q6(u){return u==null?[]:Aa(u,Kr(u))}function V6(u,p,w){return w===n&&(w=p,p=n),w!==n&&(w=Mi(w),w=w===w?w:0),p!==n&&(p=Mi(p),p=p===p?p:0),jo(Mi(u),p,w)}function Y6(u,p,w){return p=Ks(p),w===n?(w=p,p=0):w=Ks(w),u=Mi(u),Z_(u,p,w)}function G6(u,p,w){if(w&&typeof w!="boolean"&&Pr(u,p,w)&&(p=w=n),w===n&&(typeof p=="boolean"?(w=p,p=n):typeof u=="boolean"&&(w=u,u=n)),u===n&&p===n?(u=0,p=1):(u=Ks(u),p===n?(p=u,u=0):p=Ks(p)),u>p){var S=u;u=p,p=S}if(w||u%1||p%1){var B=E2();return Sr(u+B*(p-u+No("1e-"+((B+"").length-1))),p)}return Op(u,p)}var $6=Rl(function(u,p,w){return p=p.toLowerCase(),u+(w?ey(p):p)});function ey(u){return a1(Ut(u).toLowerCase())}function ty(u){return u=Ut(u),u&&u.replace(mr,Xc).replace(hp,"")}function X6(u,p,w){u=Ut(u),p=di(p);var S=u.length;w=w===n?S:jo(pt(w),0,S);var B=w;return w-=p.length,w>=0&&u.slice(w,B)==p}function Q6(u){return u=Ut(u),u&&kd.test(u)?u.replace(hs,vp):u}function K6(u){return u=Ut(u),u&&Ps.test(u)?u.replace(Lc,"\\$&"):u}var Z6=Rl(function(u,p,w){return u+(w?"-":"")+p.toLowerCase()}),J6=Rl(function(u,p,w){return u+(w?" ":"")+p.toLowerCase()}),eA=iv("toLowerCase");function tA(u,p,w){u=Ut(u),p=pt(p);var S=p?h(u):0;if(!p||S>=p)return u;var B=(p-S)/2;return ff(Zd(B),w)+u+ff(Kd(B),w)}function nA(u,p,w){u=Ut(u),p=pt(p);var S=p?h(u):0;return p&&S<p?u+ff(p-S,w):u}function rA(u,p,w){u=Ut(u),p=pt(p);var S=p?h(u):0;return p&&S<p?ff(p-S,w)+u:u}function iA(u,p,w){return w||p==null?p=0:p&&(p=+p),d_(Ut(u).replace(vo,""),p||0)}function sA(u,p,w){return(w?Pr(u,p,w):p===n)?p=1:p=pt(p),jp(Ut(u),p)}function aA(){var u=arguments,p=Ut(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var oA=Rl(function(u,p,w){return u+(w?"_":"")+p.toLowerCase()});function lA(u,p,w){return w&&typeof w!="number"&&Pr(u,p,w)&&(p=w=n),w=w===n?Ye:w>>>0,w?(u=Ut(u),u&&(typeof p=="string"||p!=null&&!r1(p))&&(p=di(p),!p&&Ta(u))?Oa(m(u),0,w):u.split(p,w)):[]}var cA=Rl(function(u,p,w){return u+(w?" ":"")+a1(p)});function uA(u,p,w){return u=Ut(u),w=w==null?0:jo(pt(w),0,u.length),p=di(p),u.slice(w,w+p.length)==p}function dA(u,p,w){var S=V.templateSettings;w&&Pr(u,p,w)&&(p=n),u=Ut(u),p=Nf({},p,S,dv);var B=Nf({},p.imports,S.imports,dv),$=ur(B),J=Aa(B,$),ie,oe,we=0,be=p.interpolate||qt,_e="__p += '",je=ot((p.escape||qt).source+"|"+be.source+"|"+(be===er?Ea:qt).source+"|"+(p.evaluate||qt).source+"|$","g"),He="//# sourceURL="+(Et.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Us+"]")+`
`;u.replace(je,function(tt,bt,St,hi,Fr,pi){return St||(St=hi),_e+=u.slice(we,pi).replace(Dd,Hd),bt&&(ie=!0,_e+=`' +
__e(`+bt+`) +
'`),Fr&&(oe=!0,_e+=`';
`+Fr+`;
__p += '`),St&&(_e+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),we=pi+tt.length,tt}),_e+=`';
`;var et=Et.call(p,"variable")&&p.variable;if(!et)_e=`with (obj) {
`+_e+`
}
`;else if(Pc.test(et))throw new he(g);_e=(oe?_e.replace(Gi,""):_e).replace(xo,"$1").replace(Ad,"$1;"),_e="function("+(et||"obj")+`) {
`+(et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var mt=ry(function(){return xe($,He+"return "+_e).apply(n,J)});if(mt.source=_e,n1(mt))throw mt;return mt}function fA(u){return Ut(u).toLowerCase()}function hA(u){return Ut(u).toUpperCase()}function pA(u,p,w){if(u=Ut(u),u&&(w||p===n))return Wd(u);if(!u||!(p=di(p)))return u;var S=m(u),B=m(p),$=$c(S,B),J=ui(S,B)+1;return Oa(S,$,J).join("")}function mA(u,p,w){if(u=Ut(u),u&&(w||p===n))return u.slice(0,y(u)+1);if(!u||!(p=di(p)))return u;var S=m(u),B=ui(S,m(p))+1;return Oa(S,0,B).join("")}function gA(u,p,w){if(u=Ut(u),u&&(w||p===n))return u.replace(vo,"");if(!u||!(p=di(p)))return u;var S=m(u),B=$c(S,m(p));return Oa(S,B).join("")}function xA(u,p){var w=se,S=fe;if(Cn(p)){var B="separator"in p?p.separator:B;w="length"in p?pt(p.length):w,S="omission"in p?di(p.omission):S}u=Ut(u);var $=u.length;if(Ta(u)){var J=m(u);$=J.length}if(w>=$)return u;var ie=w-h(S);if(ie<1)return S;var oe=J?Oa(J,0,ie).join(""):u.slice(0,ie);if(B===n)return oe+S;if(J&&(ie+=oe.length-ie),r1(B)){if(u.slice(ie).search(B)){var we,be=oe;for(B.global||(B=ot(B.source,Ut(yo.exec(B))+"g")),B.lastIndex=0;we=B.exec(be);)var _e=we.index;oe=oe.slice(0,_e===n?ie:_e)}}else if(u.indexOf(di(B),ie)!=ie){var je=oe.lastIndexOf(B);je>-1&&(oe=oe.slice(0,je))}return oe+S}function vA(u){return u=Ut(u),u&&Td.test(u)?u.replace(Tt,C):u}var yA=Rl(function(u,p,w){return u+(w?" ":"")+p.toUpperCase()}),a1=iv("toUpperCase");function ny(u,p,w){return u=Ut(u),p=w?n:p,p===n?Qc(u)?F(u):Ws(u):u.match(p)||[]}var ry=xt(function(u,p){try{return or(u,n,p)}catch(w){return n1(w)?w:new he(w)}}),wA=$s(function(u,p){return $r(p,function(w){w=xs(w),Ys(u,w,e1(u[w],u))}),u});function bA(u){var p=u==null?0:u.length,w=Je();return u=p?st(u,function(S){if(typeof S[1]!="function")throw new xn(d);return[w(S[0]),S[1]]}):[],xt(function(S){for(var B=-1;++B<p;){var $=u[B];if(or($[0],this,S))return or($[1],this,S)}})}function CA(u){return G_(Ri(u,E))}function o1(u){return function(){return u}}function EA(u,p){return u==null||u!==u?p:u}var NA=av(),_A=av(!0);function Zr(u){return u}function l1(u){return L2(typeof u=="function"?u:Ri(u,E))}function SA(u){return F2(Ri(u,E))}function AA(u,p){return B2(u,Ri(p,E))}var TA=xt(function(u,p){return function(w){return iu(w,u,p)}}),kA=xt(function(u,p){return function(w){return iu(u,w,p)}});function c1(u,p,w){var S=ur(p),B=sf(p,S);w==null&&!(Cn(p)&&(B.length||!S.length))&&(w=p,p=u,u=this,B=sf(p,ur(p)));var $=!(Cn(w)&&"chain"in w)||!!w.chain,J=Qs(u);return $r(B,function(ie){var oe=p[ie];u[ie]=oe,J&&(u.prototype[ie]=function(){var we=this.__chain__;if($||we){var be=u(this.__wrapped__),_e=be.__actions__=Xr(this.__actions__);return _e.push({func:oe,args:arguments,thisArg:u}),be.__chain__=we,be}return oe.apply(u,ci([this.value()],arguments))})}),u}function DA(){return $n._===this&&($n._=n_),this}function u1(){}function IA(u){return u=pt(u),xt(function(p){return U2(p,u)})}var RA=zp(st),OA=zp(Ud),jA=zp(Xe);function iy(u){return $p(u)?Sl(xs(u)):uS(u)}function MA(u){return function(p){return u==null?n:Mo(u,p)}}var LA=lv(),PA=lv(!0);function d1(){return[]}function f1(){return!1}function FA(){return{}}function BA(){return""}function UA(){return!0}function zA(u,p){if(u=pt(u),u<1||u>ce)return[];var w=Ye,S=Sr(u,Ye);p=Je(p),u-=Ye;for(var B=Gc(S,p);++w<u;)p(w);return B}function WA(u){return ut(u)?st(u,xs):fi(u)?[u]:Xr(Nv(Ut(u)))}function HA(u){var p=++yp;return Ut(u)+p}var qA=df(function(u,p){return u+p},0),VA=Wp("ceil"),YA=df(function(u,p){return u/p},1),GA=Wp("floor");function $A(u){return u&&u.length?rf(u,Zr,Ap):n}function XA(u,p){return u&&u.length?rf(u,Je(p,2),Ap):n}function QA(u){return _l(u,Zr)}function KA(u,p){return _l(u,Je(p,2))}function ZA(u){return u&&u.length?rf(u,Zr,Ip):n}function JA(u,p){return u&&u.length?rf(u,Je(p,2),Ip):n}var eT=df(function(u,p){return u*p},1),tT=Wp("round"),nT=df(function(u,p){return u-p},0);function rT(u){return u&&u.length?Ao(u,Zr):0}function iT(u,p){return u&&u.length?Ao(u,Je(p,2)):0}return V.after=S8,V.ary=Mv,V.assign=h6,V.assignIn=Xv,V.assignInWith=Nf,V.assignWith=p6,V.at=m6,V.before=Lv,V.bind=e1,V.bindAll=wA,V.bindKey=Pv,V.castArray=F8,V.chain=Rv,V.chunk=GS,V.compact=$S,V.concat=XS,V.cond=bA,V.conforms=CA,V.constant=o1,V.countBy=r8,V.create=g6,V.curry=Fv,V.curryRight=Bv,V.debounce=Uv,V.defaults=x6,V.defaultsDeep=v6,V.defer=A8,V.delay=T8,V.difference=QS,V.differenceBy=KS,V.differenceWith=ZS,V.drop=JS,V.dropRight=e5,V.dropRightWhile=t5,V.dropWhile=n5,V.fill=r5,V.filter=s8,V.flatMap=l8,V.flatMapDeep=c8,V.flatMapDepth=u8,V.flatten=Tv,V.flattenDeep=i5,V.flattenDepth=s5,V.flip=k8,V.flow=NA,V.flowRight=_A,V.fromPairs=a5,V.functions=_6,V.functionsIn=S6,V.groupBy=d8,V.initial=l5,V.intersection=c5,V.intersectionBy=u5,V.intersectionWith=d5,V.invert=T6,V.invertBy=k6,V.invokeMap=h8,V.iteratee=l1,V.keyBy=p8,V.keys=ur,V.keysIn=Kr,V.map=vf,V.mapKeys=I6,V.mapValues=R6,V.matches=SA,V.matchesProperty=AA,V.memoize=wf,V.merge=O6,V.mergeWith=Qv,V.method=TA,V.methodOf=kA,V.mixin=c1,V.negate=bf,V.nthArg=IA,V.omit=j6,V.omitBy=M6,V.once=D8,V.orderBy=m8,V.over=RA,V.overArgs=I8,V.overEvery=OA,V.overSome=jA,V.partial=t1,V.partialRight=zv,V.partition=g8,V.pick=L6,V.pickBy=Kv,V.property=iy,V.propertyOf=MA,V.pull=m5,V.pullAll=Dv,V.pullAllBy=g5,V.pullAllWith=x5,V.pullAt=v5,V.range=LA,V.rangeRight=PA,V.rearg=R8,V.reject=y8,V.remove=y5,V.rest=O8,V.reverse=Zp,V.sampleSize=b8,V.set=F6,V.setWith=B6,V.shuffle=C8,V.slice=w5,V.sortBy=_8,V.sortedUniq=A5,V.sortedUniqBy=T5,V.split=lA,V.spread=j8,V.tail=k5,V.take=D5,V.takeRight=I5,V.takeRightWhile=R5,V.takeWhile=O5,V.tap=$5,V.throttle=M8,V.thru=xf,V.toArray=Yv,V.toPairs=Zv,V.toPairsIn=Jv,V.toPath=WA,V.toPlainObject=$v,V.transform=U6,V.unary=L8,V.union=j5,V.unionBy=M5,V.unionWith=L5,V.uniq=P5,V.uniqBy=F5,V.uniqWith=B5,V.unset=z6,V.unzip=Jp,V.unzipWith=Iv,V.update=W6,V.updateWith=H6,V.values=Ml,V.valuesIn=q6,V.without=U5,V.words=ny,V.wrap=P8,V.xor=z5,V.xorBy=W5,V.xorWith=H5,V.zip=q5,V.zipObject=V5,V.zipObjectDeep=Y5,V.zipWith=G5,V.entries=Zv,V.entriesIn=Jv,V.extend=Xv,V.extendWith=Nf,c1(V,V),V.add=qA,V.attempt=ry,V.camelCase=$6,V.capitalize=ey,V.ceil=VA,V.clamp=V6,V.clone=B8,V.cloneDeep=z8,V.cloneDeepWith=W8,V.cloneWith=U8,V.conformsTo=H8,V.deburr=ty,V.defaultTo=EA,V.divide=YA,V.endsWith=X6,V.eq=Zi,V.escape=Q6,V.escapeRegExp=K6,V.every=i8,V.find=a8,V.findIndex=Sv,V.findKey=y6,V.findLast=o8,V.findLastIndex=Av,V.findLastKey=w6,V.floor=GA,V.forEach=Ov,V.forEachRight=jv,V.forIn=b6,V.forInRight=C6,V.forOwn=E6,V.forOwnRight=N6,V.get=i1,V.gt=q8,V.gte=V8,V.has=A6,V.hasIn=s1,V.head=kv,V.identity=Zr,V.includes=f8,V.indexOf=o5,V.inRange=Y6,V.invoke=D6,V.isArguments=Fo,V.isArray=ut,V.isArrayBuffer=Y8,V.isArrayLike=Qr,V.isArrayLikeObject=Un,V.isBoolean=G8,V.isBuffer=ja,V.isDate=$8,V.isElement=X8,V.isEmpty=Q8,V.isEqual=K8,V.isEqualWith=Z8,V.isError=n1,V.isFinite=J8,V.isFunction=Qs,V.isInteger=Wv,V.isLength=Cf,V.isMap=Hv,V.isMatch=e6,V.isMatchWith=t6,V.isNaN=n6,V.isNative=r6,V.isNil=s6,V.isNull=i6,V.isNumber=qv,V.isObject=Cn,V.isObjectLike=In,V.isPlainObject=uu,V.isRegExp=r1,V.isSafeInteger=a6,V.isSet=Vv,V.isString=Ef,V.isSymbol=fi,V.isTypedArray=jl,V.isUndefined=o6,V.isWeakMap=l6,V.isWeakSet=c6,V.join=f5,V.kebabCase=Z6,V.last=ji,V.lastIndexOf=h5,V.lowerCase=J6,V.lowerFirst=eA,V.lt=u6,V.lte=d6,V.max=$A,V.maxBy=XA,V.mean=QA,V.meanBy=KA,V.min=ZA,V.minBy=JA,V.stubArray=d1,V.stubFalse=f1,V.stubObject=FA,V.stubString=BA,V.stubTrue=UA,V.multiply=eT,V.nth=p5,V.noConflict=DA,V.noop=u1,V.now=yf,V.pad=tA,V.padEnd=nA,V.padStart=rA,V.parseInt=iA,V.random=G6,V.reduce=x8,V.reduceRight=v8,V.repeat=sA,V.replace=aA,V.result=P6,V.round=tT,V.runInContext=U,V.sample=w8,V.size=E8,V.snakeCase=oA,V.some=N8,V.sortedIndex=b5,V.sortedIndexBy=C5,V.sortedIndexOf=E5,V.sortedLastIndex=N5,V.sortedLastIndexBy=_5,V.sortedLastIndexOf=S5,V.startCase=cA,V.startsWith=uA,V.subtract=nT,V.sum=rT,V.sumBy=iT,V.template=dA,V.times=zA,V.toFinite=Ks,V.toInteger=pt,V.toLength=Gv,V.toLower=fA,V.toNumber=Mi,V.toSafeInteger=f6,V.toString=Ut,V.toUpper=hA,V.trim=pA,V.trimEnd=mA,V.trimStart=gA,V.truncate=xA,V.unescape=vA,V.uniqueId=HA,V.upperCase=yA,V.upperFirst=a1,V.each=Ov,V.eachRight=jv,V.first=kv,c1(V,function(){var u={};return ms(V,function(p,w){Et.call(V.prototype,w)||(u[w]=p)}),u}(),{chain:!1}),V.VERSION=r,$r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){V[u].placeholder=V}),$r(["drop","take"],function(u,p){Nt.prototype[u]=function(w){w=w===n?1:ir(pt(w),0);var S=this.__filtered__&&!p?new Nt(this):this.clone();return S.__filtered__?S.__takeCount__=Sr(w,S.__takeCount__):S.__views__.push({size:Sr(w,Ye),type:u+(S.__dir__<0?"Right":"")}),S},Nt.prototype[u+"Right"]=function(w){return this.reverse()[u](w).reverse()}}),$r(["filter","map","takeWhile"],function(u,p){var w=p+1,S=w==ve||w==ge;Nt.prototype[u]=function(B){var $=this.clone();return $.__iteratees__.push({iteratee:Je(B,3),type:w}),$.__filtered__=$.__filtered__||S,$}}),$r(["head","last"],function(u,p){var w="take"+(p?"Right":"");Nt.prototype[u]=function(){return this[w](1).value()[0]}}),$r(["initial","tail"],function(u,p){var w="drop"+(p?"":"Right");Nt.prototype[u]=function(){return this.__filtered__?new Nt(this):this[w](1)}}),Nt.prototype.compact=function(){return this.filter(Zr)},Nt.prototype.find=function(u){return this.filter(u).head()},Nt.prototype.findLast=function(u){return this.reverse().find(u)},Nt.prototype.invokeMap=xt(function(u,p){return typeof u=="function"?new Nt(this):this.map(function(w){return iu(w,u,p)})}),Nt.prototype.reject=function(u){return this.filter(bf(Je(u)))},Nt.prototype.slice=function(u,p){u=pt(u);var w=this;return w.__filtered__&&(u>0||p<0)?new Nt(w):(u<0?w=w.takeRight(-u):u&&(w=w.drop(u)),p!==n&&(p=pt(p),w=p<0?w.dropRight(-p):w.take(p-u)),w)},Nt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Nt.prototype.toArray=function(){return this.take(Ye)},ms(Nt.prototype,function(u,p){var w=/^(?:filter|find|map|reject)|While$/.test(p),S=/^(?:head|last)$/.test(p),B=V[S?"take"+(p=="last"?"Right":""):p],$=S||/^find/.test(p);B&&(V.prototype[p]=function(){var J=this.__wrapped__,ie=S?[1]:arguments,oe=J instanceof Nt,we=ie[0],be=oe||ut(J),_e=function(bt){var St=B.apply(V,ci([bt],ie));return S&&je?St[0]:St};be&&w&&typeof we=="function"&&we.length!=1&&(oe=be=!1);var je=this.__chain__,He=!!this.__actions__.length,et=$&&!je,mt=oe&&!He;if(!$&&be){J=mt?J:new Nt(this);var tt=u.apply(J,ie);return tt.__actions__.push({func:xf,args:[_e],thisArg:n}),new Ii(tt,je)}return et&&mt?u.apply(this,ie):(tt=this.thru(_e),et?S?tt.value()[0]:tt.value():tt)})}),$r(["pop","push","shift","sort","splice","unshift"],function(u){var p=rr[u],w=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",S=/^(?:pop|shift)$/.test(u);V.prototype[u]=function(){var B=arguments;if(S&&!this.__chain__){var $=this.value();return p.apply(ut($)?$:[],B)}return this[w](function(J){return p.apply(ut(J)?J:[],B)})}}),ms(Nt.prototype,function(u,p){var w=V[p];if(w){var S=w.name+"";Et.call(kl,S)||(kl[S]=[]),kl[S].push({name:p,func:w})}}),kl[uf(n,I).name]=[{name:"wrapper",func:n}],Nt.prototype.clone=v_,Nt.prototype.reverse=y_,Nt.prototype.value=w_,V.prototype.at=X5,V.prototype.chain=Q5,V.prototype.commit=K5,V.prototype.next=Z5,V.prototype.plant=e8,V.prototype.reverse=t8,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=n8,V.prototype.first=V.prototype.head,Kc&&(V.prototype[Kc]=J5),V},Z=W();zs?((zs.exports=Z)._=Z,qc._=Z):$n._=Z}).call(_s)})(hh,hh.exports);var yN=hh.exports;const d2=({stats:e,isLoading:t,onFilterByStatus:n,onFilterByType:r})=>{const{user:i}=Jn();return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("button",{onClick:()=>n(""),className:"card bg-blue-50 border-l-4 border-blue-500 hover:bg-blue-100 transition-colors cursor-pointer text-left",title:"Show all equipment",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-700",children:"Total Equipment"}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:t?"...":(e==null?void 0:e.total)||0})]}),c.jsxs("button",{onClick:()=>n("available"),className:"card bg-green-50 border-l-4 border-green-500 hover:bg-green-100 transition-colors cursor-pointer text-left",title:"Filter by available equipment",children:[c.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"Available"}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:t?"...":(e==null?void 0:e.available)||0})]}),c.jsxs("button",{onClick:()=>n("in-use"),className:"card bg-yellow-50 border-l-4 border-yellow-500 hover:bg-yellow-100 transition-colors cursor-pointer text-left",title:"Filter by in-use equipment",children:[c.jsx("h3",{className:"text-lg font-semibold text-yellow-700",children:"In Use"}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:t?"...":(e==null?void 0:e.inUse)||0})]}),c.jsxs("button",{onClick:()=>n("maintenance"),className:"card bg-red-50 border-l-4 border-red-500 hover:bg-red-100 transition-colors cursor-pointer text-left",title:"Filter by equipment in maintenance",children:[c.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"Maintenance"}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:t?"...":(e==null?void 0:e.maintenance)||0})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Equipment by Type"}),t?c.jsx("p",{children:"Loading..."}):c.jsxs("div",{className:"space-y-2",children:[(e==null?void 0:e.types)&&Object.entries(e.types||{}).map(([a,d])=>c.jsxs("button",{className:"flex justify-between items-center w-full px-3 py-2 hover:bg-slate-50 rounded-md transition-colors text-left",onClick:()=>r(a),title:`Filter by ${a} equipment`,children:[c.jsx("span",{className:"capitalize",children:a}),c.jsx("span",{className:"font-semibold",children:d})]},a)),(!(e!=null&&e.types)||Object.keys((e==null?void 0:e.types)||{}).length===0)&&c.jsx("p",{className:"text-gray-500",children:"No equipment data available"})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(jn,{to:"/equipment",className:"block w-full text-left px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md",children:"View All Equipment"}),c.jsx(jn,{to:"/equipment/new",className:"block w-full text-left px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Add New Equipment"}),(i==null?void 0:i.role)==="admin"&&c.jsx(jn,{to:"/users",className:"block w-full text-left px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Manage Users"})]})]})]})]})};d2.propTypes={stats:te.shape({total:te.number,available:te.number,inUse:te.number,maintenance:te.number,types:te.object}),isLoading:te.bool,onFilterByStatus:te.func,onFilterByType:te.func};d2.defaultProps={onFilterByStatus:()=>{},onFilterByType:()=>{}};const qP=({search:e,onApply:t,onDelete:n})=>c.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[c.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),c.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Rb=()=>{var pn,dt;const{user:e,canEditEquipment:t}=Jn(),n=Zn(),r=L.useRef(null),[i,a]=L.useState({search:"",type:"",brand:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,g]=L.useState("updated_at"),[v,x]=L.useState("desc"),[b,E]=L.useState(""),[_,k]=L.useState(!1),[A,R]=L.useState(!1),[M,I]=L.useState(!1),[D,O]=L.useState(""),[q,Q]=L.useState(!1),{data:z,isLoading:j}=kt(["equipment-summary"],()=>Jo({limit:1e3})),H=(()=>{if(!(z!=null&&z.equipment))return{total:0,available:0,inUse:0,maintenance:0};const Ee={total:z.equipment.length,available:0,inUse:0,maintenance:0,types:{}};return z.equipment.forEach(Qe=>{Qe.status==="available"?Ee.available++:Qe.status==="in-use"?Ee.inUse++:Qe.status==="maintenance"&&Ee.maintenance++,Ee.types[Qe.type]?Ee.types[Qe.type]++:Ee.types[Qe.type]=1}),Ee})(),{data:se,fetchNextPage:fe,hasNextPage:ae,isFetchingNextPage:re,isLoading:ve,isError:ee,error:ge}=Lx(["equipment",i,d,v],async({pageParam:Ee=1})=>{const Qe={page:Ee,limit:20,...i,sortBy:d,sortOrder:v};return i.dateRange.startDate&&i.dateRange.endDate&&(Qe.startDate=i.dateRange.startDate.toISOString(),Qe.endDate=i.dateRange.endDate.toISOString()),Jo(Qe)},{getNextPageParam:Ee=>{if(Ee.page<Ee.totalPages)return Ee.page+1},keepPreviousData:!0}),{data:me,isLoading:ce}=kt(["equipment-suggestions",b],()=>Jo({search:b,limit:5}),{enabled:!!b&&b.length>2,keepPreviousData:!0}),{data:Se}=kt(["saved-searches"],XE,{enabled:t()}),{data:Re}=kt({queryKey:["equipment-types"],queryFn:js,staleTime:3e5}),Ye=L.useCallback(yN.debounce(Ee=>{E(Ee)},300),[]),nt=Ee=>{const Qe=Ee.target.value,Pn={...i,search:Qe};a(Pn),Ye(Qe),Qe.length>2?k(!0):k(!1);const at=Object.values(Pn).some(ct=>ct!==""&&ct!==null&&(typeof ct!="object"||Pn.dateRange.startDate||Pn.dateRange.endDate));R(at)},sn=Ee=>{const{name:Qe,value:Pn}=Ee.target,at={...i,[Qe]:Pn};a(at);const ct=Object.values(at).some(Ke=>Ke!==""&&Ke!==null&&(typeof Ke!="object"||Ke.startDate||Ke.endDate));R(ct)},gt=Ee=>{const Qe={...i,status:Ee,search:"",type:"",brand:"",location:"",dateRange:{startDate:null,endDate:null}};a(Qe),R(!!Ee),Ee&&Q(!0)},hn=Ee=>{const Qe={...i,type:Ee.toLowerCase(),search:"",status:"",brand:"",location:"",dateRange:{startDate:null,endDate:null}};a(Qe),R(!0),Q(!0)},De=()=>{a({search:"",status:"",type:"",brand:"",location:"",dateRange:{startDate:null,endDate:null}}),R(!1),Q(!1)},Oe=Ee=>{const[Qe,Pn]=Ee,at={...i,dateRange:{startDate:Qe,endDate:Pn}};a(at);const ct=Object.values(at).some(Ke=>Ke!==""&&Ke!==null&&(typeof Ke!="object"||at.dateRange.startDate||at.dateRange.endDate));R(ct)},We=async()=>{if(!D.trim()){rt.error("Please enter a name for your saved search");return}try{await QE({name:D,filters:JSON.stringify(i),sortBy:d,sortOrder:v}),n.invalidateQueries(["saved-searches"]),O(""),I(!1),rt.success("Search saved successfully")}catch(Ee){rt.error("Failed to save search"),console.error("Save search error:",Ee)}},Qt=Ee=>{try{const Qe=JSON.parse(Ee.filters);a(Qe),g(Ee.sortBy||"updated_at"),x(Ee.sortOrder||"desc"),R(!0),rt.info(`Applied saved search: ${Ee.name}`)}catch(Qe){rt.error("Failed to apply saved search"),console.error("Apply saved search error:",Qe)}},Gn=async Ee=>{try{await KE(Ee),n.invalidateQueries(["saved-searches"]),rt.success("Search deleted successfully")}catch(Qe){rt.error("Failed to delete search"),console.error("Delete saved search error:",Qe)}};L.useEffect(()=>{const Ee=new IntersectionObserver(Qe=>{Qe[0].isIntersecting&&ae&&!re&&fe()},{threshold:.5});return r.current&&Ee.observe(r.current),()=>{r.current&&Ee.unobserve(r.current)}},[r,fe,ae,re]);const Ft=(se==null?void 0:se.pages.flatMap(Ee=>Ee.equipment))||[];return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Qh,{position:"top-right",autoClose:3e3}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard"}),c.jsx(jn,{to:"/equipment/new",className:"btn btn-primary",children:"Add New Equipment"})]}),c.jsxs("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:nt,className:"w-full px-4 py-3 pl-10 rounded-full shadow-md border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","aria-label":"Search equipment catalog"}),c.jsx(Vx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),_&&((pn=me==null?void 0:me.equipment)==null?void 0:pn.length)>0&&c.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:me.equipment.map(Ee=>c.jsxs(jn,{to:`/equipment/${Ee.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[c.jsxs("div",{className:"font-medium",children:[Ee.brand," ",Ee.model]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[Ee.type,"  SN: ",Ee.serial_number]})]},Ee.id))})]}),c.jsx("div",{className:"flex justify-between mt-2",children:c.jsxs("button",{onClick:()=>Q(!q),className:"flex items-center text-sm text-slate-600 hover:text-primary-600",children:[c.jsx(Yx,{className:"w-4 h-4 mr-1"}),q?"Hide Filters":"Show Advanced Filters"]})})]}),t()&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),M?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:D,onChange:Ee=>O(Ee.target.value),className:"w-48 px-3 py-1 text-sm border border-slate-300 rounded-lg"}),c.jsx("button",{className:"px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700",onClick:We,children:"Save"}),c.jsx("button",{className:"px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>{I(!1),O("")},children:"Cancel"})]}):c.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>I(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),c.jsx("span",{children:"Save Current Search"})]})]}),c.jsx("div",{className:"flex flex-wrap",children:((dt=Se==null?void 0:Se.searches)==null?void 0:dt.length)>0?Se.searches.map(Ee=>c.jsx(qP,{search:Ee,onApply:Qt,onDelete:Gn},Ee.id)):c.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),c.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${q?"max-h-96 opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:c.jsxs("div",{className:"p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Equipment Type"}),c.jsxs("select",{name:"type",value:i.type,onChange:sn,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[c.jsx("option",{value:"",children:"All Types"}),Re!=null&&Re.types&&Re.types.length>0?Re.types.map(Ee=>c.jsx("option",{value:Ee.name.toLowerCase(),children:Ee.name},Ee.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Brand"}),c.jsx("input",{type:"text",name:"brand",value:i.brand,onChange:sn,placeholder:"Filter by brand",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",value:i.status,onChange:sn,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"available",children:"Available"}),c.jsx("option",{value:"in-use",children:"In Use"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),c.jsx("input",{type:"text",name:"location",value:i.location,onChange:sn,placeholder:"Filter by location",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),c.jsx(vN,{selectsRange:!0,startDate:i.dateRange.startDate,endDate:i.dateRange.endDate,onChange:Oe,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),c.jsxs("select",{value:d,onChange:Ee=>g(Ee.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[c.jsx("option",{value:"updated_at",children:"Last Updated"}),c.jsx("option",{value:"brand",children:"Brand"}),c.jsx("option",{value:"model",children:"Model"}),c.jsx("option",{value:"type",children:"Type"}),c.jsx("option",{value:"status",children:"Status"}),c.jsx("option",{value:"location",children:"Location"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort Order"}),c.jsxs("select",{value:v,onChange:Ee=>x(Ee.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[c.jsx("option",{value:"asc",children:"Ascending"}),c.jsx("option",{value:"desc",children:"Descending"})]})]})]})]})}),A?c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Search Results"}),c.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[Ft.length," items found"]})]}),c.jsxs("button",{onClick:De,className:"px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 flex items-center",title:"Clear all filters and return to dashboard",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-slate-50 text-left",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),c.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Brand"}),c.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Model"}),c.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Serial Number"}),c.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),c.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200",children:ve?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:c.jsxs("div",{className:"flex justify-center items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mr-2"}),"Loading..."]})})}):ee?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center text-red-500",children:["Error loading equipment: ",ge.message]})}):Ft.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:"No equipment found matching your search criteria"})}):Ft.map(Ee=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.type}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.brand}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.model}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.serial_number}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ee.status==="available"?"bg-green-100 text-green-800":Ee.status==="in-use"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:Ee.status})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.location||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(jn,{to:`/equipment/${Ee.id}`,className:"text-primary-600 hover:text-primary-900",title:"View details",children:c.jsx(RE,{className:"w-5 h-5"})}),t()&&c.jsx(c.Fragment,{children:c.jsx(jn,{to:`/equipment/${Ee.id}/edit`,className:"text-slate-600 hover:text-slate-900",title:"Edit equipment",children:c.jsx(qx,{className:"w-5 h-5"})})})]})})]},Ee.id))})]})}),c.jsx("div",{ref:r,className:"py-4 text-center",children:re?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):ae?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]}):c.jsx("div",{className:"grid grid-cols-1 gap-6",children:c.jsx(d2,{stats:H,isLoading:j,onFilterByStatus:gt,onFilterByType:hn})})]})},jc=async()=>{try{return{categories:(await it.get("/api/categories")).data}}catch(e){return console.error("Error fetching categories:",e),{categories:[]}}},VP=async(e,t="")=>(await it.post("/api/categories",{name:e,description:t})).data,YP=async(e,t,n="")=>(await it.put(`/api/categories/${e}`,{name:t,description:n})).data,GP=async e=>(await it.delete(`/api/categories/${e}`)).data,Ve=({children:e,variant:t="primary",size:n="md",type:r="button",fullWidth:i=!1,disabled:a=!1,onClick:d,className:g="",as:v="button",...x})=>{const b="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-1",E={primary:"bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500 border border-primary-500 hover:border-primary-600 hover:shadow-sm transition-all",secondary:"bg-white text-slate-600 hover:bg-slate-50 focus:ring-slate-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",outline:"bg-white hover:bg-slate-50 text-slate-700 focus:ring-primary-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",danger:"bg-white text-red-600 hover:bg-red-50 focus:ring-red-500 border border-red-500 hover:border-red-600 hover:shadow-sm transition-all",success:"bg-white text-green-600 hover:bg-green-50 focus:ring-green-500 border border-green-500 hover:border-green-600 hover:shadow-sm transition-all",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-500 border border-transparent hover:shadow-sm transition-all"},_={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"},k=a?"opacity-60 cursor-not-allowed":"cursor-pointer",A=i?"w-full":"",R=`
    ${b}
    ${E[t]||E.primary}
    ${_[n]||_.md}
    ${k}
    ${A}
    ${g}
  `,M=v==="button"?{type:r,...x}:x;return c.jsx(v,{className:R,disabled:a,onClick:d,...M,children:e})};Ve.propTypes={children:te.node.isRequired,variant:te.oneOf(["primary","secondary","outline","danger","success","ghost"]),size:te.oneOf(["sm","md","lg"]),type:te.oneOf(["button","submit","reset"]),fullWidth:te.bool,disabled:te.bool,onClick:te.func,className:te.string,as:te.elementType};const Zt=({id:e,name:t,type:n="text",label:r,placeholder:i,value:a,onChange:d,onBlur:g,error:v,icon:x,disabled:b=!1,required:E=!1,className:_="",...k})=>{const D=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${b?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    ${x?"pl-10":"pl-3"}
    py-2 pr-3 text-sm
    ${_}
  `;return c.jsxs("div",{className:"w-full",children:[r&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,E&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative",children:[x&&c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:x}),c.jsx("input",{id:e,name:t,type:n,value:a,onChange:d,onBlur:g,placeholder:i,disabled:b,required:E,className:D,...k})]}),v&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};Zt.propTypes={id:te.string.isRequired,name:te.string.isRequired,type:te.string,label:te.string,placeholder:te.string,value:te.oneOfType([te.string,te.number]),onChange:te.func,onBlur:te.func,error:te.string,icon:te.node,disabled:te.bool,required:te.bool,className:te.string};var Fe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fe||(Fe={}));var Ob=new Map([[Fe.QR_CODE,"QR_CODE"],[Fe.AZTEC,"AZTEC"],[Fe.CODABAR,"CODABAR"],[Fe.CODE_39,"CODE_39"],[Fe.CODE_93,"CODE_93"],[Fe.CODE_128,"CODE_128"],[Fe.DATA_MATRIX,"DATA_MATRIX"],[Fe.MAXICODE,"MAXICODE"],[Fe.ITF,"ITF"],[Fe.EAN_13,"EAN_13"],[Fe.EAN_8,"EAN_8"],[Fe.PDF_417,"PDF_417"],[Fe.RSS_14,"RSS_14"],[Fe.RSS_EXPANDED,"RSS_EXPANDED"],[Fe.UPC_A,"UPC_A"],[Fe.UPC_E,"UPC_E"],[Fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),jb;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(jb||(jb={}));function $P(e){return Object.values(Fe).includes(e)}var ph;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ph||(ph={}));var XP=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ph.SCAN_TYPE_CAMERA,ph.SCAN_TYPE_FILE],e}(),wN=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Ob.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Ob.get(t))},e}(),Mb=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Cg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Cg||(Cg={}));var QP=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Cg.UNKWOWN_ERROR}},e}(),KP=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ea(e){return typeof e>"u"||e===null}var Zl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),bN=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),d=Object.keys(t),g=0,v=d;g<v.length;g++){var x=v[g];if(a.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Eg={exports:{}};(function(e,t){(function(n,r){r(t)})(_s,function(n){function r(P){return P==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,s){P.__proto__=s}||function(P,s){for(var o in s)s.hasOwnProperty(o)&&(P[o]=s[o])};function a(P,s){i(P,s);function o(){this.constructor=P}P.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function d(P,s){var o=Object.setPrototypeOf;o?o(P,s):P.__proto__=s}function g(P,s){s===void 0&&(s=P.constructor);var o=Error.captureStackTrace;o&&o(P,s)}var v=function(P){a(s,P);function s(o){var l=this.constructor,f=P.call(this,o)||this;return Object.defineProperty(f,"name",{value:l.name,enumerable:!1}),d(f,l.prototype),g(f),f}return s}(Error);class x extends v{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}x.kind="Exception";class b extends x{}b.kind="ArgumentException";class E extends x{}E.kind="IllegalArgumentException";class _{constructor(s){if(this.binarizer=s,s===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,l,f){const h=this.binarizer.getLuminanceSource().crop(s,o,l,f);return new _(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends x{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(s,o,l,f,h){for(;h--;)l[f++]=s[o++]}static currentTimeMillis(){return Date.now()}}class M extends x{}M.kind="IndexOutOfBoundsException";class I extends M{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class D{static fill(s,o){for(let l=0,f=s.length;l<f;l++)s[l]=o}static fillWithin(s,o,l,f){D.rangeCheck(s.length,o,l);for(let h=o;h<l;h++)s[h]=f}static rangeCheck(s,o,l){if(o>l)throw new E("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new I(o);if(l>s)throw new I(l)}static asList(...s){return s}static create(s,o,l){return Array.from({length:s}).map(h=>Array.from({length:o}).fill(l))}static createInt32Array(s,o,l){return Array.from({length:s}).map(h=>Int32Array.from({length:o}).fill(l))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let l=0,f=s.length;l<f;l++)if(s[l]!==o[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const l of s)o=31*o+l;return o}static fillUint8Array(s,o){for(let l=0;l!==s.length;l++)s[l]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const l=new Uint8Array(o);return l.set(s),l}return s.slice(0,o)}static copyOfRange(s,o,l){const f=l-o,h=new Int32Array(f);return R.arraycopy(s,o,h,0,f),h}static binarySearch(s,o,l){l===void 0&&(l=D.numberComparator);let f=0,h=s.length-1;for(;f<=h;){const m=h+f>>1,y=l(o,s[m]);if(y>0)f=m+1;else if(y<0)h=m-1;else return m}return-f-1}static numberComparator(s,o){return s-o}}class O{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let l=31;return o=s<<16,o!==0&&(l-=16,s=o),o=s<<8,o!==0&&(l-=8,s=o),o=s<<4,o!==0&&(l-=4,s=o),o=s<<2,o!==0&&(l-=2,s=o),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=q.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=q.makeArray(s);R.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const l=this.bits;let f=Math.floor(s/32),h=l[f];h&=~((1<<(s&31))-1);const m=l.length;for(;h===0;){if(++f===m)return o;h=l[f]}const y=f*32+O.numberOfTrailingZeros(h);return y>o?o:y}getNextUnset(s){const o=this.size;if(s>=o)return o;const l=this.bits;let f=Math.floor(s/32),h=~l[f];h&=~((1<<(s&31))-1);const m=l.length;for(;h===0;){if(++f===m)return o;h=~l[f]}const y=f*32+O.numberOfTrailingZeros(h);return y>o?o:y}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new E;if(o===s)return;o--;const l=Math.floor(s/32),f=Math.floor(o/32),h=this.bits;for(let m=l;m<=f;m++){const y=m>l?0:s&31,N=(2<<(m<f?31:o&31))-(1<<y);h[m]|=N}}clear(){const s=this.bits.length,o=this.bits;for(let l=0;l<s;l++)o[l]=0}isRange(s,o,l){if(o<s||s<0||o>this.size)throw new E;if(o===s)return!0;o--;const f=Math.floor(s/32),h=Math.floor(o/32),m=this.bits;for(let y=f;y<=h;y++){const C=y>f?0:s&31,T=(2<<(y<h?31:o&31))-(1<<C)&4294967295;if((m[y]&T)!==(l?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new E("Sizes don't match");const o=this.bits;for(let l=0,f=o.length;l<f;l++)o[l]^=s.bits[l]}toBytes(s,o,l,f){for(let h=0;h<f;h++){let m=0;for(let y=0;y<8;y++)this.get(s)&&(m|=1<<7-y),s++;o[l+h]=m}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,f=this.bits;for(let h=0;h<l;h++){let m=f[h];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,s[o-h]=m}if(this.size!==l*32){const h=l*32-this.size;let m=s[0]>>>h;for(let y=1;y<l;y++){const C=s[y];m|=C<<32-h,s[y-1]=m,m=C>>>h}s[l-1]=m}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof q))return!1;const o=s;return this.size===o.size&&D.equals(this.bits,o.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let s="";for(let o=0,l=this.size;o<l;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new q(this.size,this.bits.slice())}}var Q;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var z=Q;class j extends x{static getFormatInstance(){return new j}}j.kind="FormatException";var G;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(G||(G={}));class H{constructor(s,o,l,...f){this.valueIdentifier=s,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,H.VALUE_IDENTIFIER_TO_ECI.set(s,this),H.NAME_TO_ECI.set(l,this);const h=this.values;for(let m=0,y=h.length;m!==y;m++){const C=h[m];H.VALUES_TO_ECI.set(C,this)}for(const m of f)H.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new j("incorect value");const o=H.VALUES_TO_ECI.get(s);if(o===void 0)throw new j("incorect value");return o}static getCharacterSetECIByName(s){const o=H.NAME_TO_ECI.get(s);if(o===void 0)throw new j("incorect value");return o}equals(s){if(!(s instanceof H))return!1;const o=s;return this.getName()===o.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(G.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(G.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(G.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(G.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(G.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(G.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(G.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(G.Big5,28,"Big5"),H.GB18030=new H(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(G.EUC_KR,30,"EUC_KR","EUC-KR");class se extends x{}se.kind="UnsupportedOperationException";class fe{static decode(s,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!fe.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof H?s:H.getCharacterSetECIByName(s)}static decodeFallback(s,o){const l=this.encodingCharacterSet(o);if(fe.isDecodeFallbackSupported(l)){let f="";for(let h=0,m=s.length;h<m;h++){let y=s[h].toString(16);y.length<2&&(y="0"+y),f+="%"+y}return decodeURIComponent(f)}if(l.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new se(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(H.UTF8)||s.equals(H.ISO8859_1)||s.equals(H.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let h=0;h<l.length;h++)f.push(l[h].charCodeAt(0));return new Uint8Array(f)}}class ae{static castAsNonUtf8Char(s,o=null){const l=o?o.getName():this.ISO88591;return fe.decode(new Uint8Array([s]),l)}static guessEncoding(s,o){if(o!=null&&o.get(z.CHARACTER_SET)!==void 0)return o.get(z.CHARACTER_SET).toString();const l=s.length;let f=!0,h=!0,m=!0,y=0,C=0,N=0,T=0,F=0,W=0,Z=0,U=0,Y=0,X=0,ne=0;const he=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let xe=0;xe<l&&(f||h||m);xe++){const ye=s[xe]&255;m&&(y>0?ye&128?y--:m=!1:ye&128&&(ye&64?(y++,ye&32?(y++,ye&16?(y++,ye&8?m=!1:T++):N++):C++):m=!1)),f&&(ye>127&&ye<160?f=!1:ye>159&&(ye<192||ye===215||ye===247)&&ne++),h&&(F>0?ye<64||ye===127||ye>252?h=!1:F--:ye===128||ye===160||ye>239?h=!1:ye>160&&ye<224?(W++,U=0,Z++,Z>Y&&(Y=Z)):ye>127?(F++,Z=0,U++,U>X&&(X=U)):(Z=0,U=0))}return m&&y>0&&(m=!1),h&&F>0&&(h=!1),m&&(he||C+N+T>0)?ae.UTF8:h&&(ae.ASSUME_SHIFT_JIS||Y>=3||X>=3)?ae.SHIFT_JIS:f&&h?Y===2&&W===2||ne*10>=l?ae.SHIFT_JIS:ae.ISO88591:f?ae.ISO88591:h?ae.SHIFT_JIS:m?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let l=-1;function f(m,y,C,N,T,F){if(m==="%%")return"%";if(o[++l]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let W=T?parseInt(T.substr(1)):void 0,Z;switch(F){case"s":Z=o[l];break;case"c":Z=o[l][0];break;case"f":Z=parseFloat(o[l]).toFixed(m);break;case"p":Z=parseFloat(o[l]).toPrecision(m);break;case"e":Z=parseFloat(o[l]).toExponential(m);break;case"x":Z=parseInt(o[l]).toString(W||16);break;case"d":Z=parseFloat(parseInt(o[l],W||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(W);let U=parseInt(C),Y=C&&C[0]+""=="0"?"0":" ";for(;Z.length<U;)Z=y!==void 0?Z+Y:Y+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}static getBytes(s,o){return fe.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}ae.SHIFT_JIS=H.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=H.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=H.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class re{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,l){for(let f=o;o<o+l;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class ve{constructor(s,o,l,f){if(this.width=s,this.height=o,this.rowSize=l,this.bits=f,o==null&&(o=s),this.height=o,s<1||o<1)throw new E("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,l=s[0].length,f=new ve(l,o);for(let h=0;h<o;h++){const m=s[h];for(let y=0;y<l;y++)m[y]&&f.set(y,h)}return f}static parseFromString(s,o,l){if(s===null)throw new E("stringRepresentation cannot be null");const f=new Array(s.length);let h=0,m=0,y=-1,C=0,N=0;for(;N<s.length;)if(s.charAt(N)===`
`||s.charAt(N)==="\r"){if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new E("row lengths do not match");m=h,C++}N++}else if(s.substring(N,N+o.length)===o)N+=o.length,f[h]=!0,h++;else if(s.substring(N,N+l.length)===l)N+=l.length,f[h]=!1,h++;else throw new E("illegal character encountered: "+s.substring(N));if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new E("row lengths do not match");C++}const T=new ve(y,C);for(let F=0;F<h;F++)f[F]&&T.set(Math.floor(F%y),Math.floor(F/y));return T}get(s,o){const l=o*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new E("input matrix dimensions do not match");const o=new q(Math.floor(this.width/32)+1),l=this.rowSize,f=this.bits;for(let h=0,m=this.height;h<m;h++){const y=h*l,C=s.getRow(h,o).getBitArray();for(let N=0;N<l;N++)f[y+N]^=C[N]}}clear(){const s=this.bits,o=s.length;for(let l=0;l<o;l++)s[l]=0}setRegion(s,o,l,f){if(o<0||s<0)throw new E("Left and top must be nonnegative");if(f<1||l<1)throw new E("Height and width must be at least 1");const h=s+l,m=o+f;if(m>this.height||h>this.width)throw new E("The region must fit inside the matrix");const y=this.rowSize,C=this.bits;for(let N=o;N<m;N++){const T=N*y;for(let F=s;F<h;F++)C[T+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new q(this.width):o.clear();const l=this.rowSize,f=this.bits,h=s*l;for(let m=0;m<l;m++)o.setBulk(m*32,f[h+m]);return o}setRow(s,o){R.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let l=new q(s),f=new q(s);for(let h=0,m=Math.floor((o+1)/2);h<m;h++)l=this.getRow(h,l),f=this.getRow(o-1-h,f),l.reverse(),f.reverse(),this.setRow(h,f),this.setRow(o-1-h,l)}getEnclosingRectangle(){const s=this.width,o=this.height,l=this.rowSize,f=this.bits;let h=s,m=o,y=-1,C=-1;for(let N=0;N<o;N++)for(let T=0;T<l;T++){const F=f[N*l+T];if(F!==0){if(N<m&&(m=N),N>C&&(C=N),T*32<h){let W=0;for(;!(F<<31-W&4294967295);)W++;T*32+W<h&&(h=T*32+W)}if(T*32+31>y){let W=31;for(;!(F>>>W);)W--;T*32+W>y&&(y=T*32+W)}}}return y<h||C<m?null:Int32Array.from([h,m,y-h+1,C-m+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const f=l/s;let h=l%s*32;const m=o[l];let y=0;for(;!(m<<31-y&4294967295);)y++;return h+=y,Int32Array.from([h,f])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const f=Math.floor(l/s);let h=Math.floor(l%s)*32;const m=o[l];let y=31;for(;!(m>>>y);)y--;return h+=y,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ve))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&D.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+D.hashCode(this.bits),s}toString(s="X ",o="  ",l=`
`){return this.buildToString(s,o,l)}buildToString(s,o,l){let f=new re;for(let h=0,m=this.height;h<m;h++){for(let y=0,C=this.width;y<C;y++)f.append(this.get(y,h)?s:o);f.append(l)}return f.toString()}clone(){return new ve(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends x{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class ge extends A{constructor(s){super(s),this.luminances=ge.EMPTY,this.buckets=new Int32Array(ge.LUMINANCE_BUCKETS)}getBlackRow(s,o){const l=this.getLuminanceSource(),f=l.getWidth();o==null||o.getSize()<f?o=new q(f):o.clear(),this.initArrays(f);const h=l.getRow(s,this.luminances),m=this.buckets;for(let C=0;C<f;C++)m[(h[C]&255)>>ge.LUMINANCE_SHIFT]++;const y=ge.estimateBlackPoint(m);if(f<3)for(let C=0;C<f;C++)(h[C]&255)<y&&o.set(C);else{let C=h[0]&255,N=h[1]&255;for(let T=1;T<f-1;T++){const F=h[T+1]&255;(N*4-C-F)/2<y&&o.set(T),C=N,N=F}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight(),f=new ve(o,l);this.initArrays(o);const h=this.buckets;for(let C=1;C<5;C++){const N=Math.floor(l*C/5),T=s.getRow(N,this.luminances),F=Math.floor(o*4/5);for(let W=Math.floor(o/5);W<F;W++){const Z=T[W]&255;h[Z>>ge.LUMINANCE_SHIFT]++}}const m=ge.estimateBlackPoint(h),y=s.getMatrix();for(let C=0;C<l;C++){const N=C*o;for(let T=0;T<o;T++)(y[N+T]&255)<m&&f.set(T,C)}return f}createBinarizer(s){return new ge(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let l=0;l<ge.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(s){const o=s.length;let l=0,f=0,h=0;for(let T=0;T<o;T++)s[T]>h&&(f=T,h=s[T]),s[T]>l&&(l=s[T]);let m=0,y=0;for(let T=0;T<o;T++){const F=T-f,W=s[T]*F*F;W>y&&(m=T,y=W)}if(f>m){const T=f;f=m,m=T}if(m-f<=o/16)throw new ee;let C=m-1,N=-1;for(let T=m-1;T>f;T--){const F=T-f,W=F*F*(m-T)*(l-s[T]);W>N&&(C=T,N=W)}return C<<ge.LUMINANCE_SHIFT}}ge.LUMINANCE_BITS=5,ge.LUMINANCE_SHIFT=8-ge.LUMINANCE_BITS,ge.LUMINANCE_BUCKETS=1<<ge.LUMINANCE_BITS,ge.EMPTY=Uint8ClampedArray.from([0]);class me extends ge{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight();if(o>=me.MINIMUM_DIMENSION&&l>=me.MINIMUM_DIMENSION){const f=s.getMatrix();let h=o>>me.BLOCK_SIZE_POWER;o&me.BLOCK_SIZE_MASK&&h++;let m=l>>me.BLOCK_SIZE_POWER;l&me.BLOCK_SIZE_MASK&&m++;const y=me.calculateBlackPoints(f,h,m,o,l),C=new ve(o,l);me.calculateThresholdForBlock(f,h,m,o,l,y,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new me(s)}static calculateThresholdForBlock(s,o,l,f,h,m,y){const C=h-me.BLOCK_SIZE,N=f-me.BLOCK_SIZE;for(let T=0;T<l;T++){let F=T<<me.BLOCK_SIZE_POWER;F>C&&(F=C);const W=me.cap(T,2,l-3);for(let Z=0;Z<o;Z++){let U=Z<<me.BLOCK_SIZE_POWER;U>N&&(U=N);const Y=me.cap(Z,2,o-3);let X=0;for(let he=-2;he<=2;he++){const xe=m[W+he];X+=xe[Y-2]+xe[Y-1]+xe[Y]+xe[Y+1]+xe[Y+2]}const ne=X/25;me.thresholdBlock(s,U,F,ne,f,y)}}}static cap(s,o,l){return s<o?o:s>l?l:s}static thresholdBlock(s,o,l,f,h,m){for(let y=0,C=l*h+o;y<me.BLOCK_SIZE;y++,C+=h)for(let N=0;N<me.BLOCK_SIZE;N++)(s[C+N]&255)<=f&&m.set(o+N,l+y)}static calculateBlackPoints(s,o,l,f,h){const m=h-me.BLOCK_SIZE,y=f-me.BLOCK_SIZE,C=new Array(l);for(let N=0;N<l;N++){C[N]=new Int32Array(o);let T=N<<me.BLOCK_SIZE_POWER;T>m&&(T=m);for(let F=0;F<o;F++){let W=F<<me.BLOCK_SIZE_POWER;W>y&&(W=y);let Z=0,U=255,Y=0;for(let ne=0,he=T*f+W;ne<me.BLOCK_SIZE;ne++,he+=f){for(let xe=0;xe<me.BLOCK_SIZE;xe++){const ye=s[he+xe]&255;Z+=ye,ye<U&&(U=ye),ye>Y&&(Y=ye)}if(Y-U>me.MIN_DYNAMIC_RANGE)for(ne++,he+=f;ne<me.BLOCK_SIZE;ne++,he+=f)for(let xe=0;xe<me.BLOCK_SIZE;xe++)Z+=s[he+xe]&255}let X=Z>>me.BLOCK_SIZE_POWER*2;if(Y-U<=me.MIN_DYNAMIC_RANGE&&(X=U/2,N>0&&F>0)){const ne=(C[N-1][F]+2*C[N][F-1]+C[N-1][F-1])/4;U<ne&&(X=ne)}C[N][F]=X}}return C}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class ce{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,l,f){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new re;for(let l=0;l<this.height;l++){const f=this.getRow(l,s);for(let h=0;h<this.width;h++){const m=f[h]&255;let y;m<64?y="#":m<128?y="+":m<192?y=".":y=" ",o.append(y)}o.append(`
`)}return o.toString()}}class Se extends ce{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const l=this.delegate.getRow(s,o),f=this.getWidth();for(let h=0;h<f;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let f=0;f<o;f++)l[f]=255-(s[f]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,l,f){return new Se(this.delegate.crop(s,o,l,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Se(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Se(this.delegate.rotateCounterClockwise45())}}class Re extends ce{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Re.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return Re.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,l){const f=new Uint8ClampedArray(o*l);for(let h=0,m=0,y=s.length;h<y;h+=4,m++){let C;if(s[h+3]===0)C=255;else{const T=s[h],F=s[h+1],W=s[h+2];C=306*T+601*F+117*W+512>>10}f[m]=C}return f}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const l=this.getWidth(),f=s*l;return o===null?o=this.buffer.slice(f,f+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(f,f+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,l,f){return super.crop(s,o,l,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),l=o.getContext("2d"),f=s*Re.DEGREE_TO_RADIANS,h=this.canvas.width,m=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*m),C=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*m);return o.width=y,o.height=C,l.translate(y/2,C/2),l.rotate(f),l.drawImage(this.canvas,h/-2,m/-2),this.buffer=Re.makeBufferFromCanvasImageData(o),this}invert(){return new Se(this)}}Re.DEGREE_TO_RADIANS=Math.PI/180;class Ye{constructor(s,o,l){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var nt=(globalThis||_s||self||window||void 0)&&(globalThis||_s||self||window||void 0).__awaiter||function(P,s,o,l){function f(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function y(T){try{N(l.next(T))}catch(F){m(F)}}function C(T){try{N(l.throw(T))}catch(F){m(F)}}function N(T){T.done?h(T.value):f(T.value).then(y,C)}N((l=l.apply(P,s||[])).next())})};class sn{constructor(s,o=500,l){this.reader=s,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return nt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of s){const f=l.kind==="video"?"videoinput":l.kind;if(f!=="videoinput")continue;const h=l.deviceId||l.id,m=l.label||`Video device ${o.length+1}`,y=l.groupId,C={deviceId:h,label:m,kind:f,groupId:y};o.push(C)}return o})}getVideoInputDevices(){return nt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Ye(o.deviceId,o.label))})}findDeviceById(s){return nt(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return nt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return nt(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const f={video:l};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(s,o){return nt(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(s,o){return nt(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,o,l){return nt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,l)})}decodeFromVideoDevice(s,o,l){return nt(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,o,l)})}decodeFromConstraints(s,o,l){return nt(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,o,l)})}decodeFromStream(s,o,l){return nt(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(f,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return nt(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((o,l)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return nt(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const l=document.getElementById(s);if(!l)throw new b(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new b(`element with id '${s}' must be an ${o} element`);return l}decodeFromImage(s,o){if(!s&&!o)throw new b("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new b("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,l){if(s===void 0&&o===void 0)throw new b("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new b("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(s){if(!s)throw new b("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new b("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=s,l}decodeFromVideoUrl(s){if(!s)throw new b("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=s,l}decodeFromVideoUrlContinuously(s,o){if(!s)throw new b("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(l,o);return l.src=s,f}_decodeOnLoadImage(s){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return nt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return nt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,l=!0){this._stopAsyncDecode=!1;const f=(h,m)=>{if(this._stopAsyncDecode){m(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(s);h(y)}catch(y){const C=o&&y instanceof ee,T=(y instanceof k||y instanceof j)&&l;if(C||T)return setTimeout(f,this._timeBetweenDecodingAttempts,h,m);m(y)}};return new Promise((h,m)=>f(h,m))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);o(f,null),setTimeout(l,this.timeBetweenScansMillis)}catch(f){o(null,f);const h=f instanceof k||f instanceof j,m=f instanceof ee;(h||m)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,l){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),l=new Re(o),f=new me(l);return new _(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),o.style.width=l+"px",o.style.height=f+"px",o.width=l,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class gt{constructor(s,o,l=o==null?0:8*o.length,f,h,m=R.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=l,this.resultPoints=f,this.format=h,this.timestamp=m,this.text=s,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=f,this.format=h,this.resultMetadata=null,m==null?this.timestamp=R.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(o.length+s.length);R.arraycopy(o,0,l,0,o.length),R.arraycopy(s,0,l,o.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var hn;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(hn||(hn={}));var De=hn,Oe;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Oe||(Oe={}));var We=Oe;class Qt{constructor(s,o,l,f,h=-1,m=-1){this.rawBytes=s,this.text=o,this.byteSegments=l,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=m,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Gn{exp(s){return this.expTable[s]}log(s){if(s===0)throw new E;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class Ft{constructor(s,o){if(o.length===0)throw new E;this.field=s;const l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-f),R.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(s===1){l=0;for(let m=0,y=o.length;m!==y;m++){const C=o[m];l=Gn.addOrSubtract(l,C)}return l}l=o[0];const f=o.length,h=this.field;for(let m=1;m<f;m++)l=Gn.addOrSubtract(h.multiply(s,l),o[m]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){const m=o;o=l,l=m}let f=new Int32Array(l.length);const h=l.length-o.length;R.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=Gn.addOrSubtract(o[m-h],l[m]);return new Ft(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,f=s.coefficients,h=f.length,m=new Int32Array(l+h-1),y=this.field;for(let C=0;C<l;C++){const N=o[C];for(let T=0;T<h;T++)m[C+T]=Gn.addOrSubtract(m[C+T],y.multiply(N,f[T]))}return new Ft(y,m)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,l=this.field,f=new Int32Array(o),h=this.coefficients;for(let m=0;m<o;m++)f[m]=l.multiply(h[m],s);return new Ft(l,f)}multiplyByMonomial(s,o){if(s<0)throw new E;if(o===0)return this.field.getZero();const l=this.coefficients,f=l.length,h=new Int32Array(f+s),m=this.field;for(let y=0;y<f;y++)h[y]=m.multiply(l[y],o);return new Ft(m,h)}divide(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new E("Divide by 0");const o=this.field;let l=o.getZero(),f=this;const h=s.getCoefficient(s.getDegree()),m=o.inverse(h);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const y=f.getDegree()-s.getDegree(),C=o.multiply(f.getCoefficient(f.getDegree()),m),N=s.multiplyByMonomial(y,C),T=o.buildMonomial(y,C);l=l.addOrSubtract(T),f=f.addOrSubtract(N)}return[l,f]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),o===0||l!==1){const f=this.field.log(l);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class pn extends x{}pn.kind="ArithmeticException";class dt extends Gn{constructor(s,o,l){super(),this.primitive=s,this.size=o,this.generatorBase=l;const f=new Int32Array(o);let h=1;for(let y=0;y<o;y++)f[y]=h,h*=2,h>=o&&(h^=s,h&=o-1);this.expTable=f;const m=new Int32Array(o);for(let y=0;y<o-1;y++)m[f[y]]=y;this.logTable=m,this.zero=new Ft(this,Int32Array.from([0])),this.one=new Ft(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new E;if(o===0)return this.zero;const l=new Int32Array(s+1);return l[0]=o,new Ft(this,l)}inverse(s){if(s===0)throw new pn;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}dt.AZTEC_DATA_12=new dt(4201,4096,1),dt.AZTEC_DATA_10=new dt(1033,1024,1),dt.AZTEC_DATA_6=new dt(67,64,1),dt.AZTEC_PARAM=new dt(19,16,1),dt.QR_CODE_FIELD_256=new dt(285,256,0),dt.DATA_MATRIX_FIELD_256=new dt(301,256,1),dt.AZTEC_DATA_8=dt.DATA_MATRIX_FIELD_256,dt.MAXICODE_FIELD_64=dt.AZTEC_DATA_6;class Ee extends x{}Ee.kind="ReedSolomonException";class Qe extends x{}Qe.kind="IllegalStateException";class Pn{constructor(s){this.field=s}decode(s,o){const l=this.field,f=new Ft(l,s),h=new Int32Array(o);let m=!0;for(let Z=0;Z<o;Z++){const U=f.evaluateAt(l.exp(Z+l.getGeneratorBase()));h[h.length-1-Z]=U,U!==0&&(m=!1)}if(m)return;const y=new Ft(l,h),C=this.runEuclideanAlgorithm(l.buildMonomial(o,1),y,o),N=C[0],T=C[1],F=this.findErrorLocations(N),W=this.findErrorMagnitudes(T,F);for(let Z=0;Z<F.length;Z++){const U=s.length-1-l.log(F[Z]);if(U<0)throw new Ee("Bad error location");s[U]=dt.addOrSubtract(s[U],W[Z])}}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){const Z=s;s=o,o=Z}const f=this.field;let h=s,m=o,y=f.getZero(),C=f.getOne();for(;m.getDegree()>=(l/2|0);){let Z=h,U=y;if(h=m,y=C,h.isZero())throw new Ee("r_{i-1} was zero");m=Z;let Y=f.getZero();const X=h.getCoefficient(h.getDegree()),ne=f.inverse(X);for(;m.getDegree()>=h.getDegree()&&!m.isZero();){const he=m.getDegree()-h.getDegree(),xe=f.multiply(m.getCoefficient(m.getDegree()),ne);Y=Y.addOrSubtract(f.buildMonomial(he,xe)),m=m.addOrSubtract(h.multiplyByMonomial(he,xe))}if(C=Y.multiply(y).addOrSubtract(U),m.getDegree()>=h.getDegree())throw new Qe("Division algorithm failed to reduce polynomial?")}const N=C.getCoefficient(0);if(N===0)throw new Ee("sigmaTilde(0) was zero");const T=f.inverse(N),F=C.multiplyScalar(T),W=m.multiplyScalar(T);return[F,W]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(o);let f=0;const h=this.field;for(let m=1;m<h.getSize()&&f<o;m++)s.evaluateAt(m)===0&&(l[f]=h.inverse(m),f++);if(f!==o)throw new Ee("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,o){const l=o.length,f=new Int32Array(l),h=this.field;for(let m=0;m<l;m++){const y=h.inverse(o[m]);let C=1;for(let N=0;N<l;N++)if(m!==N){const T=h.multiply(o[N],y),F=T&1?T&-2:T|1;C=h.multiply(C,F)}f[m]=h.multiply(s.evaluateAt(y),h.inverse(C)),h.getGeneratorBase()!==0&&(f[m]=h.multiply(f[m],y))}return f}}var at;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(at||(at={}));class ct{decode(s){this.ddata=s;let o=s.getBits(),l=this.extractBits(o),f=this.correctBits(l),h=ct.convertBoolArrayToByteArray(f),m=ct.getEncodedData(f),y=new Qt(h,m,null,null);return y.setNumBits(f.length),y}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,l=at.UPPER,f=at.UPPER,h="",m=0;for(;m<o;)if(f===at.BINARY){if(o-m<5)break;let y=ct.readCode(s,m,5);if(m+=5,y===0){if(o-m<11)break;y=ct.readCode(s,m,11)+31,m+=11}for(let C=0;C<y;C++){if(o-m<8){m=o;break}const N=ct.readCode(s,m,8);h+=ae.castAsNonUtf8Char(N),m+=8}f=l}else{let y=f===at.DIGIT?4:5;if(o-m<y)break;let C=ct.readCode(s,m,y);m+=y;let N=ct.getCharacter(f,C);N.startsWith("CTRL_")?(l=f,f=ct.getTable(N.charAt(5)),N.charAt(6)==="L"&&(l=f)):(h+=N,f=l)}return h}static getTable(s){switch(s){case"L":return at.LOWER;case"P":return at.PUNCT;case"M":return at.MIXED;case"D":return at.DIGIT;case"B":return at.BINARY;case"U":default:return at.UPPER}}static getCharacter(s,o){switch(s){case at.UPPER:return ct.UPPER_TABLE[o];case at.LOWER:return ct.LOWER_TABLE[o];case at.MIXED:return ct.MIXED_TABLE[o];case at.PUNCT:return ct.PUNCT_TABLE[o];case at.DIGIT:return ct.DIGIT_TABLE[o];default:throw new Qe("Bad table")}}correctBits(s){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=dt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=dt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=dt.AZTEC_DATA_10):(l=12,o=dt.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=s.length/l;if(h<f)throw new j;let m=s.length%l,y=new Int32Array(h);for(let W=0;W<h;W++,m+=l)y[W]=ct.readCode(s,m,l);try{new Pn(o).decode(y,h-f)}catch(W){throw new j(W)}let C=(1<<l)-1,N=0;for(let W=0;W<f;W++){let Z=y[W];if(Z===0||Z===C)throw new j;(Z===1||Z===C-1)&&N++}let T=new Array(f*l-N),F=0;for(let W=0;W<f;W++){let Z=y[W];if(Z===1||Z===C-1)T.fill(Z>1,F,F+l-1),F+=l-1;else for(let U=l-1;U>=0;--U)T[F++]=(Z&1<<U)!==0}return T}extractBits(s){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),f=(o?11:14)+l*4,h=new Int32Array(f),m=new Array(this.totalBitsInLayer(l,o));if(o)for(let y=0;y<h.length;y++)h[y]=y;else{let y=f+1+2*O.truncDivision(O.truncDivision(f,2)-1,15),C=f/2,N=O.truncDivision(y,2);for(let T=0;T<C;T++){let F=T+O.truncDivision(T,15);h[C-T-1]=N-F-1,h[C+T]=N+F+1}}for(let y=0,C=0;y<l;y++){let N=(l-y)*4+(o?9:12),T=y*2,F=f-1-T;for(let W=0;W<N;W++){let Z=W*2;for(let U=0;U<2;U++)m[C+Z+U]=s.get(h[T+U],h[T+W]),m[C+2*N+Z+U]=s.get(h[T+W],h[F-U]),m[C+4*N+Z+U]=s.get(h[F-U],h[F-W]),m[C+6*N+Z+U]=s.get(h[F-W],h[T+U])}C+=N*8}return m}static readCode(s,o,l){let f=0;for(let h=o;h<o+l;h++)f<<=1,s[h]&&(f|=1);return f}static readByte(s,o){let l=s.length-o;return l>=8?ct.readCode(s,o,8):ct.readCode(s,o,l)<<8-l}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let l=0;l<o.length;l++)o[l]=ct.readByte(s,8*l);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ke{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,l,f){const h=s-l,m=o-f;return Math.sqrt(h*h+m*m)}static sum(s){let o=0;for(let l=0,f=s.length;l!==f;l++){const h=s[l];o+=h}return o}}class Ie{static floatToIntBits(s){return s}}Ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ne){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Ie.floatToIntBits(this.x)+Ie.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let h,m,y;if(l>=o&&l>=f?(m=s[0],h=s[1],y=s[2]):f>=l&&f>=o?(m=s[1],h=s[0],y=s[2]):(m=s[2],h=s[0],y=s[1]),this.crossProductZ(h,m,y)<0){const C=h;h=y,y=C}s[0]=h,s[1]=m,s[2]=y}static distance(s,o){return Ke.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,l){const f=o.x,h=o.y;return(l.x-f)*(s.y-h)-(l.y-h)*(s.x-f)}}class Fn{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class pr extends Fn{constructor(s,o,l,f,h){super(s,o),this.compact=l,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ke{constructor(s,o,l,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=ke.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const h=o/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let s=this.leftInit,o=this.rightInit,l=this.upInit,f=this.downInit,h=!1,m=!0,y=!1,C=!1,N=!1,T=!1,F=!1;const W=this.width,Z=this.height;for(;m;){m=!1;let U=!0;for(;(U||!C)&&o<W;)U=this.containsBlackPoint(l,f,o,!1),U?(o++,m=!0,C=!0):C||o++;if(o>=W){h=!0;break}let Y=!0;for(;(Y||!N)&&f<Z;)Y=this.containsBlackPoint(s,o,f,!0),Y?(f++,m=!0,N=!0):N||f++;if(f>=Z){h=!0;break}let X=!0;for(;(X||!T)&&s>=0;)X=this.containsBlackPoint(l,f,s,!1),X?(s--,m=!0,T=!0):T||s--;if(s<0){h=!0;break}let ne=!0;for(;(ne||!F)&&l>=0;)ne=this.containsBlackPoint(s,o,l,!0),ne?(l--,m=!0,F=!0):F||l--;if(l<0){h=!0;break}m&&(y=!0)}if(!h&&y){const U=o-s;let Y=null;for(let xe=1;Y===null&&xe<U;xe++)Y=this.getBlackPointOnSegment(s,f-xe,s+xe,f);if(Y==null)throw new ee;let X=null;for(let xe=1;X===null&&xe<U;xe++)X=this.getBlackPointOnSegment(s,l+xe,s+xe,l);if(X==null)throw new ee;let ne=null;for(let xe=1;ne===null&&xe<U;xe++)ne=this.getBlackPointOnSegment(o,l+xe,o-xe,l);if(ne==null)throw new ee;let he=null;for(let xe=1;he===null&&xe<U;xe++)he=this.getBlackPointOnSegment(o,f-xe,o-xe,f);if(he==null)throw new ee;return this.centerEdges(he,Y,ne,X)}else throw new ee}getBlackPointOnSegment(s,o,l,f){const h=Ke.round(Ke.distance(s,o,l,f)),m=(l-s)/h,y=(f-o)/h,C=this.image;for(let N=0;N<h;N++){const T=Ke.round(s+N*m),F=Ke.round(o+N*y);if(C.get(T,F))return new Ne(T,F)}return null}centerEdges(s,o,l,f){const h=s.getX(),m=s.getY(),y=o.getX(),C=o.getY(),N=l.getX(),T=l.getY(),F=f.getX(),W=f.getY(),Z=ke.CORR;return h<this.width/2?[new Ne(F-Z,W+Z),new Ne(y+Z,C+Z),new Ne(N-Z,T-Z),new Ne(h+Z,m-Z)]:[new Ne(F+Z,W+Z),new Ne(y+Z,C-Z),new Ne(N-Z,T+Z),new Ne(h-Z,m-Z)]}containsBlackPoint(s,o,l,f){const h=this.image;if(f){for(let m=s;m<=o;m++)if(h.get(m,l))return!0}else for(let m=s;m<=o;m++)if(h.get(l,m))return!0;return!1}}ke.INIT_SIZE=10,ke.CORR=1;class Ge{static checkAndNudgePoints(s,o){const l=s.getWidth(),f=s.getHeight();let h=!0;for(let m=0;m<o.length&&h;m+=2){const y=Math.floor(o[m]),C=Math.floor(o[m+1]);if(y<-1||y>l||C<-1||C>f)throw new ee;h=!1,y===-1?(o[m]=0,h=!0):y===l&&(o[m]=l-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}h=!0;for(let m=o.length-2;m>=0&&h;m-=2){const y=Math.floor(o[m]),C=Math.floor(o[m+1]);if(y<-1||y>l||C<-1||C>f)throw new ee;h=!1,y===-1?(o[m]=0,h=!0):y===l&&(o[m]=l-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}}}class At{constructor(s,o,l,f,h,m,y,C,N){this.a11=s,this.a21=o,this.a31=l,this.a12=f,this.a22=h,this.a32=m,this.a13=y,this.a23=C,this.a33=N}static quadrilateralToQuadrilateral(s,o,l,f,h,m,y,C,N,T,F,W,Z,U,Y,X){const ne=At.quadrilateralToSquare(s,o,l,f,h,m,y,C);return At.squareToQuadrilateral(N,T,F,W,Z,U,Y,X).times(ne)}transformPoints(s){const o=s.length,l=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,N=this.a31,T=this.a32,F=this.a33;for(let W=0;W<o;W+=2){const Z=s[W],U=s[W+1],Y=h*Z+C*U+F;s[W]=(l*Z+m*U+N)/Y,s[W+1]=(f*Z+y*U+T)/Y}}transformPointsWithValues(s,o){const l=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,N=this.a31,T=this.a32,F=this.a33,W=s.length;for(let Z=0;Z<W;Z++){const U=s[Z],Y=o[Z],X=h*U+C*Y+F;s[Z]=(l*U+m*Y+N)/X,o[Z]=(f*U+y*Y+T)/X}}static squareToQuadrilateral(s,o,l,f,h,m,y,C){const N=s-l+h-y,T=o-f+m-C;if(N===0&&T===0)return new At(l-s,h-l,s,f-o,m-f,o,0,0,1);{const F=l-h,W=y-h,Z=f-m,U=C-m,Y=F*U-W*Z,X=(N*U-W*T)/Y,ne=(F*T-N*Z)/Y;return new At(l-s+X*l,y-s+ne*y,s,f-o+X*f,C-o+ne*C,o,X,ne,1)}}static quadrilateralToSquare(s,o,l,f,h,m,y,C){return At.squareToQuadrilateral(s,o,l,f,h,m,y,C).buildAdjoint()}buildAdjoint(){return new At(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new At(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class Jt extends Ge{sampleGrid(s,o,l,f,h,m,y,C,N,T,F,W,Z,U,Y,X,ne,he,xe){const ye=At.quadrilateralToQuadrilateral(f,h,m,y,C,N,T,F,W,Z,U,Y,X,ne,he,xe);return this.sampleGridWithTransform(s,o,l,ye)}sampleGridWithTransform(s,o,l,f){if(o<=0||l<=0)throw new ee;const h=new ve(o,l),m=new Float32Array(2*o);for(let y=0;y<l;y++){const C=m.length,N=y+.5;for(let T=0;T<C;T+=2)m[T]=T/2+.5,m[T+1]=N;f.transformPoints(m),Ge.checkAndNudgePoints(s,m);try{for(let T=0;T<C;T+=2)s.get(Math.floor(m[T]),Math.floor(m[T+1]))&&h.set(T/2,y)}catch{throw new ee}}return h}}class Ht{static setGridSampler(s){Ht.gridSampler=s}static getInstance(){return Ht.gridSampler}}Ht.gridSampler=new Jt;class ln{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new Ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class si{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(s){let m=l[0];l[0]=l[2],l[2]=m}this.extractParameters(l);let f=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new pr(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ee;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(l,o);let f=0;for(let m=0;m<4;m++){let y=l[(this.shift+m)%4];this.compact?(f<<=7,f+=y>>1&127):(f<<=10,f+=(y>>2&992)+(y>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,o){let l=0;s.forEach((f,h,m)=>{let y=(f>>o-2<<1)+(f&1);l=(l<<3)+y}),l=((l&1)<<11)+(l>>1);for(let f=0;f<4;f++)if(O.bitCount(l^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ee}getCorrectedParameterData(s,o){let l,f;o?(l=7,f=2):(l=10,f=4);let h=l-f,m=new Int32Array(l);for(let C=l-1;C>=0;--C)m[C]=s&15,s>>=4;try{new Pn(dt.AZTEC_PARAM).decode(m,h)}catch{throw new ee}let y=0;for(let C=0;C<f;C++)y=(y<<4)+m[C];return y}getBullsEyeCorners(s){let o=s,l=s,f=s,h=s,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(o,m,1,-1),W=this.getFirstDifferent(l,m,1,1),Z=this.getFirstDifferent(f,m,-1,1),U=this.getFirstDifferent(h,m,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(U,F)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(F,W,Z,U))break}o=F,l=W,f=Z,h=U,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let y=new Ne(o.getX()+.5,o.getY()-.5),C=new Ne(l.getX()+.5,l.getY()+.5),N=new Ne(f.getX()-.5,f.getY()+.5),T=new Ne(h.getX()-.5,h.getY()-.5);return this.expandSquare([y,C,N,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,l,f;try{let y=new ke(this.image).detect();s=y[0],o=y[1],l=y[2],f=y[3]}catch{let C=this.image.getWidth()/2,N=this.image.getHeight()/2;s=this.getFirstDifferent(new ln(C+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new ln(C+7,N+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new ln(C-7,N+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new ln(C-7,N-7),!1,-1,-1).toResultPoint()}let h=Ke.round((s.getX()+f.getX()+o.getX()+l.getX())/4),m=Ke.round((s.getY()+f.getY()+o.getY()+l.getY())/4);try{let y=new ke(this.image,15,h,m).detect();s=y[0],o=y[1],l=y[2],f=y[3]}catch{s=this.getFirstDifferent(new ln(h+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new ln(h+7,m+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new ln(h-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new ln(h-7,m-7),!1,-1,-1).toResultPoint()}return h=Ke.round((s.getX()+f.getX()+o.getX()+l.getX())/4),m=Ke.round((s.getY()+f.getY()+o.getY()+l.getY())/4),new ln(h,m)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,l,f,h){let m=Ht.getInstance(),y=this.getDimension(),C=y/2-this.nbCenterLayers,N=y/2+this.nbCenterLayers;return m.sampleGrid(s,y,y,C,C,N,C,N,N,C,N,o.getX(),o.getY(),l.getX(),l.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(s,o,l){let f=0,h=this.distanceResultPoint(s,o),m=h/l,y=s.getX(),C=s.getY(),N=m*(o.getX()-s.getX())/h,T=m*(o.getY()-s.getY())/h;for(let F=0;F<l;F++)this.image.get(Ke.round(y+F*N),Ke.round(C+F*T))&&(f|=1<<l-F-1);return f}isWhiteOrBlackRectangle(s,o,l,f){let h=3;s=new ln(s.getX()-h,s.getY()+h),o=new ln(o.getX()-h,o.getY()-h),l=new ln(l.getX()+h,l.getY()-h),f=new ln(f.getX()+h,f.getY()+h);let m=this.getColor(f,s);if(m===0)return!1;let y=this.getColor(s,o);return y!==m||(y=this.getColor(o,l),y!==m)?!1:(y=this.getColor(l,f),y===m)}getColor(s,o){let l=this.distancePoint(s,o),f=(o.getX()-s.getX())/l,h=(o.getY()-s.getY())/l,m=0,y=s.getX(),C=s.getY(),N=this.image.get(s.getX(),s.getY()),T=Math.ceil(l);for(let W=0;W<T;W++)y+=f,C+=h,this.image.get(Ke.round(y),Ke.round(C))!==N&&m++;let F=m/l;return F>.1&&F<.9?0:F<=.1===N?1:-1}getFirstDifferent(s,o,l,f){let h=s.getX()+l,m=s.getY()+f;for(;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=l,m+=f;for(h-=l,m-=f;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=l;for(h-=l;this.isValid(h,m)&&this.image.get(h,m)===o;)m+=f;return m-=f,new ln(h,m)}expandSquare(s,o,l){let f=l/(2*o),h=s[0].getX()-s[2].getX(),m=s[0].getY()-s[2].getY(),y=(s[0].getX()+s[2].getX())/2,C=(s[0].getY()+s[2].getY())/2,N=new Ne(y+f*h,C+f*m),T=new Ne(y-f*h,C-f*m);h=s[1].getX()-s[3].getX(),m=s[1].getY()-s[3].getY(),y=(s[1].getX()+s[3].getX())/2,C=(s[1].getY()+s[3].getY())/2;let F=new Ne(y+f*h,C+f*m),W=new Ne(y-f*h,C-f*m);return[N,F,T,W]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=Ke.round(s.getX()),l=Ke.round(s.getY());return this.isValid(o,l)}distancePoint(s,o){return Ke.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return Ke.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class Ni{decode(s,o=null){let l=null,f=new si(s.getBlackMatrix()),h=null,m=null;try{let T=f.detectMirror(!1);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new ct().decode(T)}catch(T){l=T}if(m==null)try{let T=f.detectMirror(!0);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new ct().decode(T)}catch(T){throw l??T}let y=new gt(m.getText(),m.getRawBytes(),m.getNumBits(),h,De.AZTEC,R.currentTimeMillis()),C=m.getByteSegments();C!=null&&y.putMetadata(We.BYTE_SEGMENTS,C);let N=m.getECLevel();return N!=null&&y.putMetadata(We.ERROR_CORRECTION_LEVEL,N),y}reportFoundResultPoints(s,o){if(s!=null){let l=s.get(z.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((f,h,m)=>{l.foundPossibleResultPoint(f)})}}reset(){}}class Ls extends sn{constructor(s=500){super(new Ni,s)}}class Kt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(z.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),m=this.doDecode(h,o),y=m.getResultMetadata();let C=270;y!==null&&y.get(We.ORIENTATION)===!0&&(C=C+y.get(We.ORIENTATION)%360),m.putMetadata(We.ORIENTATION,C);const N=m.getResultPoints();if(N!==null){const T=h.getHeight();for(let F=0;F<N.length;F++)N[F]=new Ne(T-N[F].getY()-1,N[F].getX())}return m}else throw new ee}}reset(){}doDecode(s,o){const l=s.getWidth(),f=s.getHeight();let h=new q(l);const m=o&&o.get(z.TRY_HARDER)===!0,y=Math.max(1,f>>(m?8:5));let C;m?C=f:C=15;const N=Math.trunc(f/2);for(let T=0;T<C;T++){const F=Math.trunc((T+1)/2),W=(T&1)===0,Z=N+y*(W?F:-F);if(Z<0||Z>=f)break;try{h=s.getBlackRow(Z,h)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(h.reverse(),o&&o.get(z.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;o.forEach((X,ne)=>Y.set(ne,X)),Y.delete(z.NEED_RESULT_POINT_CALLBACK),o=Y}try{const Y=this.decodeRow(Z,h,o);if(U===1){Y.putMetadata(We.ORIENTATION,180);const X=Y.getResultPoints();X!==null&&(X[0]=new Ne(l-X[0].getX()-1,X[0].getY()),X[1]=new Ne(l-X[1].getX()-1,X[1].getY()))}return Y}catch{}}}throw new ee}static recordPattern(s,o,l){const f=l.length;for(let N=0;N<f;N++)l[N]=0;const h=s.getSize();if(o>=h)throw new ee;let m=!s.get(o),y=0,C=o;for(;C<h;){if(s.get(C)!==m)l[y]++;else{if(++y===f)break;l[y]=1,m=!m}C++}if(!(y===f||y===f-1&&C===h))throw new ee}static recordPatternInReverse(s,o,l){let f=l.length,h=s.get(o);for(;o>0&&f>=0;)s.get(--o)!==h&&(f--,h=!h);if(f>=0)throw new ee;Kt.recordPattern(s,o+1,l)}static patternMatchVariance(s,o,l){const f=s.length;let h=0,m=0;for(let N=0;N<f;N++)h+=s[N],m+=o[N];if(h<m)return Number.POSITIVE_INFINITY;const y=h/m;l*=y;let C=0;for(let N=0;N<f;N++){const T=s[N],F=o[N]*y,W=T>F?T-F:F-T;if(W>l)return Number.POSITIVE_INFINITY;C+=W}return C/h}}class Te extends Kt{static findStartPattern(s){const o=s.getSize(),l=s.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),m=l,y=!1;const C=6;for(let N=l;N<o;N++)if(s.get(N)!==y)h[f]++;else{if(f===C-1){let T=Te.MAX_AVG_VARIANCE,F=-1;for(let W=Te.CODE_START_A;W<=Te.CODE_START_C;W++){const Z=Kt.patternMatchVariance(h,Te.CODE_PATTERNS[W],Te.MAX_INDIVIDUAL_VARIANCE);Z<T&&(T=Z,F=W)}if(F>=0&&s.isRange(Math.max(0,m-(N-m)/2),m,!1))return Int32Array.from([m,N,F]);m+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,y=!y}throw new ee}static decodeCode(s,o,l){Kt.recordPattern(s,l,o);let f=Te.MAX_AVG_VARIANCE,h=-1;for(let m=0;m<Te.CODE_PATTERNS.length;m++){const y=Te.CODE_PATTERNS[m],C=this.patternMatchVariance(o,y,Te.MAX_INDIVIDUAL_VARIANCE);C<f&&(f=C,h=m)}if(h>=0)return h;throw new ee}decodeRow(s,o,l){const f=l&&l.get(z.ASSUME_GS1)===!0,h=Te.findStartPattern(o),m=h[2];let y=0;const C=new Uint8Array(20);C[y++]=m;let N;switch(m){case Te.CODE_START_A:N=Te.CODE_CODE_A;break;case Te.CODE_START_B:N=Te.CODE_CODE_B;break;case Te.CODE_START_C:N=Te.CODE_CODE_C;break;default:throw new j}let T=!1,F=!1,W="",Z=h[0],U=h[1];const Y=Int32Array.from([0,0,0,0,0,0]);let X=0,ne=0,he=m,xe=0,ye=!0,ze=!1,ot=!1;for(;!T;){const Et=F;switch(F=!1,X=ne,ne=Te.decodeCode(o,Y,U),C[y++]=ne,ne!==Te.CODE_STOP&&(ye=!0),ne!==Te.CODE_STOP&&(xe++,he+=xe*ne),Z=U,U+=Y.reduce((yp,qd)=>yp+qd,0),ne){case Te.CODE_START_A:case Te.CODE_START_B:case Te.CODE_START_C:throw new j}switch(N){case Te.CODE_CODE_A:if(ne<64)ot===ze?W+=String.fromCharCode(" ".charCodeAt(0)+ne):W+=String.fromCharCode(" ".charCodeAt(0)+ne+128),ot=!1;else if(ne<96)ot===ze?W+=String.fromCharCode(ne-64):W+=String.fromCharCode(ne+64),ot=!1;else switch(ne!==Te.CODE_STOP&&(ye=!1),ne){case Te.CODE_FNC_1:f&&(W.length===0?W+="]C1":W+=String.fromCharCode(29));break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_A:!ze&&ot?(ze=!0,ot=!1):ze&&ot?(ze=!1,ot=!1):ot=!0;break;case Te.CODE_SHIFT:F=!0,N=Te.CODE_CODE_B;break;case Te.CODE_CODE_B:N=Te.CODE_CODE_B;break;case Te.CODE_CODE_C:N=Te.CODE_CODE_C;break;case Te.CODE_STOP:T=!0;break}break;case Te.CODE_CODE_B:if(ne<96)ot===ze?W+=String.fromCharCode(" ".charCodeAt(0)+ne):W+=String.fromCharCode(" ".charCodeAt(0)+ne+128),ot=!1;else switch(ne!==Te.CODE_STOP&&(ye=!1),ne){case Te.CODE_FNC_1:f&&(W.length===0?W+="]C1":W+=String.fromCharCode(29));break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_B:!ze&&ot?(ze=!0,ot=!1):ze&&ot?(ze=!1,ot=!1):ot=!0;break;case Te.CODE_SHIFT:F=!0,N=Te.CODE_CODE_A;break;case Te.CODE_CODE_A:N=Te.CODE_CODE_A;break;case Te.CODE_CODE_C:N=Te.CODE_CODE_C;break;case Te.CODE_STOP:T=!0;break}break;case Te.CODE_CODE_C:if(ne<100)ne<10&&(W+="0"),W+=ne;else switch(ne!==Te.CODE_STOP&&(ye=!1),ne){case Te.CODE_FNC_1:f&&(W.length===0?W+="]C1":W+=String.fromCharCode(29));break;case Te.CODE_CODE_A:N=Te.CODE_CODE_A;break;case Te.CODE_CODE_B:N=Te.CODE_CODE_B;break;case Te.CODE_STOP:T=!0;break}break}Et&&(N=N===Te.CODE_CODE_A?Te.CODE_CODE_B:Te.CODE_CODE_A)}const _r=U-Z;if(U=o.getNextUnset(U),!o.isRange(U,Math.min(o.getSize(),U+(U-Z)/2),!1))throw new ee;if(he-=xe*X,he%103!==X)throw new k;const xn=W.length;if(xn===0)throw new ee;xn>0&&ye&&(N===Te.CODE_CODE_C?W=W.substring(0,xn-2):W=W.substring(0,xn-1));const rr=(h[1]+h[0])/2,Gt=Z+_r/2,vn=C.length,cr=new Uint8Array(vn);for(let Et=0;Et<vn;Et++)cr[Et]=C[Et];const Qi=[new Ne(rr,s),new Ne(Gt,s)];return new gt(W,cr,0,Qi,De.CODE_128,new Date().getTime())}}Te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Te.MAX_AVG_VARIANCE=.25,Te.MAX_INDIVIDUAL_VARIANCE=.7,Te.CODE_SHIFT=98,Te.CODE_CODE_C=99,Te.CODE_CODE_B=100,Te.CODE_CODE_A=101,Te.CODE_FNC_1=102,Te.CODE_FNC_2=97,Te.CODE_FNC_3=96,Te.CODE_FNC_4_A=101,Te.CODE_FNC_4_B=100,Te.CODE_START_A=103,Te.CODE_START_B=104,Te.CODE_START_C=105,Te.CODE_STOP=106;class en extends Kt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,l){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=en.findAsteriskPattern(o,f),m=o.getNextSet(h[1]),y=o.getSize(),C,N;do{en.recordPattern(o,m,f);let Y=en.toNarrowWidePattern(f);if(Y<0)throw new ee;C=en.patternToChar(Y),this.decodeRowResult+=C,N=m;for(let X of f)m+=X;m=o.getNextSet(m)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let Y of f)T+=Y;let F=m-N-T;if(m!==y&&F*2<T)throw new ee;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,X=0;for(let ne=0;ne<Y;ne++)X+=en.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt(Y)!==en.ALPHABET_STRING.charAt(X%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new ee;let W;this.extendedMode?W=en.decodeExtended(this.decodeRowResult):W=this.decodeRowResult;let Z=(h[1]+h[0])/2,U=N+T/2;return new gt(W,null,0,[new Ne(Z,s),new Ne(U,s)],De.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let l=s.getSize(),f=s.getNextSet(0),h=0,m=f,y=!1,C=o.length;for(let N=f;N<l;N++)if(s.get(N)!==y)o[h]++;else{if(h===C-1){if(this.toNarrowWidePattern(o)===en.ASTERISK_ENCODING&&s.isRange(Math.max(0,m-Math.floor((N-m)/2)),m,!1))return[m,N];m+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,y=!y}throw new ee}static toNarrowWidePattern(s){let o=s.length,l=0,f;do{let h=2147483647;for(let C of s)C<h&&C>l&&(h=C);l=h,f=0;let m=0,y=0;for(let C=0;C<o;C++){let N=s[C];N>l&&(y|=1<<o-1-C,f++,m+=N)}if(f===3){for(let C=0;C<o&&f>0;C++){let N=s[C];if(N>l&&(f--,N*2>=m))return-1}return y}}while(f>3);return-1}static patternToChar(s){for(let o=0;o<en.CHARACTER_ENCODINGS.length;o++)if(en.CHARACTER_ENCODINGS[o]===s)return en.ALPHABET_STRING.charAt(o);if(s===en.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(s){let o=s.length,l="";for(let f=0;f<o;f++){let h=s.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=s.charAt(f+1),y="\0";switch(h){case"+":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)+32);else throw new j;break;case"$":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)-64);else throw new j;break;case"%":if(m>="A"&&m<="E")y=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")y=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")y=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")y="\0";else if(m==="V")y="@";else if(m==="W")y="`";else if(m==="X"||m==="Y"||m==="Z")y="";else throw new j;break;case"/":if(m>="A"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")y=":";else throw new j;break}l+=y,f++}else l+=h}return l}}en.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",en.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],en.ASTERISK_ENCODING=148;class _t extends Kt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,l){let f=this.decodeStart(o),h=this.decodeEnd(o),m=new re;_t.decodeMiddle(o,f[1],h[0],m);let y=m.toString(),C=null;l!=null&&(C=l.get(z.ALLOWED_LENGTHS)),C==null&&(C=_t.DEFAULT_ALLOWED_LENGTHS);let N=y.length,T=!1,F=0;for(let U of C){if(N===U){T=!0;break}U>F&&(F=U)}if(!T&&N>F&&(T=!0),!T)throw new j;const W=[new Ne(f[1],s),new Ne(h[0],s)];return new gt(y,null,0,W,De.ITF,new Date().getTime())}static decodeMiddle(s,o,l,f){let h=new Int32Array(10),m=new Int32Array(5),y=new Int32Array(5);for(h.fill(0),m.fill(0),y.fill(0);o<l;){Kt.recordPattern(s,o,h);for(let N=0;N<5;N++){let T=2*N;m[N]=h[T],y[N]=h[T+1]}let C=_t.decodeDigit(m);f.append(C.toString()),C=this.decodeDigit(y),f.append(C.toString()),h.forEach(function(N){o+=N})}}decodeStart(s){let o=_t.skipWhiteSpace(s),l=_t.findGuardPattern(s,o,_t.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let f=o-1;l>0&&f>=0&&!s.get(f);f--)l--;if(l!==0)throw new ee}static skipWhiteSpace(s){const o=s.getSize(),l=s.getNextSet(0);if(l===o)throw new ee;return l}decodeEnd(s){s.reverse();try{let o=_t.skipWhiteSpace(s),l;try{l=_t.findGuardPattern(s,o,_t.END_PATTERN_REVERSED[0])}catch(h){h instanceof ee&&(l=_t.findGuardPattern(s,o,_t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let f=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-f,l}finally{s.reverse()}}static findGuardPattern(s,o,l){let f=l.length,h=new Int32Array(f),m=s.getSize(),y=!1,C=0,N=o;h.fill(0);for(let T=o;T<m;T++)if(s.get(T)!==y)h[C]++;else{if(C===f-1){if(Kt.patternMatchVariance(h,l,_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return[N,T];N+=h[0]+h[1],R.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,y=!y}throw new ee}static decodeDigit(s){let o=_t.MAX_AVG_VARIANCE,l=-1,f=_t.PATTERNS.length;for(let h=0;h<f;h++){let m=_t.PATTERNS[h],y=Kt.patternMatchVariance(s,m,_t.MAX_INDIVIDUAL_VARIANCE);y<o?(o=y,l=h):y===o&&(l=-1)}if(l>=0)return l%10;throw new ee}}_t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],_t.MAX_AVG_VARIANCE=.38,_t.MAX_INDIVIDUAL_VARIANCE=.5,_t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],_t.START_PATTERN=Int32Array.from([1,1,1,1]),_t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Bt extends Kt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,l,f=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),l=Bt.findGuardPattern(s,f,!1,this.START_END_PATTERN,h);let m=l[0];f=l[1];let y=m-(f-m);y>=0&&(o=s.isRange(y,m,!1))}return l}static checkChecksum(s){return Bt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return Bt.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new j;l+=h}l*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new j;l+=h}return(1e3-l)%10}static decodeEnd(s,o){return Bt.findGuardPattern(s,o,!1,Bt.START_END_PATTERN,new Int32Array(Bt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,l,f){return this.findGuardPattern(s,o,l,f,new Int32Array(f.length))}static findGuardPattern(s,o,l,f,h){let m=s.getSize();o=l?s.getNextUnset(o):s.getNextSet(o);let y=0,C=o,N=f.length,T=l;for(let F=o;F<m;F++)if(s.get(F)!==T)h[y]++;else{if(y===N-1){if(Kt.patternMatchVariance(h,f,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return Int32Array.from([C,F]);C+=h[0]+h[1];let W=h.slice(2,h.length-1);for(let Z=0;Z<y-1;Z++)h[Z]=W[Z];h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,T=!T}throw new ee}static decodeDigit(s,o,l,f){this.recordPattern(s,l,o);let h=this.MAX_AVG_VARIANCE,m=-1,y=f.length;for(let C=0;C<y;C++){let N=f[C],T=Kt.patternMatchVariance(o,N,Bt.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,m=C)}if(m>=0)return m;throw new ee}}Bt.MAX_AVG_VARIANCE=.48,Bt.MAX_INDIVIDUAL_VARIANCE=.7,Bt.START_END_PATTERN=Int32Array.from([1,1,1]),Bt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Bt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Gi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,l,f),m=f.toString(),y=Gi.parseExtensionString(m),C=[new Ne((l[0]+l[1])/2,s),new Ne(h,s)],N=new gt(m,null,0,C,De.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&N.putAllMetadata(y),N}decodeMiddle(s,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],y=0;for(let N=0;N<5&&m<h;N++){let T=Bt.decodeDigit(s,f,m,Bt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<4-N),N!==4&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(l.length!==5)throw new ee;let C=this.determineCheckDigit(y);if(Gi.extensionChecksum(l.toString())!==C)throw new ee;return m}static extensionChecksum(s){let o=s.length,l=0;for(let f=o-2;f>=0;f-=2)l+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let f=o-1;f>=0;f-=2)l+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ee}static parseExtensionString(s){if(s.length!==5)return null;let o=Gi.parseExtension5String(s);return o==null?null:new Map([[We.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(s.substring(1)),f=(l/100).toString(),h=l%100,m=h<10?"0"+h:h.toString();return o+f+"."+m}}class xo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,l,f),m=f.toString(),y=xo.parseExtensionString(m),C=[new Ne((l[0]+l[1])/2,s),new Ne(h,s)],N=new gt(m,null,0,C,De.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&N.putAllMetadata(y),N}decodeMiddle(s,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],y=0;for(let C=0;C<2&&m<h;C++){let N=Bt.decodeDigit(s,f,m,Bt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let T of f)m+=T;N>=10&&(y|=1<<1-C),C!==1&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(l.length!==2)throw new ee;if(parseInt(l.toString())%4!==y)throw new ee;return m}static parseExtensionString(s){return s.length!==2?null:new Map([[We.ISSUE_NUMBER,parseInt(s)]])}}class Ad{static decodeRow(s,o,l){let f=Bt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Gi().decodeRow(s,o,f)}catch{return new xo().decodeRow(s,o,f)}}}Ad.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Tt extends Bt{constructor(){super(),this.decodeRowStringBuffer="",Tt.L_AND_G_PATTERNS=Tt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=Tt.L_PATTERNS[s-10],l=new Int32Array(o.length);for(let f=0;f<o.length;f++)l[f]=o[o.length-f-1];Tt.L_AND_G_PATTERNS[s]=l}}decodeRow(s,o,l){let f=Tt.findStartGuardPattern(o),h=l==null?null:l.get(z.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ye=new Ne((f[0]+f[1])/2,s);h.foundPossibleResultPoint(ye)}let m=this.decodeMiddle(o,f,this.decodeRowStringBuffer),y=m.rowOffset,C=m.resultString;if(h!=null){const ye=new Ne(y,s);h.foundPossibleResultPoint(ye)}let N=this.decodeEnd(o,y);if(h!=null){const ye=new Ne((N[0]+N[1])/2,s);h.foundPossibleResultPoint(ye)}let T=N[1],F=T+(T-N[0]);if(F>=o.getSize()||!o.isRange(T,F,!1))throw new ee;let W=C.toString();if(W.length<8)throw new j;if(!Tt.checkChecksum(W))throw new k;let Z=(f[1]+f[0])/2,U=(N[1]+N[0])/2,Y=this.getBarcodeFormat(),X=[new Ne(Z,s),new Ne(U,s)],ne=new gt(W,null,0,X,Y,new Date().getTime()),he=0;try{let ye=Ad.decodeRow(s,o,N[1]);ne.putMetadata(We.UPC_EAN_EXTENSION,ye.getText()),ne.putAllMetadata(ye.getResultMetadata()),ne.addResultPoints(ye.getResultPoints()),he=ye.getText().length}catch{}let xe=l==null?null:l.get(z.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let ye=!1;for(let ze in xe)if(he.toString()===ze){ye=!0;break}if(!ye)throw new ee}return ne}decodeEnd(s,o){return Tt.findGuardPattern(s,o,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Tt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return Tt.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new j;l+=h}l*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new j;l+=h}return(1e3-l)%10}}class hs extends Tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],y=0;for(let N=0;N<6&&m<h;N++){let T=Tt.decodeDigit(s,f,m,Tt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-N)}l=hs.determineFirstDigit(l,y),m=Tt.findGuardPattern(s,m,!0,Tt.MIDDLE_PATTERN,new Int32Array(Tt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&m<h;N++){let T=Tt.decodeDigit(s,f,m,Tt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T);for(let F of f)m+=F}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return De.EAN_13}static determineFirstDigit(s,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode("0".charCodeAt(0)+l)+s,s;throw new ee}}hs.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Td extends Tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1];for(let C=0;C<4&&m<h;C++){let N=Tt.decodeDigit(s,f,m,Tt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}m=Tt.findGuardPattern(s,m,!0,Tt.MIDDLE_PATTERN,new Int32Array(Tt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&m<h;C++){let N=Tt.decodeDigit(s,f,m,Tt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return De.EAN_8}}class kd extends Tt{constructor(){super(...arguments),this.ean13Reader=new hs}getBarcodeFormat(){return De.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,l))}decodeMiddle(s,o,l){return this.ean13Reader.decodeMiddle(s,o,l)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let l=new gt(o.substring(1),null,null,s.getResultPoints(),De.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new ee}reset(){this.ean13Reader.reset()}}class ai extends Tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,l){const f=this.decodeMiddleCounters.map(N=>N);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=s.getSize();let m=o[1],y=0;for(let N=0;N<6&&m<h;N++){const T=ai.decodeDigit(s,f,m,ai.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-N)}let C=ai.determineNumSysAndCheckDigit(l,y);return{rowOffset:m,resultString:C}}decodeEnd(s,o){return ai.findGuardPatternWithoutCounters(s,o,!0,ai.MIDDLE_END_PATTERN)}checkChecksum(s){return Tt.checkChecksum(ai.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let l=0;l<=1;l++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][f]){let h=String.fromCharCode("0".charCodeAt(0)+l),m=String.fromCharCode("0".charCodeAt(0)+f);return h+s+m}throw ee.getNotFoundInstance()}getBarcodeFormat(){return De.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new re;l.append(s.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(f),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(f);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}ai.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ai.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Mc extends Kt{constructor(s){super();let o=s==null?null:s.get(z.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new hs),l.push(new kd),l.push(new Td),l.push(new ai)):(o.indexOf(De.EAN_13)>-1&&l.push(new hs),o.indexOf(De.UPC_A)>-1&&l.push(new kd),o.indexOf(De.EAN_8)>-1&&l.push(new Td),o.indexOf(De.UPC_E)>-1&&l.push(new ai)),this.readers=l}decodeRow(s,o,l){for(let f of this.readers)try{const h=f.decodeRow(s,o,l),m=h.getBarcodeFormat()===De.EAN_13&&h.getText().charAt(0)==="0",y=l==null?null:l.get(z.POSSIBLE_FORMATS),C=y==null||y.includes(De.UPC_A);if(m&&C){const N=h.getRawBytes(),T=new gt(h.getText().substring(1),N,N?N.length:null,h.getResultPoints(),De.UPC_A);return T.putAllMetadata(h.getResultMetadata()),T}return h}catch{}throw new ee}reset(){for(let s of this.readers)s.reset()}}class er extends Kt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let l=0;l<o.length;l++)if(Kt.patternMatchVariance(s,o[l],er.MAX_INDIVIDUAL_VARIANCE)<er.MAX_AVG_VARIANCE)return l;throw new ee}static count(s){return Ke.sum(new Int32Array(s))}static increment(s,o){let l=0,f=o[0];for(let h=1;h<s.length;h++)o[h]>f&&(f=o[h],l=h);s[l]++}static decrement(s,o){let l=0,f=o[0];for(let h=1;h<s.length;h++)o[h]<f&&(f=o[h],l=h);s[l]--}static isFinderPattern(s){let o=s[0]+s[1],l=o+s[2]+s[3],f=o/l;if(f>=er.MIN_FINDER_PATTERN_RATIO&&f<=er.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let y of s)y>m&&(m=y),y<h&&(h=y);return m<10*h}return!1}}er.MAX_AVG_VARIANCE=.2,er.MAX_INDIVIDUAL_VARIANCE=.45,er.MIN_FINDER_PATTERN_RATIO=9.5/12,er.MAX_FINDER_PATTERN_RATIO=12.5/14;class ba{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof ba))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class xl{constructor(s,o,l,f,h){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ne(l,h)),this.resultPoints.push(new Ne(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof xl))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class _i{constructor(){}static getRSSvalue(s,o,l){let f=0;for(let C of s)f+=C;let h=0,m=0,y=s.length;for(let C=0;C<y-1;C++){let N;for(N=1,m|=1<<C;N<s[C];N++,m&=~(1<<C)){let T=_i.combins(f-N-1,y-C-2);if(l&&m===0&&f-N-(y-C-1)>=y-C-1&&(T-=_i.combins(f-N-(y-C),y-C-2)),y-C-1>1){let F=0;for(let W=f-N-(y-C-2);W>o;W--)F+=_i.combins(f-N-W-1,y-C-3);T-=F*(y-1-C)}else f-N>o&&T--;h+=T}f-=N}return h}static combins(s,o){let l,f;s-o>o?(f=o,l=s-o):(f=s-o,l=o);let h=1,m=1;for(let y=s;y>l;y--)h*=y,m<=f&&(h/=m,m++);for(;m<=f;)h/=m,m++;return h}}class Lc{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let l=12*o,f=new q(l),h=0,y=s[0].getRightChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&f.set(h),h++;for(let C=1;C<s.length;++C){let N=s[C],T=N.getLeftChar().getValue();for(let F=11;F>=0;--F)T&1<<F&&f.set(h),h++;if(N.getRightChar()!=null){let F=N.getRightChar().getValue();for(let W=11;W>=0;--W)F&1<<W&&f.set(h),h++}}return f}}class Ps{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class vo{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class br extends vo{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===br.FNC1}}br.FNC1="$";class Fs extends vo{constructor(s,o,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Gr extends vo{constructor(s,o,l){if(super(s),o<0||o>10||l<0||l>10)throw new j;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Gr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Gr.FNC1}isAnyFNC1(){return this.firstDigit===Gr.FNC1||this.secondDigit===Gr.FNC1}}Gr.FNC1=10;class Le{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ee;let o=s.substring(0,2);for(let h of Le.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(2,h[2],s):Le.processFixedAI(2,h[1],s);if(s.length<3)throw new ee;let l=s.substring(0,3);for(let h of Le.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(3,h[2],s):Le.processFixedAI(3,h[1],s);for(let h of Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,h[2],s):Le.processFixedAI(4,h[1],s);if(s.length<4)throw new ee;let f=s.substring(0,4);for(let h of Le.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,h[2],s):Le.processFixedAI(4,h[1],s);throw new ee}static processFixedAI(s,o,l){if(l.length<s)throw new ee;let f=l.substring(0,s);if(l.length<s+o)throw new ee;let h=l.substring(s,s+o),m=l.substring(s+o),y="("+f+")"+h,C=Le.parseFieldsInGeneralPurpose(m);return C==null?y:y+C}static processVariableAI(s,o,l){let f=l.substring(0,s),h;l.length<s+o?h=l.length:h=s+o;let m=l.substring(s,h),y=l.substring(h),C="("+f+")"+m,N=Le.parseFieldsInGeneralPurpose(y);return N==null?C:C+N}}Le.VARIABLE_LENGTH=[],Le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Le.VARIABLE_LENGTH,20],["22",Le.VARIABLE_LENGTH,29],["30",Le.VARIABLE_LENGTH,8],["37",Le.VARIABLE_LENGTH,8],["90",Le.VARIABLE_LENGTH,30],["91",Le.VARIABLE_LENGTH,30],["92",Le.VARIABLE_LENGTH,30],["93",Le.VARIABLE_LENGTH,30],["94",Le.VARIABLE_LENGTH,30],["95",Le.VARIABLE_LENGTH,30],["96",Le.VARIABLE_LENGTH,30],["97",Le.VARIABLE_LENGTH,3],["98",Le.VARIABLE_LENGTH,30],["99",Le.VARIABLE_LENGTH,30]],Le.THREE_DIGIT_DATA_LENGTH=[["240",Le.VARIABLE_LENGTH,30],["241",Le.VARIABLE_LENGTH,30],["242",Le.VARIABLE_LENGTH,6],["250",Le.VARIABLE_LENGTH,30],["251",Le.VARIABLE_LENGTH,30],["253",Le.VARIABLE_LENGTH,17],["254",Le.VARIABLE_LENGTH,20],["400",Le.VARIABLE_LENGTH,30],["401",Le.VARIABLE_LENGTH,30],["402",17],["403",Le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Le.VARIABLE_LENGTH,20],["421",Le.VARIABLE_LENGTH,15],["422",3],["423",Le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Le.VARIABLE_LENGTH,15],["391",Le.VARIABLE_LENGTH,18],["392",Le.VARIABLE_LENGTH,15],["393",Le.VARIABLE_LENGTH,18],["703",Le.VARIABLE_LENGTH,30]],Le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Le.VARIABLE_LENGTH,20],["8003",Le.VARIABLE_LENGTH,30],["8004",Le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Le.VARIABLE_LENGTH,30],["8008",Le.VARIABLE_LENGTH,12],["8018",18],["8020",Le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Le.VARIABLE_LENGTH,70],["8200",Le.VARIABLE_LENGTH,70]];class Ca{constructor(s){this.buffer=new re,this.information=s}decodeAllCodes(s,o){let l=o,f=null;do{let h=this.decodeGeneralPurposeField(l,f),m=Le.parseFieldsInGeneralPurpose(h.getNewString());if(m!=null&&s.append(m),h.isRemaining()?f=""+h.getRemainingValue():f=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new Gr(this.information.getSize(),Gr.FNC1,Gr.FNC1):new Gr(this.information.getSize(),h-1,Gr.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),l=(o-8)/11,f=(o-8)%11;return new Gr(s+7,l,f)}extractNumericValueFromBitArray(s,o){return Ca.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,l){let f=0;for(let h=0;h<l;++h)s.get(o+h)&&(f|=1<<l-h-1);return f}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Fs(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Fs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new Fs(this.current.getPosition(),this.buffer.toString()):o=new Fs(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Ps(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new Fs(this.current.getPosition(),this.buffer.toString());return new Ps(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ps(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Fs(this.current.getPosition(),this.buffer.toString());return new Ps(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ps(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Fs(this.current.getPosition(),this.buffer.toString());return new Ps(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ps(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new br(s+5,br.FNC1);if(o>=5&&o<15)return new br(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new br(s+7,""+(l+1));if(l>=90&&l<116)return new br(s+7,""+(l+7));let f=this.extractNumericValueFromBitArray(s,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new j}return new br(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new br(s+5,br.FNC1);if(o>=5&&o<15)return new br(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new br(s+6,""+(l+33));let f;switch(l){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new Qe("Decoding invalid alphanumeric value: "+l)}return new br(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class Pc{constructor(s){this.information=s,this.generalDecoder=new Ca(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Cr extends Pc{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,l)}encodeCompressedGtinWithoutAI(s,o,l){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}Cr.appendCheckDigit(s,l)}static appendCheckDigit(s,o){let l=0;for(let f=0;f<13;f++){let h=s.charAt(f+o).charCodeAt(0)-"0".charCodeAt(0);l+=f&1?h:3*h}l=10-l%10,l===10&&(l=0),s.append(l)}}Cr.GTIN_SIZE=40;class Ea extends Cr{constructor(s){super(s)}parseInformation(){let s=new re;s.append("(01)");let o=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ea.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,Ea.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,Ea.HEADER_SIZE+44)}}Ea.HEADER_SIZE=1+1+2;class yo extends Pc{constructor(s){super(s)}parseInformation(){let s=new re;return this.getGeneralDecoder().decodeAllCodes(s,yo.HEADER_SIZE)}}yo.HEADER_SIZE=2+1+2;class vl extends Cr{constructor(s){super(s)}encodeCompressedWeight(s,o,l){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(s,f);let h=this.checkWeight(f),m=1e5;for(let y=0;y<5;++y)h/m===0&&s.append("0"),m/=10;s.append(h)}}class Si extends vl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Si.HEADER_SIZE+vl.GTIN_SIZE+Si.WEIGHT_SIZE)throw new ee;let s=new re;return this.encodeCompressedGtin(s,Si.HEADER_SIZE),this.encodeCompressedWeight(s,Si.HEADER_SIZE+vl.GTIN_SIZE,Si.WEIGHT_SIZE),s.toString()}}Si.HEADER_SIZE=4+1,Si.WEIGHT_SIZE=15;class lp extends Si{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class cp extends Si{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Ai extends Cr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ai.HEADER_SIZE+Cr.GTIN_SIZE)throw new ee;let s=new re;this.encodeCompressedGtin(s,Ai.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ai.HEADER_SIZE+Cr.GTIN_SIZE,Ai.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ai.HEADER_SIZE+Cr.GTIN_SIZE+Ai.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}Ai.HEADER_SIZE=5+1+2,Ai.LAST_DIGIT_SIZE=2;class mr extends Cr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<mr.HEADER_SIZE+Cr.GTIN_SIZE)throw new ee;let s=new re;this.encodeCompressedGtin(s,mr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Cr.GTIN_SIZE,mr.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Cr.GTIN_SIZE+mr.LAST_DIGIT_SIZE,mr.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let f=this.getGeneralDecoder().decodeGeneralPurposeField(mr.HEADER_SIZE+Cr.GTIN_SIZE+mr.LAST_DIGIT_SIZE+mr.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}mr.HEADER_SIZE=5+1+2,mr.LAST_DIGIT_SIZE=2,mr.FIRST_THREE_DIGITS_SIZE=10;class qt extends vl{constructor(s,o,l){super(s),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE+qt.DATE_SIZE)throw new ee;let s=new re;return this.encodeCompressedGtin(s,qt.HEADER_SIZE),this.encodeCompressedWeight(s,qt.HEADER_SIZE+qt.GTIN_SIZE,qt.WEIGHT_SIZE),this.encodeCompressedDate(s,qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,qt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=l%32;l/=32;let h=l%12+1;l/=12;let m=l;m/10==0&&s.append("0"),s.append(m),h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}qt.HEADER_SIZE=7+1,qt.WEIGHT_SIZE=20,qt.DATE_SIZE=16;function Dd(P){try{if(P.get(1))return new Ea(P);if(!P.get(2))return new yo(P);switch(Ca.extractNumericValueFromBitArray(P,1,4)){case 4:return new lp(P);case 5:return new cp(P)}switch(Ca.extractNumericValueFromBitArray(P,1,5)){case 12:return new Ai(P);case 13:return new mr(P)}switch(Ca.extractNumericValueFromBitArray(P,1,7)){case 56:return new qt(P,"310","11");case 57:return new qt(P,"320","11");case 58:return new qt(P,"310","13");case 59:return new qt(P,"320","13");case 60:return new qt(P,"310","15");case 61:return new qt(P,"320","15");case 62:return new qt(P,"310","17");case 63:return new qt(P,"320","17")}}catch(s){throw console.log(s),new Qe("unknown decoder: "+P)}}class oi{constructor(s,o,l,f){this.leftchar=s,this.rightchar=o,this.finderpattern=l,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof oi?oi.equalsOrNull(s.leftchar,o.leftchar)&&oi.equalsOrNull(s.rightchar,o.rightchar)&&oi.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:oi.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Fc{constructor(s,o,l){this.pairs=s,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof Fc?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let l;return s.forEach((f,h)=>{o.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(l=!0)})}),l}}class Ce extends er{constructor(s){super(...arguments),this.pairs=new Array(Ce.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,l){this.pairs.length=0,this.startFromEven=!1;try{return Ce.constructResult(this.decodeRow2pairs(s,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Ce.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(h){if(h instanceof ee){if(!this.pairs.length)throw new ee;l=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ee}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let l=o;l<this.rows.length;l++){let f=this.rows[l];this.pairs.length=0;for(let m of s)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!Ce.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(f);try{return this.checkRows(h,l+1)}catch(m){this.verbose&&console.log(m)}}throw new ee}static isValidSequence(s){for(let o of Ce.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let l=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=o[f]){l=!1;break}if(l)return!0}return!1}storeRow(s,o){let l=0,f=!1,h=!1;for(;l<this.rows.length;){let m=this.rows[l];if(m.getRowNumber()>s){h=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),l++}h||f||Ce.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Fc(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let l of o)if(l.getPairs().length!==s.length){for(let f of l.getPairs())for(let h of s)if(oi.equals(f,h))break}}static isPartialRow(s,o){for(let l of o){let f=!0;for(let h of s){let m=!1;for(let y of l.getPairs())if(h.equals(y)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=Lc.buildBitArray(s),f=Dd(o).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),m=s[s.length-1].getFinderPattern().getResultPoints(),y=[h[0],h[1],m[0],m[1]];return new gt(f,null,null,y,De.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let f=l.getChecksumPortion(),h=2;for(let y=1;y<this.pairs.size();++y){let C=this.pairs.get(y);f+=C.getLeftChar().getChecksumPortion(),h++;let N=C.getRightChar();N!=null&&(f+=N.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==o.getValue()}static getNextSecondBar(s,o){let l;return s.get(o)?(l=s.getNextUnset(o),l=s.getNextSet(l)):(l=s.getNextSet(o),l=s.getNextUnset(l)),l}retrieveNextPair(s,o,l){let f=o.length%2==0;this.startFromEven&&(f=!f);let h,m=!0,y=-1;do this.findNextPair(s,o,y),h=this.parseFoundFinderPattern(s,l,f),h==null?y=Ce.getNextSecondBar(s,this.startEnd[0]):m=!1;while(m);let C=this.decodeDataCharacter(s,h,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ee;let N;try{N=this.decodeDataCharacter(s,h,f,!1)}catch(T){N=null,this.verbose&&console.log(T)}return new oi(C,N,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m;l>=0?m=l:this.isEmptyPair(o)?m=0:m=o[o.length-1].getFinderPattern().getStartEnd()[1];let y=o.length%2!=0;this.startFromEven&&(y=!y);let C=!1;for(;m<h&&(C=!s.get(m),!!C);)m++;let N=0,T=m;for(let F=m;F<h;F++)if(s.get(F)!=C)f[N]++;else{if(N==3){if(y&&Ce.reverseCounters(f),Ce.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=F;return}y&&Ce.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,N--}else N++;f[N]=1,C=!C}throw new ee}static reverseCounters(s){let o=s.length;for(let l=0;l<o/2;++l){let f=s[l];s[l]=s[o-l-1],s[o-l-1]=f}}parseFoundFinderPattern(s,o,l){let f,h,m;if(l){let N=this.startEnd[0]-1;for(;N>=0&&!s.get(N);)N--;N++,f=this.startEnd[0]-N,h=N,m=this.startEnd[1]}else h=this.startEnd[0],m=s.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let y=this.getDecodeFinderCounters();R.arraycopy(y,0,y,1,y.length-1),y[0]=f;let C;try{C=this.parseFinderValue(y,Ce.FINDER_PATTERNS)}catch{return null}return new xl(C,[h,m],h,m,o)}decodeDataCharacter(s,o,l,f){let h=this.getDataCharacterCounters();for(let Gt=0;Gt<h.length;Gt++)h[Gt]=0;if(f)Ce.recordPatternInReverse(s,o.getStartEnd()[0],h);else{Ce.recordPattern(s,o.getStartEnd()[1],h);for(let Gt=0,vn=h.length-1;Gt<vn;Gt++,vn--){let cr=h[Gt];h[Gt]=h[vn],h[vn]=cr}}let m=17,y=Ke.sum(new Int32Array(h))/m,C=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(y-C)/C>.3)throw new ee;let N=this.getOddCounts(),T=this.getEvenCounts(),F=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let Gt=0;Gt<h.length;Gt++){let vn=1*h[Gt]/y,cr=vn+.5;if(cr<1){if(vn<.3)throw new ee;cr=1}else if(cr>8){if(vn>8.7)throw new ee;cr=8}let Qi=Gt/2;Gt&1?(T[Qi]=cr,W[Qi]=vn-cr):(N[Qi]=cr,F[Qi]=vn-cr)}this.adjustOddEvenCounts(m);let Z=4*o.getValue()+(l?0:2)+(f?0:1)-1,U=0,Y=0;for(let Gt=N.length-1;Gt>=0;Gt--){if(Ce.isNotA1left(o,l,f)){let vn=Ce.WEIGHTS[Z][2*Gt];Y+=N[Gt]*vn}U+=N[Gt]}let X=0;for(let Gt=T.length-1;Gt>=0;Gt--)if(Ce.isNotA1left(o,l,f)){let vn=Ce.WEIGHTS[Z][2*Gt+1];X+=T[Gt]*vn}let ne=Y+X;if(U&1||U>13||U<4)throw new ee;let he=(13-U)/2,xe=Ce.SYMBOL_WIDEST[he],ye=9-xe,ze=_i.getRSSvalue(N,xe,!0),ot=_i.getRSSvalue(T,ye,!1),_r=Ce.EVEN_TOTAL_SUBSET[he],xn=Ce.GSUM[he],rr=ze*_r+ot+xn;return new ba(rr,ne)}static isNotA1left(s,o,l){return!(s.getValue()==0&&o&&l)}adjustOddEvenCounts(s){let o=Ke.sum(new Int32Array(this.getOddCounts())),l=Ke.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let m=!1,y=!1;l>13?y=!0:l<4&&(m=!0);let C=o+l-s,N=(o&1)==1,T=(l&1)==0;if(C==1)if(N){if(T)throw new ee;h=!0}else{if(!T)throw new ee;y=!0}else if(C==-1)if(N){if(T)throw new ee;f=!0}else{if(!T)throw new ee;m=!0}else if(C==0){if(N){if(!T)throw new ee;o<l?(f=!0,y=!0):(h=!0,m=!0)}else if(T)throw new ee}else throw new ee;if(f){if(h)throw new ee;Ce.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ce.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new ee;Ce.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Ce.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ce.SYMBOL_WIDEST=[7,5,4,3,1],Ce.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ce.GSUM=[0,348,1388,2948,3988],Ce.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ce.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ce.FINDER_PAT_A=0,Ce.FINDER_PAT_B=1,Ce.FINDER_PAT_C=2,Ce.FINDER_PAT_D=3,Ce.FINDER_PAT_E=4,Ce.FINDER_PAT_F=5,Ce.FINDER_PATTERN_SEQUENCES=[[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_C,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_C],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F]],Ce.MAX_PAIRS=11;class up extends ba{constructor(s,o,l){super(s,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class cn extends er{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,l){const f=this.decodePair(o,!1,s,l);cn.addOrTally(this.possibleLeftPairs,f),o.reverse();let h=this.decodePair(o,!0,s,l);cn.addOrTally(this.possibleRightPairs,h),o.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&cn.checkChecksum(m,y))return cn.constructResult(m,y)}throw new ee}static addOrTally(s,o){if(o==null)return;let l=!1;for(let f of s)if(f.getValue()===o.getValue()){f.incrementCount(),l=!0;break}l||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let l=4537077*s.getValue()+o.getValue(),f=new String(l).toString(),h=new re;for(let N=13-f.length;N>0;N--)h.append("0");h.append(f);let m=0;for(let N=0;N<13;N++){let T=h.charAt(N).charCodeAt(0)-"0".charCodeAt(0);m+=N&1?T:3*T}m=10-m%10,m===10&&(m=0),h.append(m.toString());let y=s.getFinderPattern().getResultPoints(),C=o.getFinderPattern().getResultPoints();return new gt(h.toString(),null,0,[y[0],y[1],C[0],C[1]],De.RSS_14,new Date().getTime())}static checkChecksum(s,o){let l=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,l===f}decodePair(s,o,l,f){try{let h=this.findFinderPattern(s,o),m=this.parseFoundFinderPattern(s,l,o,h),y=f==null?null:f.get(z.NEED_RESULT_POINT_CALLBACK);if(y!=null){let T=(h[0]+h[1])/2;o&&(T=s.getSize()-1-T),y.foundPossibleResultPoint(new Ne(T,l))}let C=this.decodeDataCharacter(s,m,!0),N=this.decodeDataCharacter(s,m,!1);return new up(1597*C.getValue()+N.getValue(),C.getChecksumPortion()+4*N.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(s,o,l){let f=this.getDataCharacterCounters();for(let X=0;X<f.length;X++)f[X]=0;if(l)Kt.recordPatternInReverse(s,o.getStartEnd()[0],f);else{Kt.recordPattern(s,o.getStartEnd()[1]+1,f);for(let X=0,ne=f.length-1;X<ne;X++,ne--){let he=f[X];f[X]=f[ne],f[ne]=he}}let h=l?16:15,m=Ke.sum(new Int32Array(f))/h,y=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let X=0;X<f.length;X++){let ne=f[X]/m,he=Math.floor(ne+.5);he<1?he=1:he>8&&(he=8);let xe=Math.floor(X/2);X&1?(C[xe]=he,T[xe]=ne-he):(y[xe]=he,N[xe]=ne-he)}this.adjustOddEvenCounts(l,h);let F=0,W=0;for(let X=y.length-1;X>=0;X--)W*=9,W+=y[X],F+=y[X];let Z=0,U=0;for(let X=C.length-1;X>=0;X--)Z*=9,Z+=C[X],U+=C[X];let Y=W+3*Z;if(l){if(F&1||F>12||F<4)throw new ee;let X=(12-F)/2,ne=cn.OUTSIDE_ODD_WIDEST[X],he=9-ne,xe=_i.getRSSvalue(y,ne,!1),ye=_i.getRSSvalue(C,he,!0),ze=cn.OUTSIDE_EVEN_TOTAL_SUBSET[X],ot=cn.OUTSIDE_GSUM[X];return new ba(xe*ze+ye+ot,Y)}else{if(U&1||U>10||U<4)throw new ee;let X=(10-U)/2,ne=cn.INSIDE_ODD_WIDEST[X],he=9-ne,xe=_i.getRSSvalue(y,ne,!0),ye=_i.getRSSvalue(C,he,!1),ze=cn.INSIDE_ODD_TOTAL_SUBSET[X],ot=cn.INSIDE_GSUM[X];return new ba(ye*ze+xe+ot,Y)}}findFinderPattern(s,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let f=s.getSize(),h=!1,m=0;for(;m<f&&(h=!s.get(m),o!==h);)m++;let y=0,C=m;for(let N=m;N<f;N++)if(s.get(N)!==h)l[y]++;else{if(y===3){if(er.isFinderPattern(l))return[C,N];C+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,h=!h}throw new ee}parseFoundFinderPattern(s,o,l,f){let h=s.get(f[0]),m=f[0]-1;for(;m>=0&&h!==s.get(m);)m--;m++;const y=f[0]-m,C=this.getDecodeFinderCounters(),N=new Int32Array(C.length);R.arraycopy(C,0,N,1,C.length-1),N[0]=y;const T=this.parseFinderValue(N,cn.FINDER_PATTERNS);let F=m,W=f[1];return l&&(F=s.getSize()-1-F,W=s.getSize()-1-W),new xl(T,[m,f[1]],F,W,o)}adjustOddEvenCounts(s,o){let l=Ke.sum(new Int32Array(this.getOddCounts())),f=Ke.sum(new Int32Array(this.getEvenCounts())),h=!1,m=!1,y=!1,C=!1;s?(l>12?m=!0:l<4&&(h=!0),f>12?C=!0:f<4&&(y=!0)):(l>11?m=!0:l<5&&(h=!0),f>10?C=!0:f<4&&(y=!0));let N=l+f-o,T=(l&1)===(s?1:0),F=(f&1)===1;if(N===1)if(T){if(F)throw new ee;m=!0}else{if(!F)throw new ee;C=!0}else if(N===-1)if(T){if(F)throw new ee;h=!0}else{if(!F)throw new ee;y=!0}else if(N===0){if(T){if(!F)throw new ee;l<f?(h=!0,C=!0):(m=!0,y=!0)}else if(F)throw new ee}else throw new ee;if(h){if(m)throw new ee;er.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&er.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(C)throw new ee;er.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&er.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}cn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],cn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],cn.OUTSIDE_GSUM=[0,161,961,2015,2715],cn.INSIDE_GSUM=[0,336,1036,1516],cn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],cn.INSIDE_ODD_WIDEST=[2,4,6,8],cn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Bs extends Kt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const l=s?s.get(z.POSSIBLE_FORMATS):null,f=s&&s.get(z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(De.EAN_13)||l.includes(De.UPC_A)||l.includes(De.EAN_8)||l.includes(De.UPC_E))&&this.readers.push(new Mc(s)),l.includes(De.CODE_39)&&this.readers.push(new en(f)),l.includes(De.CODE_128)&&this.readers.push(new Te),l.includes(De.ITF)&&this.readers.push(new _t),l.includes(De.RSS_14)&&this.readers.push(new cn),l.includes(De.RSS_EXPANDED)&&this.readers.push(new Ce(this.verbose))):(this.readers.push(new Mc(s)),this.readers.push(new en),this.readers.push(new Mc(s)),this.readers.push(new Te),this.readers.push(new _t),this.readers.push(new cn),this.readers.push(new Ce(this.verbose)))}decodeRow(s,o,l){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,o,l)}catch{}throw new ee}reset(){this.readers.forEach(s=>s.reset())}}class Id extends sn{constructor(s=500,o){super(new Bs(o),s,o)}}class jt{constructor(s,o,l){this.ecCodewords=s,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Dt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class yt{constructor(s,o,l,f,h,m){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=m;let y=0;const C=m.getECCodewords(),N=m.getECBlocks();for(let T of N)y+=T.getCount()*(T.getDataCodewords()+C);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new j;for(let l of yt.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===o)return l;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new yt(1,10,10,8,8,new jt(5,new Dt(1,3))),new yt(2,12,12,10,10,new jt(7,new Dt(1,5))),new yt(3,14,14,12,12,new jt(10,new Dt(1,8))),new yt(4,16,16,14,14,new jt(12,new Dt(1,12))),new yt(5,18,18,16,16,new jt(14,new Dt(1,18))),new yt(6,20,20,18,18,new jt(18,new Dt(1,22))),new yt(7,22,22,20,20,new jt(20,new Dt(1,30))),new yt(8,24,24,22,22,new jt(24,new Dt(1,36))),new yt(9,26,26,24,24,new jt(28,new Dt(1,44))),new yt(10,32,32,14,14,new jt(36,new Dt(1,62))),new yt(11,36,36,16,16,new jt(42,new Dt(1,86))),new yt(12,40,40,18,18,new jt(48,new Dt(1,114))),new yt(13,44,44,20,20,new jt(56,new Dt(1,144))),new yt(14,48,48,22,22,new jt(68,new Dt(1,174))),new yt(15,52,52,24,24,new jt(42,new Dt(2,102))),new yt(16,64,64,14,14,new jt(56,new Dt(2,140))),new yt(17,72,72,16,16,new jt(36,new Dt(4,92))),new yt(18,80,80,18,18,new jt(48,new Dt(4,114))),new yt(19,88,88,20,20,new jt(56,new Dt(4,144))),new yt(20,96,96,22,22,new jt(68,new Dt(4,174))),new yt(21,104,104,24,24,new jt(56,new Dt(6,136))),new yt(22,120,120,18,18,new jt(68,new Dt(6,175))),new yt(23,132,132,20,20,new jt(62,new Dt(8,163))),new yt(24,144,144,22,22,new jt(62,new Dt(8,156),new Dt(2,155))),new yt(25,8,18,6,16,new jt(7,new Dt(1,5))),new yt(26,8,32,6,14,new jt(11,new Dt(1,10))),new yt(27,12,26,10,24,new jt(14,new Dt(1,16))),new yt(28,12,36,10,16,new jt(18,new Dt(1,22))),new yt(29,16,36,14,16,new jt(24,new Dt(1,32))),new yt(30,16,48,14,22,new jt(28,new Dt(1,49)))]}}yt.VERSIONS=yt.buildVersions();class Bc{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new j;this.version=Bc.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ve(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),l=s.getWidth();return yt.getVersionForDimensions(o,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,f=0;const h=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let y=!1,C=!1,N=!1,T=!1;do if(l===h&&f===0&&!y)s[o++]=this.readCorner1(h,m)&255,l-=2,f+=2,y=!0;else if(l===h-2&&f===0&&m&3&&!C)s[o++]=this.readCorner2(h,m)&255,l-=2,f+=2,C=!0;else if(l===h+4&&f===2&&!(m&7)&&!N)s[o++]=this.readCorner3(h,m)&255,l-=2,f+=2,N=!0;else if(l===h-2&&f===0&&(m&7)===4&&!T)s[o++]=this.readCorner4(h,m)&255,l-=2,f+=2,T=!0;else{do l<h&&f>=0&&!this.readMappingMatrix.get(f,l)&&(s[o++]=this.readUtah(l,f,h,m)&255),l-=2,f+=2;while(l>=0&&f<m);l+=1,f+=3;do l>=0&&f<m&&!this.readMappingMatrix.get(f,l)&&(s[o++]=this.readUtah(l,f,h,m)&255),l+=2,f-=2;while(l<h&&f>=0);l+=3,f+=1}while(l<h||f<m);if(o!==this.version.getTotalCodewords())throw new j;return s}readModule(s,o,l,f){return s<0&&(s+=l,o+=4-(l+4&7)),o<0&&(o+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,l,f){let h=0;return this.readModule(s-2,o-2,l,f)&&(h|=1),h<<=1,this.readModule(s-2,o-1,l,f)&&(h|=1),h<<=1,this.readModule(s-1,o-2,l,f)&&(h|=1),h<<=1,this.readModule(s-1,o-1,l,f)&&(h|=1),h<<=1,this.readModule(s-1,o,l,f)&&(h|=1),h<<=1,this.readModule(s,o-2,l,f)&&(h|=1),h<<=1,this.readModule(s,o-1,l,f)&&(h|=1),h<<=1,this.readModule(s,o,l,f)&&(h|=1),h}readCorner1(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,1,s,o)&&(l|=1),l<<=1,this.readModule(s-1,2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}readCorner2(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-4,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner3(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-3,s,o)&&(l|=1),l<<=1,this.readModule(1,o-2,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner4(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),m=o/f|0,y=l/h|0,C=m*f,N=y*h,T=new ve(N,C);for(let F=0;F<m;++F){const W=F*f;for(let Z=0;Z<y;++Z){const U=Z*h;for(let Y=0;Y<f;++Y){const X=F*(f+2)+1+Y,ne=W+Y;for(let he=0;he<h;++he){const xe=Z*(h+2)+1+he;if(s.get(xe,X)){const ye=U+he;T.set(ye,ne)}}}}}return T}}class yl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const l=o.getECBlocks();let f=0;const h=l.getECBlocks();for(let Y of h)f+=Y.getCount();const m=new Array(f);let y=0;for(let Y of h)for(let X=0;X<Y.getCount();X++){const ne=Y.getDataCodewords(),he=l.getECCodewords()+ne;m[y++]=new yl(ne,new Uint8Array(he))}const N=m[0].codewords.length-l.getECCodewords(),T=N-1;let F=0;for(let Y=0;Y<T;Y++)for(let X=0;X<y;X++)m[X].codewords[Y]=s[F++];const W=o.getVersionNumber()===24,Z=W?8:y;for(let Y=0;Y<Z;Y++)m[Y].codewords[N-1]=s[F++];const U=m[0].codewords.length;for(let Y=N;Y<U;Y++)for(let X=0;X<y;X++){const ne=W?(X+8)%y:X,he=W&&ne>7?Y-1:Y;m[ne].codewords[he]=s[F++]}if(F!==s.length)throw new E;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class wl{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new E(""+s);let o=0,l=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(l>0){const m=8-l,y=s<m?s:m,C=m-y,N=255>>8-y<<C;o=(h[f]&N)>>C,s-=y,l+=y,l===8&&(l=0,f++)}if(s>0){for(;s>=8;)o=o<<8|h[f]&255,f++,s-=8;if(s>0){const m=8-s,y=255>>m<<m;o=o<<s|(h[f]&y)>>m,l+=s}}return this.bitOffset=l,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tn;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tn||(Tn={}));class Ti{static decode(s){const o=new wl(s),l=new re,f=new re,h=new Array;let m=Tn.ASCII_ENCODE;do if(m===Tn.ASCII_ENCODE)m=this.decodeAsciiSegment(o,l,f);else{switch(m){case Tn.C40_ENCODE:this.decodeC40Segment(o,l);break;case Tn.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Tn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Tn.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Tn.BASE256_ENCODE:this.decodeBase256Segment(o,l,h);break;default:throw new j}m=Tn.ASCII_ENCODE}while(m!==Tn.PAD_ENCODE&&o.available()>0);return f.length()>0&&l.append(f.toString()),new Qt(s,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,o,l){let f=!1;do{let h=s.readBits(8);if(h===0)throw new j;if(h<=128)return f&&(h+=128),o.append(String.fromCharCode(h-1)),Tn.ASCII_ENCODE;if(h===129)return Tn.PAD_ENCODE;if(h<=229){const m=h-130;m<10&&o.append("0"),o.append(""+m)}else switch(h){case 230:return Tn.C40_ENCODE;case 231:return Tn.BASE256_ENCODE;case 232:o.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Tn.ANSIX12_ENCODE;case 239:return Tn.TEXT_ENCODE;case 240:return Tn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new j;break}}while(s.available()>0);return Tn.ASCII_ENCODE}static decodeC40Segment(s,o){let l=!1;const f=[];let h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new j;break;case 1:l?(o.append(String.fromCharCode(C+128)),l=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new j}h=0;break;case 3:l?(o.append(String.fromCharCode(C+224)),l=!1):o.append(String.fromCharCode(C+96)),h=0;break;default:throw new j}}}while(s.available()>0)}static decodeTextSegment(s,o){let l=!1,f=[],h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new j;break;case 1:l?(o.append(String.fromCharCode(C+128)),l=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new j}h=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N),h=0}else throw new j;break;default:throw new j}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const l=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(m){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(m<14)o.append(String.fromCharCode(m+44));else if(m<40)o.append(String.fromCharCode(m+51));else throw new j;break}}}while(s.available()>0)}static parseTwoBytes(s,o,l){let f=(s<<8)+o-1,h=Math.floor(f/1600);l[0]=h,f-=h*1600,h=Math.floor(f/40),l[1]=h,l[2]=f-h*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let f=s.readBits(6);if(f===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,o,l){let f=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),f++);let m;if(h===0?m=s.available()/8|0:h<250?m=h:m=250*(h-249)+this.unrandomize255State(s.readBits(8),f++),m<0)throw new j;const y=new Uint8Array(m);for(let C=0;C<m;C++){if(s.available()<8)throw new j;y[C]=this.unrandomize255State(s.readBits(8),f++)}l.push(y);try{o.append(fe.decode(y,ae.ISO88591))}catch(C){throw new Qe("Platform does not support required encoding: "+C.message)}}static unrandomize255State(s,o){const l=149*o%255+1,f=s-l;return f>=0?f:f+256}}Ti.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ti.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ti.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ti.TEXT_SHIFT2_SET_CHARS=Ti.C40_SHIFT2_SET_CHARS,Ti.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class dp{constructor(){this.rsDecoder=new Pn(dt.DATA_MATRIX_FIELD_256)}decode(s){const o=new Bc(s),l=o.getVersion(),f=o.readCodewords(),h=yl.getDataBlocks(f,l);let m=0;for(let N of h)m+=N.getNumDataCodewords();const y=new Uint8Array(m),C=h.length;for(let N=0;N<C;N++){const T=h[N],F=T.getCodewords(),W=T.getNumDataCodewords();this.correctErrors(F,W);for(let Z=0;Z<W;Z++)y[Z*C+N]=F[Z]}return Ti.decode(y)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new k}for(let f=0;f<o;f++)s[f]=l[f]}}class mn{constructor(s){this.image=s,this.rectangleDetector=new ke(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ee;o=this.shiftToModuleCenter(o);const l=o[0],f=o[1],h=o[2],m=o[3];let y=this.transitionsBetween(l,m)+1,C=this.transitionsBetween(h,m)+1;(y&1)===1&&(y+=1),(C&1)===1&&(C+=1),4*y<7*C&&4*C<7*y&&(y=C=Math.max(y,C));let N=mn.sampleGrid(this.image,l,f,h,m,y,C);return new Fn(N,[l,f,h,m])}static shiftPoint(s,o,l){let f=(o.getX()-s.getX())/(l+1),h=(o.getY()-s.getY())/(l+1);return new Ne(s.getX()+f,s.getY()+h)}static moveAway(s,o,l){let f=s.getX(),h=s.getY();return f<o?f-=1:f+=1,h<l?h-=1:h+=1,new Ne(f,h)}detectSolid1(s){let o=s[0],l=s[1],f=s[3],h=s[2],m=this.transitionsBetween(o,l),y=this.transitionsBetween(l,f),C=this.transitionsBetween(f,h),N=this.transitionsBetween(h,o),T=m,F=[h,o,l,f];return T>y&&(T=y,F[0]=o,F[1]=l,F[2]=f,F[3]=h),T>C&&(T=C,F[0]=l,F[1]=f,F[2]=h,F[3]=o),T>N&&(F[0]=f,F[1]=h,F[2]=o,F[3]=l),F}detectSolid2(s){let o=s[0],l=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h),y=mn.shiftPoint(l,f,(m+1)*4),C=mn.shiftPoint(f,l,(m+1)*4),N=this.transitionsBetween(y,o),T=this.transitionsBetween(C,h);return N<T?(s[0]=o,s[1]=l,s[2]=f,s[3]=h):(s[0]=l,s[1]=f,s[2]=h,s[3]=o),s}correctTopRight(s){let o=s[0],l=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h),y=this.transitionsBetween(l,h),C=mn.shiftPoint(o,l,(y+1)*4),N=mn.shiftPoint(f,l,(m+1)*4);m=this.transitionsBetween(C,h),y=this.transitionsBetween(N,h);let T=new Ne(h.getX()+(f.getX()-l.getX())/(m+1),h.getY()+(f.getY()-l.getY())/(m+1)),F=new Ne(h.getX()+(o.getX()-l.getX())/(y+1),h.getY()+(o.getY()-l.getY())/(y+1));if(!this.isValid(T))return this.isValid(F)?F:null;if(!this.isValid(F))return T;let W=this.transitionsBetween(C,T)+this.transitionsBetween(N,T),Z=this.transitionsBetween(C,F)+this.transitionsBetween(N,F);return W>Z?T:F}shiftToModuleCenter(s){let o=s[0],l=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h)+1,y=this.transitionsBetween(f,h)+1,C=mn.shiftPoint(o,l,y*4),N=mn.shiftPoint(f,l,m*4);m=this.transitionsBetween(C,h)+1,y=this.transitionsBetween(N,h)+1,(m&1)===1&&(m+=1),(y&1)===1&&(y+=1);let T=(o.getX()+l.getX()+f.getX()+h.getX())/4,F=(o.getY()+l.getY()+f.getY()+h.getY())/4;o=mn.moveAway(o,T,F),l=mn.moveAway(l,T,F),f=mn.moveAway(f,T,F),h=mn.moveAway(h,T,F);let W,Z;return C=mn.shiftPoint(o,l,y*4),C=mn.shiftPoint(C,h,m*4),W=mn.shiftPoint(l,o,y*4),W=mn.shiftPoint(W,f,m*4),N=mn.shiftPoint(f,h,y*4),N=mn.shiftPoint(N,l,m*4),Z=mn.shiftPoint(h,f,y*4),Z=mn.shiftPoint(Z,o,m*4),[C,W,N,Z]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,l,f,h,m,y){return Ht.getInstance().sampleGrid(s,m,y,.5,.5,m-.5,.5,m-.5,y-.5,.5,y-.5,o.getX(),o.getY(),h.getX(),h.getY(),f.getX(),f.getY(),l.getX(),l.getY())}transitionsBetween(s,o){let l=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.trunc(o.getX()),m=Math.trunc(o.getY()),y=Math.abs(m-f)>Math.abs(h-l);if(y){let Y=l;l=f,f=Y,Y=h,h=m,m=Y}let C=Math.abs(h-l),N=Math.abs(m-f),T=-C/2,F=f<m?1:-1,W=l<h?1:-1,Z=0,U=this.image.get(y?f:l,y?l:f);for(let Y=l,X=f;Y!==h;Y+=W){let ne=this.image.get(y?X:Y,y?Y:X);if(ne!==U&&(Z++,U=ne),T+=N,T>0){if(X===m)break;X+=F,T-=C}}return Z}}class li{constructor(){this.decoder=new dp}decode(s,o=null){let l,f;if(o!=null&&o.has(z.PURE_BARCODE)){const N=li.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(N),f=li.NO_POINTS}else{const N=new mn(s.getBlackMatrix()).detect();l=this.decoder.decode(N.getBits()),f=N.getPoints()}const h=l.getRawBytes(),m=new gt(l.getText(),h,8*h.length,f,De.DATA_MATRIX,R.currentTimeMillis()),y=l.getByteSegments();y!=null&&m.putMetadata(We.BYTE_SEGMENTS,y);const C=l.getECLevel();return C!=null&&m.putMetadata(We.ERROR_CORRECTION_LEVEL,C),m}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o==null||l==null)throw new ee;const f=this.moduleSize(o,s);let h=o[1];const m=l[1];let y=o[0];const N=(l[0]-y+1)/f,T=(m-h+1)/f;if(N<=0||T<=0)throw new ee;const F=f/2;h+=F,y+=F;const W=new ve(N,T);for(let Z=0;Z<T;Z++){const U=h+Z*f;for(let Y=0;Y<N;Y++)s.get(y+Y*f,U)&&W.set(Y,Z)}return W}static moduleSize(s,o){const l=o.getWidth();let f=s[0];const h=s[1];for(;f<l&&o.get(f,h);)f++;if(f===l)throw new ee;const m=f-s[0];if(m===0)throw new ee;return m}}li.NO_POINTS=[];class Rd extends sn{constructor(s=500){super(new li,s)}}var Na;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(Na||(Na={}));class Vt{constructor(s,o,l){this.value=s,this.stringValue=o,this.bits=l,Vt.FOR_BITS.set(l,this),Vt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Vt.L;case"M":return Vt.M;case"Q":return Vt.Q;case"H":return Vt.H;default:throw new b(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Vt))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=Vt.FOR_BITS.size)throw new E;return Vt.FOR_BITS.get(s)}}Vt.FOR_BITS=new Map,Vt.FOR_VALUE=new Map,Vt.L=new Vt(Na.L,"L",1),Vt.M=new Vt(Na.M,"M",0),Vt.Q=new Vt(Na.Q,"Q",3),Vt.H=new Vt(Na.H,"H",2);class tr{constructor(s){this.errorCorrectionLevel=Vt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return O.bitCount(s^o)}static decodeFormatInformation(s,o){const l=tr.doDecodeFormatInformation(s,o);return l!==null?l:tr.doDecodeFormatInformation(s^tr.FORMAT_INFO_MASK_QR,o^tr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let l=Number.MAX_SAFE_INTEGER,f=0;for(const h of tr.FORMAT_INFO_DECODE_LOOKUP){const m=h[0];if(m===s||m===o)return new tr(h[1]);let y=tr.numBitsDiffering(s,m);y<l&&(f=h[1],l=y),s!==o&&(y=tr.numBitsDiffering(o,m),y<l&&(f=h[1],l=y))}return l<=3?new tr(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof tr))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}tr.FORMAT_INFO_MASK_QR=21522,tr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class le{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const l of o)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class K{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(s,o,...l){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=l;let f=0;const h=l[0].getECCodewordsPerBlock(),m=l[0].getECBlocks();for(const y of m)f+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new j;try{return this.getVersionForNumber((s-17)/4)}catch{throw new j}}static getVersionForNumber(s){if(s<1||s>40)throw new E;return qe.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,l=0;for(let f=0;f<qe.VERSION_DECODE_INFO.length;f++){const h=qe.VERSION_DECODE_INFO[f];if(h===s)return qe.getVersionForNumber(f+7);const m=tr.numBitsDiffering(s,h);m<o&&(l=f+7,o=m)}return o<=3?qe.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new ve(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let f=0;f<l;f++){const h=this.alignmentPatternCenters[f]-2;for(let m=0;m<l;m++)f===0&&(m===0||m===l-1)||f===l-1&&m===0||o.setRegion(this.alignmentPatternCenters[m]-2,h,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),qe.VERSIONS=[new qe(1,new Int32Array(0),new le(7,new K(1,19)),new le(10,new K(1,16)),new le(13,new K(1,13)),new le(17,new K(1,9))),new qe(2,Int32Array.from([6,18]),new le(10,new K(1,34)),new le(16,new K(1,28)),new le(22,new K(1,22)),new le(28,new K(1,16))),new qe(3,Int32Array.from([6,22]),new le(15,new K(1,55)),new le(26,new K(1,44)),new le(18,new K(2,17)),new le(22,new K(2,13))),new qe(4,Int32Array.from([6,26]),new le(20,new K(1,80)),new le(18,new K(2,32)),new le(26,new K(2,24)),new le(16,new K(4,9))),new qe(5,Int32Array.from([6,30]),new le(26,new K(1,108)),new le(24,new K(2,43)),new le(18,new K(2,15),new K(2,16)),new le(22,new K(2,11),new K(2,12))),new qe(6,Int32Array.from([6,34]),new le(18,new K(2,68)),new le(16,new K(4,27)),new le(24,new K(4,19)),new le(28,new K(4,15))),new qe(7,Int32Array.from([6,22,38]),new le(20,new K(2,78)),new le(18,new K(4,31)),new le(18,new K(2,14),new K(4,15)),new le(26,new K(4,13),new K(1,14))),new qe(8,Int32Array.from([6,24,42]),new le(24,new K(2,97)),new le(22,new K(2,38),new K(2,39)),new le(22,new K(4,18),new K(2,19)),new le(26,new K(4,14),new K(2,15))),new qe(9,Int32Array.from([6,26,46]),new le(30,new K(2,116)),new le(22,new K(3,36),new K(2,37)),new le(20,new K(4,16),new K(4,17)),new le(24,new K(4,12),new K(4,13))),new qe(10,Int32Array.from([6,28,50]),new le(18,new K(2,68),new K(2,69)),new le(26,new K(4,43),new K(1,44)),new le(24,new K(6,19),new K(2,20)),new le(28,new K(6,15),new K(2,16))),new qe(11,Int32Array.from([6,30,54]),new le(20,new K(4,81)),new le(30,new K(1,50),new K(4,51)),new le(28,new K(4,22),new K(4,23)),new le(24,new K(3,12),new K(8,13))),new qe(12,Int32Array.from([6,32,58]),new le(24,new K(2,92),new K(2,93)),new le(22,new K(6,36),new K(2,37)),new le(26,new K(4,20),new K(6,21)),new le(28,new K(7,14),new K(4,15))),new qe(13,Int32Array.from([6,34,62]),new le(26,new K(4,107)),new le(22,new K(8,37),new K(1,38)),new le(24,new K(8,20),new K(4,21)),new le(22,new K(12,11),new K(4,12))),new qe(14,Int32Array.from([6,26,46,66]),new le(30,new K(3,115),new K(1,116)),new le(24,new K(4,40),new K(5,41)),new le(20,new K(11,16),new K(5,17)),new le(24,new K(11,12),new K(5,13))),new qe(15,Int32Array.from([6,26,48,70]),new le(22,new K(5,87),new K(1,88)),new le(24,new K(5,41),new K(5,42)),new le(30,new K(5,24),new K(7,25)),new le(24,new K(11,12),new K(7,13))),new qe(16,Int32Array.from([6,26,50,74]),new le(24,new K(5,98),new K(1,99)),new le(28,new K(7,45),new K(3,46)),new le(24,new K(15,19),new K(2,20)),new le(30,new K(3,15),new K(13,16))),new qe(17,Int32Array.from([6,30,54,78]),new le(28,new K(1,107),new K(5,108)),new le(28,new K(10,46),new K(1,47)),new le(28,new K(1,22),new K(15,23)),new le(28,new K(2,14),new K(17,15))),new qe(18,Int32Array.from([6,30,56,82]),new le(30,new K(5,120),new K(1,121)),new le(26,new K(9,43),new K(4,44)),new le(28,new K(17,22),new K(1,23)),new le(28,new K(2,14),new K(19,15))),new qe(19,Int32Array.from([6,30,58,86]),new le(28,new K(3,113),new K(4,114)),new le(26,new K(3,44),new K(11,45)),new le(26,new K(17,21),new K(4,22)),new le(26,new K(9,13),new K(16,14))),new qe(20,Int32Array.from([6,34,62,90]),new le(28,new K(3,107),new K(5,108)),new le(26,new K(3,41),new K(13,42)),new le(30,new K(15,24),new K(5,25)),new le(28,new K(15,15),new K(10,16))),new qe(21,Int32Array.from([6,28,50,72,94]),new le(28,new K(4,116),new K(4,117)),new le(26,new K(17,42)),new le(28,new K(17,22),new K(6,23)),new le(30,new K(19,16),new K(6,17))),new qe(22,Int32Array.from([6,26,50,74,98]),new le(28,new K(2,111),new K(7,112)),new le(28,new K(17,46)),new le(30,new K(7,24),new K(16,25)),new le(24,new K(34,13))),new qe(23,Int32Array.from([6,30,54,78,102]),new le(30,new K(4,121),new K(5,122)),new le(28,new K(4,47),new K(14,48)),new le(30,new K(11,24),new K(14,25)),new le(30,new K(16,15),new K(14,16))),new qe(24,Int32Array.from([6,28,54,80,106]),new le(30,new K(6,117),new K(4,118)),new le(28,new K(6,45),new K(14,46)),new le(30,new K(11,24),new K(16,25)),new le(30,new K(30,16),new K(2,17))),new qe(25,Int32Array.from([6,32,58,84,110]),new le(26,new K(8,106),new K(4,107)),new le(28,new K(8,47),new K(13,48)),new le(30,new K(7,24),new K(22,25)),new le(30,new K(22,15),new K(13,16))),new qe(26,Int32Array.from([6,30,58,86,114]),new le(28,new K(10,114),new K(2,115)),new le(28,new K(19,46),new K(4,47)),new le(28,new K(28,22),new K(6,23)),new le(30,new K(33,16),new K(4,17))),new qe(27,Int32Array.from([6,34,62,90,118]),new le(30,new K(8,122),new K(4,123)),new le(28,new K(22,45),new K(3,46)),new le(30,new K(8,23),new K(26,24)),new le(30,new K(12,15),new K(28,16))),new qe(28,Int32Array.from([6,26,50,74,98,122]),new le(30,new K(3,117),new K(10,118)),new le(28,new K(3,45),new K(23,46)),new le(30,new K(4,24),new K(31,25)),new le(30,new K(11,15),new K(31,16))),new qe(29,Int32Array.from([6,30,54,78,102,126]),new le(30,new K(7,116),new K(7,117)),new le(28,new K(21,45),new K(7,46)),new le(30,new K(1,23),new K(37,24)),new le(30,new K(19,15),new K(26,16))),new qe(30,Int32Array.from([6,26,52,78,104,130]),new le(30,new K(5,115),new K(10,116)),new le(28,new K(19,47),new K(10,48)),new le(30,new K(15,24),new K(25,25)),new le(30,new K(23,15),new K(25,16))),new qe(31,Int32Array.from([6,30,56,82,108,134]),new le(30,new K(13,115),new K(3,116)),new le(28,new K(2,46),new K(29,47)),new le(30,new K(42,24),new K(1,25)),new le(30,new K(23,15),new K(28,16))),new qe(32,Int32Array.from([6,34,60,86,112,138]),new le(30,new K(17,115)),new le(28,new K(10,46),new K(23,47)),new le(30,new K(10,24),new K(35,25)),new le(30,new K(19,15),new K(35,16))),new qe(33,Int32Array.from([6,30,58,86,114,142]),new le(30,new K(17,115),new K(1,116)),new le(28,new K(14,46),new K(21,47)),new le(30,new K(29,24),new K(19,25)),new le(30,new K(11,15),new K(46,16))),new qe(34,Int32Array.from([6,34,62,90,118,146]),new le(30,new K(13,115),new K(6,116)),new le(28,new K(14,46),new K(23,47)),new le(30,new K(44,24),new K(7,25)),new le(30,new K(59,16),new K(1,17))),new qe(35,Int32Array.from([6,30,54,78,102,126,150]),new le(30,new K(12,121),new K(7,122)),new le(28,new K(12,47),new K(26,48)),new le(30,new K(39,24),new K(14,25)),new le(30,new K(22,15),new K(41,16))),new qe(36,Int32Array.from([6,24,50,76,102,128,154]),new le(30,new K(6,121),new K(14,122)),new le(28,new K(6,47),new K(34,48)),new le(30,new K(46,24),new K(10,25)),new le(30,new K(2,15),new K(64,16))),new qe(37,Int32Array.from([6,28,54,80,106,132,158]),new le(30,new K(17,122),new K(4,123)),new le(28,new K(29,46),new K(14,47)),new le(30,new K(49,24),new K(10,25)),new le(30,new K(24,15),new K(46,16))),new qe(38,Int32Array.from([6,32,58,84,110,136,162]),new le(30,new K(4,122),new K(18,123)),new le(28,new K(13,46),new K(32,47)),new le(30,new K(48,24),new K(14,25)),new le(30,new K(42,15),new K(32,16))),new qe(39,Int32Array.from([6,26,54,82,110,138,166]),new le(30,new K(20,117),new K(4,118)),new le(28,new K(40,47),new K(7,48)),new le(30,new K(43,24),new K(22,25)),new le(30,new K(10,15),new K(67,16))),new qe(40,Int32Array.from([6,30,58,86,114,142,170]),new le(30,new K(19,118),new K(6,119)),new le(28,new K(18,47),new K(31,48)),new le(30,new K(34,24),new K(34,25)),new le(30,new K(20,15),new K(61,16)))];var kn;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(kn||(kn={}));class Er{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let l=0;l<o;l++)for(let f=0;f<o;f++)this.isMasked(l,f)&&s.flip(f,l)}}Er.values=new Map([[kn.DATA_MASK_000,new Er(kn.DATA_MASK_000,(P,s)=>(P+s&1)===0)],[kn.DATA_MASK_001,new Er(kn.DATA_MASK_001,(P,s)=>(P&1)===0)],[kn.DATA_MASK_010,new Er(kn.DATA_MASK_010,(P,s)=>s%3===0)],[kn.DATA_MASK_011,new Er(kn.DATA_MASK_011,(P,s)=>(P+s)%3===0)],[kn.DATA_MASK_100,new Er(kn.DATA_MASK_100,(P,s)=>(Math.floor(P/2)+Math.floor(s/3)&1)===0)],[kn.DATA_MASK_101,new Er(kn.DATA_MASK_101,(P,s)=>P*s%6===0)],[kn.DATA_MASK_110,new Er(kn.DATA_MASK_110,(P,s)=>P*s%6<3)],[kn.DATA_MASK_111,new Er(kn.DATA_MASK_111,(P,s)=>(P+s+P*s%3&1)===0)]]);class _a{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new j;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const o=this.bitMatrix.getHeight();let l=0;const f=o-7;for(let h=o-1;h>=f;h--)l=this.copyBit(8,h,l);for(let h=o-8;h<o;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=tr.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return qe.getVersionForNumber(o);let l=0;const f=s-11;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)l=this.copyBit(y,m,l);let h=qe.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;l=0;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)l=this.copyBit(m,y,l);if(h=qe.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new j}copyBit(s,o,l){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),l=Er.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f);const h=o.buildFunctionPattern();let m=!0;const y=new Uint8Array(o.getTotalCodewords());let C=0,N=0,T=0;for(let F=f-1;F>0;F-=2){F===6&&F--;for(let W=0;W<f;W++){const Z=m?f-1-W:W;for(let U=0;U<2;U++)h.get(F-U,Z)||(T++,N<<=1,this.bitMatrix.get(F-U,Z)&&(N|=1),T===8&&(y[C++]=N,T=0,N=0))}m=!m}if(C!==o.getTotalCodewords())throw new j;return y}remask(){if(this.parsedFormatInfo===null)return;const s=Er.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,l=s.getWidth();o<l;o++)for(let f=o+1,h=s.getHeight();f<h;f++)s.get(o,f)!==s.get(f,o)&&(s.flip(f,o),s.flip(o,f))}}class bl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,l){if(s.length!==o.getTotalCodewords())throw new E;const f=o.getECBlocksForLevel(l);let h=0;const m=f.getECBlocks();for(const U of m)h+=U.getCount();const y=new Array(h);let C=0;for(const U of m)for(let Y=0;Y<U.getCount();Y++){const X=U.getDataCodewords(),ne=f.getECCodewordsPerBlock()+X;y[C++]=new bl(X,new Uint8Array(ne))}const N=y[0].codewords.length;let T=y.length-1;for(;T>=0&&y[T].codewords.length!==N;)T--;T++;const F=N-f.getECCodewordsPerBlock();let W=0;for(let U=0;U<F;U++)for(let Y=0;Y<C;Y++)y[Y].codewords[U]=s[W++];for(let U=T;U<C;U++)y[U].codewords[F]=s[W++];const Z=y[0].codewords.length;for(let U=F;U<Z;U++)for(let Y=0;Y<C;Y++){const X=Y<T?U:U+1;y[Y].codewords[X]=s[W++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var jr;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(jr||(jr={}));class $e{constructor(s,o,l,f){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=f,$e.FOR_BITS.set(f,this),$e.FOR_VALUE.set(s,this)}static forBits(s){const o=$e.FOR_BITS.get(s);if(o===void 0)throw new E;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof $e))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.TERMINATOR=new $e(jr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),$e.NUMERIC=new $e(jr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),$e.ALPHANUMERIC=new $e(jr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),$e.STRUCTURED_APPEND=new $e(jr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),$e.BYTE=new $e(jr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),$e.ECI=new $e(jr.ECI,"ECI",Int32Array.from([0,0,0]),7),$e.KANJI=new $e(jr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),$e.FNC1_FIRST_POSITION=new $e(jr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),$e.FNC1_SECOND_POSITION=new $e(jr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),$e.HANZI=new $e(jr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class an{static decode(s,o,l,f){const h=new wl(s);let m=new re;const y=new Array;let C=-1,N=-1;try{let T=null,F=!1,W;do{if(h.available()<4)W=$e.TERMINATOR;else{const Z=h.readBits(4);W=$e.forBits(Z)}switch(W){case $e.TERMINATOR:break;case $e.FNC1_FIRST_POSITION:case $e.FNC1_SECOND_POSITION:F=!0;break;case $e.STRUCTURED_APPEND:if(h.available()<16)throw new j;C=h.readBits(8),N=h.readBits(8);break;case $e.ECI:const Z=an.parseECIValue(h);if(T=H.getCharacterSetECIByValue(Z),T===null)throw new j;break;case $e.HANZI:const U=h.readBits(4),Y=h.readBits(W.getCharacterCountBits(o));U===an.GB2312_SUBSET&&an.decodeHanziSegment(h,m,Y);break;default:const X=h.readBits(W.getCharacterCountBits(o));switch(W){case $e.NUMERIC:an.decodeNumericSegment(h,m,X);break;case $e.ALPHANUMERIC:an.decodeAlphanumericSegment(h,m,X,F);break;case $e.BYTE:an.decodeByteSegment(h,m,X,T,y,f);break;case $e.KANJI:an.decodeKanjiSegment(h,m,X);break;default:throw new j}break}}while(W!==$e.TERMINATOR)}catch{throw new j}return new Qt(s,m.toString(),y.length===0?null:y,l===null?null:l.toString(),C,N)}static decodeHanziSegment(s,o,l){if(l*13>s.available())throw new j;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=s.readBits(13);let y=m/96<<8&4294967295|m%96;y<959?y+=41377:y+=42657,f[h]=y>>8&255,f[h+1]=y&255,h+=2,l--}try{o.append(fe.decode(f,ae.GB2312))}catch(m){throw new j(m)}}static decodeKanjiSegment(s,o,l){if(l*13>s.available())throw new j;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=s.readBits(13);let y=m/192<<8&4294967295|m%192;y<7936?y+=33088:y+=49472,f[h]=y>>8,f[h+1]=y,h+=2,l--}try{o.append(fe.decode(f,ae.SHIFT_JIS))}catch(m){throw new j(m)}}static decodeByteSegment(s,o,l,f,h,m){if(8*l>s.available())throw new j;const y=new Uint8Array(l);for(let N=0;N<l;N++)y[N]=s.readBits(8);let C;f===null?C=ae.guessEncoding(y,m):C=f.getName();try{o.append(fe.decode(y,C))}catch(N){throw new j(N)}h.push(y)}static toAlphaNumericChar(s){if(s>=an.ALPHANUMERIC_CHARS.length)throw new j;return an.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,l,f){const h=o.length();for(;l>1;){if(s.available()<11)throw new j;const m=s.readBits(11);o.append(an.toAlphaNumericChar(Math.floor(m/45))),o.append(an.toAlphaNumericChar(m%45)),l-=2}if(l===1){if(s.available()<6)throw new j;o.append(an.toAlphaNumericChar(s.readBits(6)))}if(f)for(let m=h;m<o.length();m++)o.charAt(m)==="%"&&(m<o.length()-1&&o.charAt(m+1)==="%"?o.deleteCharAt(m+1):o.setCharAt(m,String.fromCharCode(29)))}static decodeNumericSegment(s,o,l){for(;l>=3;){if(s.available()<10)throw new j;const f=s.readBits(10);if(f>=1e3)throw new j;o.append(an.toAlphaNumericChar(Math.floor(f/100))),o.append(an.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(an.toAlphaNumericChar(f%10)),l-=3}if(l===2){if(s.available()<7)throw new j;const f=s.readBits(7);if(f>=100)throw new j;o.append(an.toAlphaNumericChar(Math.floor(f/10))),o.append(an.toAlphaNumericChar(f%10))}else if(l===1){if(s.available()<4)throw new j;const f=s.readBits(4);if(f>=10)throw new j;o.append(an.toAlphaNumericChar(f))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=s.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=s.readBits(16);return(o&31)<<16&4294967295|l}throw new j}}an.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",an.GB2312_SUBSET=1;class Uc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class Od{constructor(){this.rsDecoder=new Pn(dt.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(ve.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const l=new _a(s);let f=null;try{return this.decodeBitMatrixParser(l,o)}catch(h){f=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,o);return h.setOther(new Uc(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(s,o){const l=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),m=bl.getDataBlocks(h,l,f);let y=0;for(const T of m)y+=T.getNumDataCodewords();const C=new Uint8Array(y);let N=0;for(const T of m){const F=T.getCodewords(),W=T.getNumDataCodewords();this.correctErrors(F,W);for(let Z=0;Z<W;Z++)C[N++]=F[Z]}return an.decode(C,l,f,o)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new k}for(let f=0;f<o;f++)s[f]=l[f]}}class Cl extends Ne{constructor(s,o,l){super(s,o),this.estimatedModuleSize=l}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const f=(this.getX()+o)/2,h=(this.getY()+s)/2,m=(this.estimatedModuleSize+l)/2;return new Cl(f,h,m)}}class El{constructor(s,o,l,f,h,m,y){this.image=s,this.startX=o,this.startY=l,this.width=f,this.height=h,this.moduleSize=m,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,l=this.width,f=s+l,h=this.startY+o/2,m=new Int32Array(3),y=this.image;for(let C=0;C<o;C++){const N=h+(C&1?-Math.floor((C+1)/2):Math.floor((C+1)/2));m[0]=0,m[1]=0,m[2]=0;let T=s;for(;T<f&&!y.get(T,N);)T++;let F=0;for(;T<f;){if(y.get(T,N))if(F===1)m[1]++;else if(F===2){if(this.foundPatternCross(m)){const W=this.handlePossibleCenter(m,N,T);if(W!==null)return W}m[0]=m[2],m[1]=1,m[2]=0,F=1}else m[++F]++;else F===1&&F++,m[F]++;T++}if(this.foundPatternCross(m)){const W=this.handlePossibleCenter(m,N,f);if(W!==null)return W}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,l=o/2;for(let f=0;f<3;f++)if(Math.abs(o-s[f])>=l)return!1;return!0}crossCheckVertical(s,o,l,f){const h=this.image,m=h.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let C=s;for(;C>=0&&h.get(o,C)&&y[1]<=l;)y[1]++,C--;if(C<0||y[1]>l)return NaN;for(;C>=0&&!h.get(o,C)&&y[0]<=l;)y[0]++,C--;if(y[0]>l)return NaN;for(C=s+1;C<m&&h.get(o,C)&&y[1]<=l;)y[1]++,C++;if(C===m||y[1]>l)return NaN;for(;C<m&&!h.get(o,C)&&y[2]<=l;)y[2]++,C++;if(y[2]>l)return NaN;const N=y[0]+y[1]+y[2];return 5*Math.abs(N-f)>=2*f?NaN:this.foundPatternCross(y)?El.centerFromEnd(y,C):NaN}handlePossibleCenter(s,o,l){const f=s[0]+s[1]+s[2],h=El.centerFromEnd(s,l),m=this.crossCheckVertical(o,h,2*s[1],f);if(!isNaN(m)){const y=(s[0]+s[1]+s[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(y,m,h))return N.combineEstimate(m,h,y);const C=new Cl(h,m,y);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class zc extends Ne{constructor(s,o,l,f){super(s,o),this.estimatedModuleSize=l,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const f=this.count+1,h=(this.count*this.getX()+o)/f,m=(this.count*this.getY()+s)/f,y=(this.count*this.estimatedModuleSize+l)/f;return new zc(h,m,y,f)}}class fp{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Bn{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(z.TRY_HARDER)!==void 0,l=s!=null&&s.get(z.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),m=f.getWidth();let y=Math.floor(3*h/(4*Bn.MAX_MODULES));(y<Bn.MIN_SKIP||o)&&(y=Bn.MIN_SKIP);let C=!1;const N=new Int32Array(5);for(let F=y-1;F<h&&!C;F+=y){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let W=0;for(let Z=0;Z<m;Z++)if(f.get(Z,F))(W&1)===1&&W++,N[W]++;else if(W&1)N[W]++;else if(W===4)if(Bn.foundPatternCross(N)){if(this.handlePossibleCenter(N,F,Z,l)===!0)if(y=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>N[2]&&(F+=Y-N[2]-y,Z=m-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,W=3;continue}W=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,W=3;else N[++W]++;Bn.foundPatternCross(N)&&this.handlePossibleCenter(N,F,m,l)===!0&&(y=N[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return Ne.orderBestPatterns(T),new fp(T)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let h=0;h<5;h++){const m=s[h];if(m===0)return!1;o+=m}if(o<7)return!1;const l=o/7,f=l/2;return Math.abs(l-s[0])<f&&Math.abs(l-s[1])<f&&Math.abs(3*l-s[2])<3*f&&Math.abs(l-s[3])<f&&Math.abs(l-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,l,f){const h=this.getCrossCheckStateCount();let m=0;const y=this.image;for(;s>=m&&o>=m&&y.get(o-m,s-m);)h[2]++,m++;if(s<m||o<m)return!1;for(;s>=m&&o>=m&&!y.get(o-m,s-m)&&h[1]<=l;)h[1]++,m++;if(s<m||o<m||h[1]>l)return!1;for(;s>=m&&o>=m&&y.get(o-m,s-m)&&h[0]<=l;)h[0]++,m++;if(h[0]>l)return!1;const C=y.getHeight(),N=y.getWidth();for(m=1;s+m<C&&o+m<N&&y.get(o+m,s+m);)h[2]++,m++;if(s+m>=C||o+m>=N)return!1;for(;s+m<C&&o+m<N&&!y.get(o+m,s+m)&&h[3]<l;)h[3]++,m++;if(s+m>=C||o+m>=N||h[3]>=l)return!1;for(;s+m<C&&o+m<N&&y.get(o+m,s+m)&&h[4]<l;)h[4]++,m++;if(h[4]>=l)return!1;const T=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(T-f)<2*f&&Bn.foundPatternCross(h)}crossCheckVertical(s,o,l,f){const h=this.image,m=h.getHeight(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(o,C);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(o,C)&&y[1]<=l;)y[1]++,C--;if(C<0||y[1]>l)return NaN;for(;C>=0&&h.get(o,C)&&y[0]<=l;)y[0]++,C--;if(y[0]>l)return NaN;for(C=s+1;C<m&&h.get(o,C);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(o,C)&&y[3]<l;)y[3]++,C++;if(C===m||y[3]>=l)return NaN;for(;C<m&&h.get(o,C)&&y[4]<l;)y[4]++,C++;if(y[4]>=l)return NaN;const N=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(N-f)>=2*f?NaN:Bn.foundPatternCross(y)?Bn.centerFromEnd(y,C):NaN}crossCheckHorizontal(s,o,l,f){const h=this.image,m=h.getWidth(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(C,o);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(C,o)&&y[1]<=l;)y[1]++,C--;if(C<0||y[1]>l)return NaN;for(;C>=0&&h.get(C,o)&&y[0]<=l;)y[0]++,C--;if(y[0]>l)return NaN;for(C=s+1;C<m&&h.get(C,o);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(C,o)&&y[3]<l;)y[3]++,C++;if(C===m||y[3]>=l)return NaN;for(;C<m&&h.get(C,o)&&y[4]<l;)y[4]++,C++;if(y[4]>=l)return NaN;const N=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(N-f)>=f?NaN:Bn.foundPatternCross(y)?Bn.centerFromEnd(y,C):NaN}handlePossibleCenter(s,o,l,f){const h=s[0]+s[1]+s[2]+s[3]+s[4];let m=Bn.centerFromEnd(s,l),y=this.crossCheckVertical(o,Math.floor(m),s[2],h);if(!isNaN(y)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(y),s[2],h),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(y),Math.floor(m),s[2],h)))){const C=h/7;let N=!1;const T=this.possibleCenters;for(let F=0,W=T.length;F<W;F++){const Z=T[F];if(Z.aboutEquals(C,y,m)){T[F]=Z.combineEstimate(y,m,C),N=!0;break}}if(!N){const F=new zc(m,y,C);T.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=Bn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const l=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Bn.CENTER_QUORUM&&(s++,o+=m.getEstimatedModuleSize());if(s<3)return!1;const f=o/l;let h=0;for(const m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-f);return h<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ee;const o=this.possibleCenters;let l;if(s>3){let f=0,h=0;for(const C of this.possibleCenters){const N=C.getEstimatedModuleSize();f+=N,h+=N*N}l=f/s;let m=Math.sqrt(h/s-l*l);o.sort((C,N)=>{const T=Math.abs(N.getEstimatedModuleSize()-l),F=Math.abs(C.getEstimatedModuleSize()-l);return T<F?-1:T>F?1:0});const y=Math.max(.2*l,m);for(let C=0;C<o.length&&o.length>3;C++){const N=o[C];Math.abs(N.getEstimatedModuleSize()-l)>y&&(o.splice(C,1),C--)}}if(o.length>3){let f=0;for(const h of o)f+=h.getEstimatedModuleSize();l=f/o.length,o.sort((h,m)=>{if(m.getCount()===h.getCount()){const y=Math.abs(m.getEstimatedModuleSize()-l),C=Math.abs(h.getEstimatedModuleSize()-l);return y<C?1:y>C?-1:0}else return m.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Bn.CENTER_QUORUM=2,Bn.MIN_SKIP=3,Bn.MAX_MODULES=57;class wo{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(z.NEED_RESULT_POINT_CALLBACK);const l=new Bn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const o=s.getTopLeft(),l=s.getTopRight(),f=s.getBottomLeft(),h=this.calculateModuleSize(o,l,f);if(h<1)throw new ee("No pattern found in proccess finder.");const m=wo.computeDimension(o,l,f,h),y=qe.getProvisionalVersionForDimension(m),C=y.getDimensionForVersion()-7;let N=null;if(y.getAlignmentPatternCenters().length>0){const Z=l.getX()-o.getX()+f.getX(),U=l.getY()-o.getY()+f.getY(),Y=1-3/C,X=Math.floor(o.getX()+Y*(Z-o.getX())),ne=Math.floor(o.getY()+Y*(U-o.getY()));for(let he=4;he<=16;he<<=1)try{N=this.findAlignmentInRegion(h,X,ne,he);break}catch(xe){if(!(xe instanceof ee))throw xe}}const T=wo.createTransform(o,l,f,N,m),F=wo.sampleGrid(this.image,T,m);let W;return N===null?W=[f,o,l]:W=[f,o,l,N],new Fn(F,W)}static createTransform(s,o,l,f,h){const m=h-3.5;let y,C,N,T;return f!==null?(y=f.getX(),C=f.getY(),N=m-3,T=N):(y=o.getX()-s.getX()+l.getX(),C=o.getY()-s.getY()+l.getY(),N=m,T=m),At.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,N,T,3.5,m,s.getX(),s.getY(),o.getX(),o.getY(),y,C,l.getX(),l.getY())}static sampleGrid(s,o,l){return Ht.getInstance().sampleGridWithTransform(s,l,l,o)}static computeDimension(s,o,l,f){const h=Ke.round(Ne.distance(s,o)/f),m=Ke.round(Ne.distance(s,l)/f);let y=Math.floor((h+m)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new ee("Dimensions could be not found.")}return y}calculateModuleSize(s,o,l){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?f/7:isNaN(f)?l/7:(l+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,l,f){let h=this.sizeOfBlackWhiteBlackRun(s,o,l,f),m=1,y=s-(l-s);y<0?(m=s/(s-y),y=0):y>=this.image.getWidth()&&(m=(this.image.getWidth()-1-s)/(y-s),y=this.image.getWidth()-1);let C=Math.floor(o-(f-o)*m);return m=1,C<0?(m=o/(o-C),C=0):C>=this.image.getHeight()&&(m=(this.image.getHeight()-1-o)/(C-o),C=this.image.getHeight()-1),y=Math.floor(s+(y-s)*m),h+=this.sizeOfBlackWhiteBlackRun(s,o,y,C),h-1}sizeOfBlackWhiteBlackRun(s,o,l,f){const h=Math.abs(f-o)>Math.abs(l-s);if(h){let Z=s;s=o,o=Z,Z=l,l=f,f=Z}const m=Math.abs(l-s),y=Math.abs(f-o);let C=-m/2;const N=s<l?1:-1,T=o<f?1:-1;let F=0;const W=l+N;for(let Z=s,U=o;Z!==W;Z+=N){const Y=h?U:Z,X=h?Z:U;if(F===1===this.image.get(Y,X)){if(F===2)return Ke.distance(Z,U,s,o);F++}if(C+=y,C>0){if(U===f)break;U+=T,C-=m}}return F===2?Ke.distance(l+N,f,s,o):NaN}findAlignmentInRegion(s,o,l,f){const h=Math.floor(f*s),m=Math.max(0,o-h),y=Math.min(this.image.getWidth()-1,o+h);if(y-m<s*3)throw new ee("Alignment top exceeds estimated module size.");const C=Math.max(0,l-h),N=Math.min(this.image.getHeight()-1,l+h);if(N-C<s*3)throw new ee("Alignment bottom exceeds estimated module size.");return new El(this.image,m,C,y-m,N-C,s,this.resultPointCallback).find()}}class ps{constructor(){this.decoder=new Od}getDecoder(){return this.decoder}decode(s,o){let l,f;if(o!=null&&o.get(z.PURE_BARCODE)!==void 0){const C=ps.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(C,o),f=ps.NO_POINTS}else{const C=new wo(s.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(C.getBits(),o),f=C.getPoints()}l.getOther()instanceof Uc&&l.getOther().applyMirroredCorrection(f);const h=new gt(l.getText(),l.getRawBytes(),void 0,f,De.QR_CODE,void 0),m=l.getByteSegments();m!==null&&h.putMetadata(We.BYTE_SEGMENTS,m);const y=l.getECLevel();return y!==null&&h.putMetadata(We.ERROR_CORRECTION_LEVEL,y),l.hasStructuredAppend()&&(h.putMetadata(We.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(We.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o===null||l===null)throw new ee;const f=this.moduleSize(o,s);let h=o[1],m=l[1],y=o[0],C=l[0];if(y>=C||h>=m)throw new ee;if(m-h!==C-y&&(C=y+(m-h),C>=s.getWidth()))throw new ee;const N=Math.round((C-y+1)/f),T=Math.round((m-h+1)/f);if(N<=0||T<=0)throw new ee;if(T!==N)throw new ee;const F=Math.floor(f/2);h+=F,y+=F;const W=y+Math.floor((N-1)*f)-C;if(W>0){if(W>F)throw new ee;y-=W}const Z=h+Math.floor((T-1)*f)-m;if(Z>0){if(Z>F)throw new ee;h-=Z}const U=new ve(N,T);for(let Y=0;Y<T;Y++){const X=h+Math.floor(Y*f);for(let ne=0;ne<N;ne++)s.get(y+Math.floor(ne*f),X)&&U.set(ne,Y)}return U}static moduleSize(s,o){const l=o.getHeight(),f=o.getWidth();let h=s[0],m=s[1],y=!0,C=0;for(;h<f&&m<l;){if(y!==o.get(h,m)){if(++C===5)break;y=!y}h++,m++}if(h===f||m===l)throw new ee;return(h-s[0])/7}}ps.NO_POINTS=new Array;class Ze{PDF417Common(){}static getBitCountSum(s){return Ke.sum(s)}static toIntArray(s){if(s==null||!s.length)return Ze.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let l=0;for(const f of s)o[l++]=f;return o}static getCodeword(s){const o=D.binarySearch(Ze.SYMBOL_TABLE,s&262143);return o<0?-1:(Ze.CODEWORD_TABLE[o]-1)%Ze.NUMBER_OF_CODEWORDS}}Ze.NUMBER_OF_CODEWORDS=929,Ze.MAX_CODEWORDS_IN_BARCODE=Ze.NUMBER_OF_CODEWORDS-1,Ze.MIN_ROWS_IN_BARCODE=3,Ze.MAX_ROWS_IN_BARCODE=90,Ze.MODULES_IN_CODEWORD=17,Ze.MODULES_IN_STOP_PATTERN=18,Ze.BARS_IN_MODULE=8,Ze.EMPTY_INT_ARRAY=new Int32Array([]),Ze.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ze.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class hp{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class lt{static detectMultiple(s,o,l){let f=s.getBlackMatrix(),h=lt.detect(l,f);return h.length||(f=f.clone(),f.rotate180(),h=lt.detect(l,f)),new hp(f,h)}static detect(s,o){const l=new Array;let f=0,h=0,m=!1;for(;f<o.getHeight();){const y=lt.findVertices(o,f,h);if(y[0]==null&&y[3]==null){if(!m)break;m=!1,h=0;for(const C of l)C[1]!=null&&(f=Math.trunc(Math.max(f,C[1].getY()))),C[3]!=null&&(f=Math.max(f,Math.trunc(C[3].getY())));f+=lt.ROW_STEP;continue}if(m=!0,l.push(y),!s)break;y[2]!=null?(h=Math.trunc(y[2].getX()),f=Math.trunc(y[2].getY())):(h=Math.trunc(y[4].getX()),f=Math.trunc(y[4].getY()))}return l}static findVertices(s,o,l){const f=s.getHeight(),h=s.getWidth(),m=new Array(8);return lt.copyToResult(m,lt.findRowsWithPattern(s,f,h,o,l,lt.START_PATTERN),lt.INDEXES_START_PATTERN),m[4]!=null&&(l=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY())),lt.copyToResult(m,lt.findRowsWithPattern(s,f,h,o,l,lt.STOP_PATTERN),lt.INDEXES_STOP_PATTERN),m}static copyToResult(s,o,l){for(let f=0;f<l.length;f++)s[l[f]]=o[f]}static findRowsWithPattern(s,o,l,f,h,m){const y=new Array(4);let C=!1;const N=new Int32Array(m.length);for(;f<o;f+=lt.ROW_STEP){let F=lt.findGuardPattern(s,h,f,l,!1,m,N);if(F!=null){for(;f>0;){const W=lt.findGuardPattern(s,h,--f,l,!1,m,N);if(W!=null)F=W;else{f++;break}}y[0]=new Ne(F[0],f),y[1]=new Ne(F[1],f),C=!0;break}}let T=f+1;if(C){let F=0,W=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;T<o;T++){const Z=lt.findGuardPattern(s,W[0],T,l,!1,m,N);if(Z!=null&&Math.abs(W[0]-Z[0])<lt.MAX_PATTERN_DRIFT&&Math.abs(W[1]-Z[1])<lt.MAX_PATTERN_DRIFT)W=Z,F=0;else{if(F>lt.SKIPPED_ROW_COUNT_MAX)break;F++}}T-=F+1,y[2]=new Ne(W[0],T),y[3]=new Ne(W[1],T)}return T-f<lt.BARCODE_MIN_HEIGHT&&D.fill(y,null),y}static findGuardPattern(s,o,l,f,h,m,y){D.fillWithin(y,0,y.length,0);let C=o,N=0;for(;s.get(C,l)&&C>0&&N++<lt.MAX_PIXEL_DRIFT;)C--;let T=C,F=0,W=m.length;for(let Z=h;T<f;T++)if(s.get(T,l)!==Z)y[F]++;else{if(F===W-1){if(lt.patternMatchVariance(y,m,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return new Int32Array([C,T]);C+=y[0]+y[1],R.arraycopy(y,2,y,0,F-1),y[F-1]=0,y[F]=0,F--}else F++;y[F]=1,Z=!Z}return F===W-1&&lt.patternMatchVariance(y,m,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE?new Int32Array([C,T-1]):null}static patternMatchVariance(s,o,l){let f=s.length,h=0,m=0;for(let N=0;N<f;N++)h+=s[N],m+=o[N];if(h<m)return 1/0;let y=h/m;l*=y;let C=0;for(let N=0;N<f;N++){let T=s[N],F=o[N]*y,W=T>F?T-F:F-T;if(W>l)return 1/0;C+=W}return C/h}}lt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),lt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),lt.MAX_AVG_VARIANCE=.42,lt.MAX_INDIVIDUAL_VARIANCE=.8,lt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),lt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),lt.MAX_PIXEL_DRIFT=3,lt.MAX_PATTERN_DRIFT=5,lt.SKIPPED_ROW_COUNT_MAX=25,lt.ROW_STEP=5,lt.BARCODE_MIN_HEIGHT=10;class nr{constructor(s,o){if(o.length===0)throw new E;this.field=s;let l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-f),R.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let o=this.coefficients[0],l=this.coefficients.length;for(let f=1;f<l;f++)o=this.field.add(this.field.multiply(s,o),this.coefficients[f]);return o}add(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){let m=o;o=l,l=m}let f=new Int32Array(l.length),h=l.length-o.length;R.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=this.field.add(o[m-h],l[m]);return new nr(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof nr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new nr(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,f=s.coefficients,h=f.length,m=new Int32Array(l+h-1);for(let y=0;y<l;y++){let C=o[y];for(let N=0;N<h;N++)m[y+N]=this.field.add(m[y+N],this.field.multiply(C,f[N]))}return new nr(this.field,m)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let l=0;l<s;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new nr(this.field,o)}multiplyScalar(s){if(s===0)return new nr(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let f=0;f<o;f++)l[f]=this.field.multiply(this.coefficients[f],s);return new nr(this.field,l)}multiplyByMonomial(s,o){if(s<0)throw new E;if(o===0)return new nr(this.field,new Int32Array([0]));let l=this.coefficients.length,f=new Int32Array(l+s);for(let h=0;h<l;h++)f[h]=this.field.multiply(this.coefficients[h],o);return new nr(this.field,f)}toString(){let s=new re;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(o===0||l!==1)&&s.append(l),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class pp{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new E;return this.logTable[s]}inverse(s){if(s===0)throw new pn;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Wc extends pp{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let f=0;f<s;f++)this.expTable[f]=l,l=l*o%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new nr(this,new Int32Array([0])),this.one=new nr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new E;if(o===0)return this.zero;let l=new Int32Array(s+1);return l[0]=o,new nr(this,l)}}Wc.PDF417_GF=new Wc(Ze.NUMBER_OF_CODEWORDS,3);class jd{constructor(){this.field=Wc.PDF417_GF}decode(s,o,l){let f=new nr(this.field,s),h=new Int32Array(o),m=!1;for(let U=o;U>0;U--){let Y=f.evaluateAt(this.field.exp(U));h[o-U]=Y,Y!==0&&(m=!0)}if(!m)return 0;let y=this.field.getOne();if(l!=null)for(const U of l){let Y=this.field.exp(s.length-1-U),X=new nr(this.field,new Int32Array([this.field.subtract(0,Y),1]));y=y.multiply(X)}let C=new nr(this.field,h),N=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),C,o),T=N[0],F=N[1],W=this.findErrorLocations(T),Z=this.findErrorMagnitudes(F,T,W);for(let U=0;U<W.length;U++){let Y=s.length-1-this.field.log(W[U]);if(Y<0)throw k.getChecksumInstance();s[Y]=this.field.subtract(s[Y],Z[U])}return W.length}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){let W=s;s=o,o=W}let f=s,h=o,m=this.field.getZero(),y=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let W=f,Z=m;if(f=h,m=y,f.isZero())throw k.getChecksumInstance();h=W;let U=this.field.getZero(),Y=f.getCoefficient(f.getDegree()),X=this.field.inverse(Y);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let ne=h.getDegree()-f.getDegree(),he=this.field.multiply(h.getCoefficient(h.getDegree()),X);U=U.add(this.field.buildMonomial(ne,he)),h=h.subtract(f.multiplyByMonomial(ne,he))}y=U.multiply(m).subtract(Z).negative()}let C=y.getCoefficient(0);if(C===0)throw k.getChecksumInstance();let N=this.field.inverse(C),T=y.multiply(N),F=h.multiply(N);return[T,F]}findErrorLocations(s){let o=s.getDegree(),l=new Int32Array(o),f=0;for(let h=1;h<this.field.getSize()&&f<o;h++)s.evaluateAt(h)===0&&(l[f]=this.field.inverse(h),f++);if(f!==o)throw k.getChecksumInstance();return l}findErrorMagnitudes(s,o,l){let f=o.getDegree(),h=new Int32Array(f);for(let N=1;N<=f;N++)h[f-N]=this.field.multiply(N,o.getCoefficient(N));let m=new nr(this.field,h),y=l.length,C=new Int32Array(y);for(let N=0;N<y;N++){let T=this.field.inverse(l[N]),F=this.field.subtract(0,s.evaluateAt(T)),W=this.field.inverse(m.evaluateAt(T));C[N]=this.field.multiply(F,W)}return C}}class Us{constructor(s,o,l,f,h){s instanceof Us?this.constructor_2(s):this.constructor_1(s,o,l,f,h)}constructor_1(s,o,l,f,h){const m=o==null||l==null,y=f==null||h==null;if(m&&y)throw new ee;m?(o=new Ne(0,f.getY()),l=new Ne(0,h.getY())):y&&(f=new Ne(s.getWidth()-1,o.getY()),h=new Ne(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=o,this.bottomLeft=l,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new Us(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,l){let f=this.topLeft,h=this.bottomLeft,m=this.topRight,y=this.bottomRight;if(s>0){let C=l?this.topLeft:this.topRight,N=Math.trunc(C.getY()-s);N<0&&(N=0);let T=new Ne(C.getX(),N);l?f=T:m=T}if(o>0){let C=l?this.bottomLeft:this.bottomRight,N=Math.trunc(C.getY()+o);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let T=new Ne(C.getX(),N);l?h=T:y=T}return new Us(this.image,f,h,m,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class tn{constructor(s,o,l,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Mt{constructor(){this.buffer=""}static form(s,o){let l=-1;function f(m,y,C,N,T,F){if(m==="%%")return"%";if(o[++l]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let W=T?parseInt(T.substr(1)):void 0,Z;switch(F){case"s":Z=o[l];break;case"c":Z=o[l][0];break;case"f":Z=parseFloat(o[l]).toFixed(m);break;case"p":Z=parseFloat(o[l]).toPrecision(m);break;case"e":Z=parseFloat(o[l]).toExponential(m);break;case"x":Z=parseInt(o[l]).toString(W||16);break;case"d":Z=parseFloat(parseInt(o[l],W||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(W);let U=parseInt(C),Y=C&&C[0]+""=="0"?"0":" ";for(;Z.length<U;)Z=y!==void 0?Z+Y:Y+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}format(s,...o){this.buffer+=Mt.form(s,o)}toString(){return this.buffer}}class bo{constructor(s){this.boundingBox=new Us(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let l=1;l<bo.MAX_NEARBY_DISTANCE;l++){let f=this.imageRowToCodewordIndex(s)-l;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(s)+l,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Mt;let o=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return s.toString()}}bo.MAX_NEARBY_DISTANCE=5;class Co{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[l,f]of this.values.entries()){const h={getKey:()=>l,getValue:()=>f};h.getValue()>s?(s=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===s&&o.push(h.getKey())}return Ze.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Md extends bo{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),C=-1,N=1,T=0;for(let F=m;F<y;F++){if(o[F]==null)continue;let W=o[F],Z=W.getRowNumber()-C;if(Z===0)T++;else if(Z===1)N=Math.max(N,T),T=1,C=W.getRowNumber();else if(Z<0||W.getRowNumber()>=s.getRowCount()||Z>F)o[F]=null;else{let U;N>2?U=(N-2)*Z:U=Z;let Y=U>=F;for(let X=1;X<=U&&!Y;X++)Y=o[F-X]!=null;Y?o[F]=null:(C=W.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let f=l.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.getCodewords(),C=-1;for(let N=h;N<m;N++){if(y[N]==null)continue;let T=y[N];T.setRowNumberAsRowIndicatorColumn();let F=T.getRowNumber()-C;F===0||(F===1?C=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?y[N]=null:C=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new Co,l=new Co,f=new Co,h=new Co;for(let y of s){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let C=y.getValue()%30,N=y.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:l.setValue(C*3+1);break;case 1:h.setValue(C/3),f.setValue(C%3);break;case 2:o.setValue(C+1);break}}if(o.getValue().length===0||l.getValue().length===0||f.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+f.getValue()[0]<Ze.MIN_ROWS_IN_BARCODE||l.getValue()[0]+f.getValue()[0]>Ze.MAX_ROWS_IN_BARCODE)return null;let m=new tn(o.getValue()[0],l.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,m),m}removeIncorrectCodewords(s,o){for(let l=0;l<s.length;l++){let f=s[l];if(s[l]==null)continue;let h=f.getValue()%30,m=f.getRowNumber();if(m>o.getRowCount()){s[l]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(s[l]=null);break;case 2:h+1!==o.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Eo{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Ze.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let f=0;f<l.length;f++)l[f]!=null&&(l[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&o[l]!=null&&s[l].getRowNumber()===o[l].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[l];h!=null&&(h.setRowNumber(s[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),h=0;for(let m=this.barcodeColumnCount+1;m>0&&h<this.ADJUST_ROW_NUMBER_SKIP;m--){let y=this.detectionResultColumns[m].getCodewords()[l];y!=null&&(h=Eo.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),h=0;for(let m=1;m<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;m++){let y=this.detectionResultColumns[m].getCodewords()[l];y!=null&&(h=Eo.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,l){if(!this.detectionResultColumns[s-1])return;let f=l[o],h=this.detectionResultColumns[s-1].getCodewords(),m=h;this.detectionResultColumns[s+1]!=null&&(m=this.detectionResultColumns[s+1].getCodewords());let y=new Array(14);y[2]=h[o],y[3]=m[o],o>0&&(y[0]=l[o-1],y[4]=h[o-1],y[5]=m[o-1]),o>1&&(y[8]=l[o-2],y[10]=h[o-2],y[11]=m[o-2]),o<l.length-1&&(y[1]=l[o+1],y[6]=h[o+1],y[7]=m[o+1]),o<l.length-2&&(y[9]=l[o+2],y[12]=h[o+2],y[13]=m[o+2]);for(let C of y)if(Eo.adjustRowNumber(f,C))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Mt;for(let l=0;l<s.getCodewords().length;l++){o.format("CW %3d:",l);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[l];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class No{constructor(s,o,l,f){this.rowNumber=No.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==No.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}No.BARCODE_ROW_UNKNOWN=-1;class Nr{static initialize(){for(let s=0;s<Ze.SYMBOL_TABLE.length;s++){let o=Ze.SYMBOL_TABLE[s],l=o&1;for(let f=0;f<Ze.BARS_IN_MODULE;f++){let h=0;for(;(o&1)===l;)h+=1,o>>=1;l=o&1,Nr.RATIOS_TABLE[s]||(Nr.RATIOS_TABLE[s]=new Array(Ze.BARS_IN_MODULE)),Nr.RATIOS_TABLE[s][Ze.BARS_IN_MODULE-f-1]=Math.fround(h/Ze.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Nr.getDecodedCodewordValue(Nr.sampleBitCounts(s));return o!==-1?o:Nr.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=Ke.sum(s),l=new Int32Array(Ze.BARS_IN_MODULE),f=0,h=0;for(let m=0;m<Ze.MODULES_IN_CODEWORD;m++){let y=o/(2*Ze.MODULES_IN_CODEWORD)+m*o/Ze.MODULES_IN_CODEWORD;h+s[f]<=y&&(h+=s[f],f++),l[f]++}return l}static getDecodedCodewordValue(s){let o=Nr.getBitValue(s);return Ze.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let l=0;l<s.length;l++)for(let f=0;f<s[l];f++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=Ke.sum(s),l=new Array(Ze.BARS_IN_MODULE);if(o>1)for(let m=0;m<l.length;m++)l[m]=Math.fround(s[m]/o);let f=Ie.MAX_VALUE,h=-1;this.bSymbolTableReady||Nr.initialize();for(let m=0;m<Nr.RATIOS_TABLE.length;m++){let y=0,C=Nr.RATIOS_TABLE[m];for(let N=0;N<Ze.BARS_IN_MODULE;N++){let T=Math.fround(C[N]-l[N]);if(y+=Math.fround(T*T),y>=f)break}y<f&&(f=y,h=Ze.SYMBOL_TABLE[m])}return h}}Nr.bSymbolTableReady=!1,Nr.RATIOS_TABLE=new Array(Ze.SYMBOL_TABLE.length).map(P=>new Array(Ze.BARS_IN_MODULE));class Hc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Ld{static parseLong(s,o=void 0){return parseInt(s,o)}}class $n extends x{}$n.kind="NullPointerException";class qc{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,l){if(s==null)throw new $n;if(o<0||o>s.length||l<0||o+l>s.length||o+l<0)throw new M;if(l===0)return;for(let f=0;f<l;f++)this.write(s[o+f])}flush(){}close(){}}class zs extends x{}class Pd extends qc{constructor(s=32){if(super(),this.count=0,s<0)throw new E("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new zs;l=O.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,l){if(o<0||o>s.length||l<0||o+l-s.length>0)throw new M;this.ensureCapacity(this.count+l),R.arraycopy(s,o,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Lt;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Lt||(Lt={}));function Mr(){if(typeof window<"u")return window.BigInt||null;if(typeof _s<"u")return _s.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _o;function $i(P){if(typeof _o>"u"&&(_o=Mr()),_o===null)throw new Error("BigInt is not supported!");return _o(P)}function Fd(){let P=[];P[0]=$i(1);let s=$i(900);P[1]=s;for(let o=2;o<16;o++)P[o]=P[o-1]*s;return P}class de{static decode(s,o){let l=new re(""),f=H.ISO8859_1;l.enableDecoding(f);let h=1,m=s[h++],y=new Hc;for(;h<s[0];){switch(m){case de.TEXT_COMPACTION_MODE_LATCH:h=de.textCompaction(s,h,l);break;case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:h=de.byteCompaction(m,s,f,h,l);break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[h++]);break;case de.NUMERIC_COMPACTION_MODE_LATCH:h=de.numericCompaction(s,h,l);break;case de.ECI_CHARSET:H.getCharacterSetECIByValue(s[h++]);break;case de.ECI_GENERAL_PURPOSE:h+=2;break;case de.ECI_USER_DEFINED:h++;break;case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=de.decodeMacroBlock(s,h,y);break;case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:throw new j;default:h--,h=de.textCompaction(s,h,l);break}if(h<s.length)m=s[h++];else throw j.getFormatInstance()}if(l.length()===0)throw j.getFormatInstance();let C=new Qt(null,l.toString(),null,o);return C.setOther(y),C}static decodeMacroBlock(s,o,l){if(o+de.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw j.getFormatInstance();let f=new Int32Array(de.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<de.NUMBER_OF_SEQUENCE_CODEWORDS;y++,o++)f[y]=s[o];l.setSegmentIndex(O.parseInt(de.decodeBase900toBase10(f,de.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new re;o=de.textCompaction(s,o,h),l.setFileId(h.toString());let m=-1;for(s[o]===de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=o+1);o<s[0];)switch(s[o]){case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case de.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new re;o=de.textCompaction(s,o+1,y),l.setFileName(y.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new re;o=de.textCompaction(s,o+1,C),l.setSender(C.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new re;o=de.textCompaction(s,o+1,N),l.setAddressee(N.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new re;o=de.numericCompaction(s,o+1,T),l.setSegmentCount(O.parseInt(T.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new re;o=de.numericCompaction(s,o+1,F),l.setTimestamp(Ld.parseLong(F.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let W=new re;o=de.numericCompaction(s,o+1,W),l.setChecksum(O.parseInt(W.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new re;o=de.numericCompaction(s,o+1,Z),l.setFileSize(Ld.parseLong(Z.toString()));break;default:throw j.getFormatInstance()}break;case de.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(m!==-1){let y=o-m;l.isLastSegment()&&y--,l.setOptionalData(D.copyOfRange(s,m,m+y))}return o}static textCompaction(s,o,l){let f=new Int32Array((s[0]-o)*2),h=new Int32Array((s[0]-o)*2),m=0,y=!1;for(;o<s[0]&&!y;){let C=s[o++];if(C<de.TEXT_COMPACTION_MODE_LATCH)f[m]=C/30,f[m+1]=C%30,m+=2;else switch(C){case de.TEXT_COMPACTION_MODE_LATCH:f[m++]=de.TEXT_COMPACTION_MODE_LATCH;break;case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:o--,y=!0;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=s[o++],h[m]=C,m++;break}}return de.decodeTextCompaction(f,h,m,l),o}static decodeTextCompaction(s,o,l,f){let h=Lt.ALPHA,m=Lt.ALPHA,y=0;for(;y<l;){let C=s[y],N="";switch(h){case Lt.ALPHA:if(C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case de.LL:h=Lt.LOWER;break;case de.ML:h=Lt.MIXED;break;case de.PS:m=h,h=Lt.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case de.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.LOWER:if(C<26)N=String.fromCharCode(97+C);else switch(C){case 26:N=" ";break;case de.AS:m=h,h=Lt.ALPHA_SHIFT;break;case de.ML:h=Lt.MIXED;break;case de.PS:m=h,h=Lt.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case de.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.MIXED:if(C<de.PL)N=de.MIXED_CHARS[C];else switch(C){case de.PL:h=Lt.PUNCT;break;case 26:N=" ";break;case de.LL:h=Lt.LOWER;break;case de.AL:h=Lt.ALPHA;break;case de.PS:m=h,h=Lt.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case de.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.PUNCT:if(C<de.PAL)N=de.PUNCT_CHARS[C];else switch(C){case de.PAL:h=Lt.ALPHA;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case de.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.ALPHA_SHIFT:if(h=m,C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case de.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.PUNCT_SHIFT:if(h=m,C<de.PAL)N=de.PUNCT_CHARS[C];else switch(C){case de.PAL:h=Lt.ALPHA;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case de.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break}N!==""&&f.append(N),y++}}static byteCompaction(s,o,l,f,h){let m=new Pd,y=0,C=0,N=!1;switch(s){case de.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),F=o[f++];for(;f<o[0]&&!N;)switch(T[y++]=F,C=900*C+F,F=o[f++],F){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:f--,N=!0;break;default:if(y%5===0&&y>0){for(let W=0;W<6;++W)m.write(Number($i(C)>>$i(8*(5-W))));C=0,y=0}break}f===o[0]&&F<de.TEXT_COMPACTION_MODE_LATCH&&(T[y++]=F);for(let W=0;W<y;W++)m.write(T[W]);break;case de.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!N;){let W=o[f++];if(W<de.TEXT_COMPACTION_MODE_LATCH)y++,C=900*C+W;else switch(W){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:f--,N=!0;break}if(y%5===0&&y>0){for(let Z=0;Z<6;++Z)m.write(Number($i(C)>>$i(8*(5-Z))));C=0,y=0}}break}return h.append(fe.decode(m.toByteArray(),l)),f}static numericCompaction(s,o,l){let f=0,h=!1,m=new Int32Array(de.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!h;){let y=s[o++];if(o===s[0]&&(h=!0),y<de.TEXT_COMPACTION_MODE_LATCH)m[f]=y,f++;else switch(y){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(f%de.MAX_NUMERIC_CODEWORDS===0||y===de.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(l.append(de.decodeBase900toBase10(m,f)),f=0)}return o}static decodeBase900toBase10(s,o){let l=$i(0);for(let h=0;h<o;h++)l+=de.EXP900[o-h-1]*$i(s[h]);let f=l.toString();if(f.charAt(0)!=="1")throw new j;return f.substring(1)}}de.TEXT_COMPACTION_MODE_LATCH=900,de.BYTE_COMPACTION_MODE_LATCH=901,de.NUMERIC_COMPACTION_MODE_LATCH=902,de.BYTE_COMPACTION_MODE_LATCH_6=924,de.ECI_USER_DEFINED=925,de.ECI_GENERAL_PURPOSE=926,de.ECI_CHARSET=927,de.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,de.MACRO_PDF417_TERMINATOR=922,de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,de.MAX_NUMERIC_CODEWORDS=15,de.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,de.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,de.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,de.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,de.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,de.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,de.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,de.PL=25,de.LL=27,de.AS=27,de.ML=28,de.AL=28,de.PS=29,de.PAL=29,de.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,de.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",de.EXP900=Mr()?Fd():[],de.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ft{constructor(){}static decode(s,o,l,f,h,m,y){let C=new Us(s,o,l,f,h),N=null,T=null,F;for(let U=!0;;U=!1){if(o!=null&&(N=ft.getRowIndicatorColumn(s,C,o,!0,m,y)),f!=null&&(T=ft.getRowIndicatorColumn(s,C,f,!1,m,y)),F=ft.merge(N,T),F==null)throw ee.getNotFoundInstance();let Y=F.getBoundingBox();if(U&&Y!=null&&(Y.getMinY()<C.getMinY()||Y.getMaxY()>C.getMaxY()))C=Y;else break}F.setBoundingBox(C);let W=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,N),F.setDetectionResultColumn(W,T);let Z=N!=null;for(let U=1;U<=W;U++){let Y=Z?U:W-U;if(F.getDetectionResultColumn(Y)!==void 0)continue;let X;Y===0||Y===W?X=new Md(C,Y===0):X=new bo(C),F.setDetectionResultColumn(Y,X);let ne=-1,he=ne;for(let xe=C.getMinY();xe<=C.getMaxY();xe++){if(ne=ft.getStartColumn(F,Y,xe,Z),ne<0||ne>C.getMaxX()){if(he===-1)continue;ne=he}let ye=ft.detectCodeword(s,C.getMinX(),C.getMaxX(),Z,ne,xe,m,y);ye!=null&&(X.setCodeword(xe,ye),he=ne,m=Math.min(m,ye.getWidth()),y=Math.max(y,ye.getWidth()))}}return ft.createDecoderResult(F)}static merge(s,o){if(s==null&&o==null)return null;let l=ft.getBarcodeMetadata(s,o);if(l==null)return null;let f=Us.merge(ft.adjustBoundingBox(s),ft.adjustBoundingBox(o));return new Eo(l,f)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let l=ft.getMax(o),f=0;for(let y of o)if(f+=l-y,y>0)break;let h=s.getCodewords();for(let y=0;f>0&&h[y]==null;y++)f--;let m=0;for(let y=o.length-1;y>=0&&(m+=l-o[y],!(o[y]>0));y--);for(let y=h.length-1;m>0&&h[y]==null;y--)m--;return s.getBoundingBox().addMissingRows(f,m,s.isLeft())}static getMax(s){let o=-1;for(let l of s)o=Math.max(o,l);return o}static getBarcodeMetadata(s,o){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==f.getColumnCount()&&l.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&l.getRowCount()!==f.getRowCount()?null:l}static getRowIndicatorColumn(s,o,l,f,h,m){let y=new Md(o,f);for(let C=0;C<2;C++){let N=C===0?1:-1,T=Math.trunc(Math.trunc(l.getX()));for(let F=Math.trunc(Math.trunc(l.getY()));F<=o.getMaxY()&&F>=o.getMinY();F+=N){let W=ft.detectCodeword(s,0,s.getWidth(),f,T,F,h,m);W!=null&&(y.setCodeword(F,W),f?T=W.getStartX():T=W.getEndX())}}return y}static adjustCodewordCount(s,o){let l=o[0][1],f=l.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-ft.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(h<1||h>Ze.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();l.setValue(h)}else f[0]!==h&&l.setValue(h)}static createDecoderResult(s){let o=ft.createBarcodeMatrix(s);ft.adjustCodewordCount(s,o);let l=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],m=new Array;for(let C=0;C<s.getBarcodeRowCount();C++)for(let N=0;N<s.getBarcodeColumnCount();N++){let T=o[C][N+1].getValue(),F=C*s.getBarcodeColumnCount()+N;T.length===0?l.push(F):T.length===1?f[F]=T[0]:(m.push(F),h.push(T))}let y=new Array(h.length);for(let C=0;C<y.length;C++)y[C]=h[C];return ft.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,Ze.toIntArray(l),Ze.toIntArray(m),y)}static createDecoderResultFromAmbiguousValues(s,o,l,f,h){let m=new Int32Array(f.length),y=100;for(;y-- >0;){for(let C=0;C<m.length;C++)o[f[C]]=h[C][m[C]];try{return ft.decodeCodewords(o,s,l)}catch(C){if(!(C instanceof k))throw C}if(m.length===0)throw k.getChecksumInstance();for(let C=0;C<m.length;C++)if(m[C]<h[C].length-1){m[C]++;break}else if(m[C]=0,C===m.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let h=0;h<o[f].length;h++)o[f][h]=new Co;let l=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][l].setValue(h.getValue())}}}l++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,l,f){let h=f?1:-1,m=null;if(ft.isValidBarcodeColumn(s,o-h)&&(m=s.getDetectionResultColumn(o-h).getCodeword(l)),m!=null)return f?m.getEndX():m.getStartX();if(m=s.getDetectionResultColumn(o).getCodewordNearby(l),m!=null)return f?m.getStartX():m.getEndX();if(ft.isValidBarcodeColumn(s,o-h)&&(m=s.getDetectionResultColumn(o-h).getCodewordNearby(l)),m!=null)return f?m.getEndX():m.getStartX();let y=0;for(;ft.isValidBarcodeColumn(s,o-h);){o-=h;for(let C of s.getDetectionResultColumn(o).getCodewords())if(C!=null)return(f?C.getEndX():C.getStartX())+h*y*(C.getEndX()-C.getStartX());y++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,l,f,h,m,y,C){h=ft.adjustCodewordStartColumn(s,o,l,f,h,m);let N=ft.getModuleBitCount(s,o,l,f,h,m);if(N==null)return null;let T,F=Ke.sum(N);if(f)T=h+F;else{for(let U=0;U<N.length/2;U++){let Y=N[U];N[U]=N[N.length-1-U],N[N.length-1-U]=Y}T=h,h=T-F}if(!ft.checkCodewordSkew(F,y,C))return null;let W=Nr.getDecodedValue(N),Z=Ze.getCodeword(W);return Z===-1?null:new No(h,T,ft.getCodewordBucketNumber(W),Z)}static getModuleBitCount(s,o,l,f,h,m){let y=h,C=new Int32Array(8),N=0,T=f?1:-1,F=f;for(;(f?y<l:y>=o)&&N<C.length;)s.get(y,m)===F?(C[N]++,y+=T):(N++,F=!F);return N===C.length||y===(f?l:o)&&N===C.length-1?C:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,l,f,h,m){let y=h,C=f?-1:1;for(let N=0;N<2;N++){for(;(f?y>=o:y<l)&&f===s.get(y,m);){if(Math.abs(h-y)>ft.CODEWORD_SKEW_SIZE)return h;y+=C}C=-C,f=!f}return y}static checkCodewordSkew(s,o,l){return o-ft.CODEWORD_SKEW_SIZE<=s&&s<=l+ft.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,l){if(s.length===0)throw j.getFormatInstance();let f=1<<o+1,h=ft.correctErrors(s,l,f);ft.verifyCodewordCount(s,f);let m=de.decode(s,""+o);return m.setErrorsCorrected(h),m.setErasures(l.length),m}static correctErrors(s,o,l){if(o!=null&&o.length>l/2+ft.MAX_ERRORS||l<0||l>ft.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return ft.errorCorrection.decode(s,l,o)}static verifyCodewordCount(s,o){if(s.length<4)throw j.getFormatInstance();let l=s[0];if(l>s.length)throw j.getFormatInstance();if(l===0)if(o<s.length)s[0]=s.length-o;else throw j.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),l=0,f=o.length-1;for(;!((s&1)!==l&&(l=s&1,f--,f<0));)o[f]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return ft.getCodewordBucketNumber(ft.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Mt;for(let l=0;l<s.length;l++){o.format("Row %2d: ",l);for(let f=0;f<s[l].length;f++){let h=s[l][f];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}ft.CODEWORD_SKEW_SIZE=2,ft.MAX_ERRORS=3,ft.MAX_EC_CODEWORDS=512,ft.errorCorrection=new jd;class Xn{decode(s,o=null){let l=Xn.decode(s,o,!1);if(l==null||l.length===0||l[0]==null)throw ee.getNotFoundInstance();return l[0]}decodeMultiple(s,o=null){try{return Xn.decode(s,o,!0)}catch(l){throw l instanceof j||l instanceof k?ee.getNotFoundInstance():l}}static decode(s,o,l){const f=new Array,h=lt.detectMultiple(s,o,l);for(const m of h.getPoints()){const y=ft.decode(h.getBits(),m[4],m[5],m[6],m[7],Xn.getMinCodewordWidth(m),Xn.getMaxCodewordWidth(m)),C=new gt(y.getText(),y.getRawBytes(),void 0,m,De.PDF_417);C.putMetadata(We.ERROR_CORRECTION_LEVEL,y.getECLevel());const N=y.getOther();N!=null&&C.putMetadata(We.PDF417_EXTRA_METADATA,N),f.push(C)}return f.map(m=>m)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?O.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Xn.getMaxWidth(s[0],s[4]),Xn.getMaxWidth(s[6],s[2])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN),Math.max(Xn.getMaxWidth(s[1],s[5]),Xn.getMaxWidth(s[7],s[3])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Xn.getMinWidth(s[0],s[4]),Xn.getMinWidth(s[6],s[2])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN),Math.min(Xn.getMinWidth(s[1],s[5]),Xn.getMinWidth(s[7],s[3])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN)))}reset(){}}class or extends x{}or.kind="ReaderException";class Bd{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!r(s)&&s.get(z.TRY_HARDER)===!0,l=r(s)?null:s.get(z.POSSIBLE_FORMATS),f=new Array;if(!r(l)){const h=l.some(m=>m===De.UPC_A||m===De.UPC_E||m===De.EAN_13||m===De.EAN_8||m===De.CODABAR||m===De.CODE_39||m===De.CODE_93||m===De.CODE_128||m===De.ITF||m===De.RSS_14||m===De.RSS_EXPANDED);h&&!o&&f.push(new Bs(s,this.verbose)),l.includes(De.QR_CODE)&&f.push(new ps),l.includes(De.DATA_MATRIX)&&f.push(new li),l.includes(De.AZTEC)&&f.push(new Ni),l.includes(De.PDF_417)&&f.push(new Xn),h&&o&&f.push(new Bs(s,this.verbose))}f.length===0&&(o||f.push(new Bs(s,this.verbose)),f.push(new ps),f.push(new li),f.push(new Ni),f.push(new Xn),o&&f.push(new Bs(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new or("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(l){if(l instanceof or)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class $r extends sn{constructor(s=null,o=500){const l=new Bd;l.setHints(s),super(l,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class mp extends sn{constructor(s=500){super(new Xn,s)}}class Ud extends sn{constructor(s=500){super(new ps,s)}}var ki;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(ki||(ki={}));var gn=ki;class So{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Ft(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let l=o[o.length-1];const f=this.field;for(let h=o.length;h<=s;h++){const m=l.multiply(new Ft(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));o.push(m),l=m}}return o[s]}encode(s,o){if(o===0)throw new E("No error correction bytes");const l=s.length-o;if(l<=0)throw new E("No data bytes provided");const f=this.buildGenerator(o),h=new Int32Array(l);R.arraycopy(s,0,h,0,l);let m=new Ft(this.field,h);m=m.multiplyByMonomial(o,1);const C=m.divide(f)[1].getCoefficients(),N=o-C.length;for(let T=0;T<N;T++)s[l+T]=0;R.arraycopy(C,0,s,l+N,C.length)}}class st{constructor(){}static applyMaskPenaltyRule1(s){return st.applyMaskPenaltyRule1Internal(s,!0)+st.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const l=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h-1;m++){const y=l[m];for(let C=0;C<f-1;C++){const N=y[C];N===y[C+1]&&N===l[m+1][C]&&N===l[m+1][C+1]&&o++}}return st.N2*o}static applyMaskPenaltyRule3(s){let o=0;const l=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h;m++)for(let y=0;y<f;y++){const C=l[m];y+6<f&&C[y]===1&&C[y+1]===0&&C[y+2]===1&&C[y+3]===1&&C[y+4]===1&&C[y+5]===0&&C[y+6]===1&&(st.isWhiteHorizontal(C,y-4,y)||st.isWhiteHorizontal(C,y+7,y+11))&&o++,m+6<h&&l[m][y]===1&&l[m+1][y]===0&&l[m+2][y]===1&&l[m+3][y]===1&&l[m+4][y]===1&&l[m+5][y]===0&&l[m+6][y]===1&&(st.isWhiteVertical(l,y,m-4,m)||st.isWhiteVertical(l,y,m+7,m+11))&&o++}return o*st.N3}static isWhiteHorizontal(s,o,l){o=Math.max(o,0),l=Math.min(l,s.length);for(let f=o;f<l;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,o,l,f){l=Math.max(l,0),f=Math.min(f,s.length);for(let h=l;h<f;h++)if(s[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const l=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let C=0;C<h;C++){const N=l[C];for(let T=0;T<f;T++)N[T]===1&&o++}const m=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-m)*10/m)*st.N4}static getDataMaskBit(s,o,l){let f,h;switch(s){case 0:f=l+o&1;break;case 1:f=l&1;break;case 2:f=o%3;break;case 3:f=(l+o)%3;break;case 4:f=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:h=l*o,f=(h&1)+h%3;break;case 6:h=l*o,f=(h&1)+h%3&1;break;case 7:h=l*o,f=h%3+(l+o&1)&1;break;default:throw new E("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,o){let l=0;const f=o?s.getHeight():s.getWidth(),h=o?s.getWidth():s.getHeight(),m=s.getArray();for(let y=0;y<f;y++){let C=0,N=-1;for(let T=0;T<h;T++){const F=o?m[y][T]:m[T][y];F===N?C++:(C>=5&&(l+=st.N1+(C-5)),C=1,N=F)}C>=5&&(l+=st.N1+(C-5))}return l}}st.N1=3,st.N2=3,st.N3=40,st.N4=10;class ci{constructor(s,o){this.width=s,this.height=o;const l=new Array(o);for(let f=0;f!==o;f++)l[f]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,l){this.bytes[o][s]=l}setBoolean(s,o,l){this.bytes[o][s]=l?1:0}clear(s){for(const o of this.bytes)D.fill(o,s)}equals(s){if(!(s instanceof ci))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,f=this.height;l<f;++l){const h=this.bytes[l],m=o.bytes[l];for(let y=0,C=this.width;y<C;++y)if(h[y]!==m[y])return!1}return!0}toString(){const s=new re;for(let o=0,l=this.height;o<l;++o){const f=this.bytes[o];for(let h=0,m=this.width;h<m;++h)switch(f[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new re;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Xi.NUM_MASK_PATTERNS}}Xi.NUM_MASK_PATTERNS=8;class Yt extends x{}Yt.kind="WriterException";class Xe{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,l,f,h){Xe.clearMatrix(h),Xe.embedBasicPatterns(l,h),Xe.embedTypeInfo(o,f,h),Xe.maybeEmbedVersionInfo(l,h),Xe.embedDataBits(s,f,h)}static embedBasicPatterns(s,o){Xe.embedPositionDetectionPatternsAndSeparators(o),Xe.embedDarkDotAtLeftBottomCorner(o),Xe.maybeEmbedPositionAdjustmentPatterns(s,o),Xe.embedTimingPatterns(o)}static embedTypeInfo(s,o,l){const f=new q;Xe.makeTypeInfoBits(s,o,f);for(let h=0,m=f.getSize();h<m;++h){const y=f.get(f.getSize()-1-h),C=Xe.TYPE_INFO_COORDINATES[h],N=C[0],T=C[1];if(l.setBoolean(N,T,y),h<8){const F=l.getWidth()-h-1,W=8;l.setBoolean(F,W,y)}else{const W=l.getHeight()-7+(h-8);l.setBoolean(8,W,y)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const l=new q;Xe.makeVersionInfoBits(s,l);let f=6*3-1;for(let h=0;h<6;++h)for(let m=0;m<3;++m){const y=l.get(f);f--,o.setBoolean(h,o.getHeight()-11+m,y),o.setBoolean(o.getHeight()-11+m,h,y)}}static embedDataBits(s,o,l){let f=0,h=-1,m=l.getWidth()-1,y=l.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);y>=0&&y<l.getHeight();){for(let C=0;C<2;++C){const N=m-C;if(!Xe.isEmpty(l.get(N,y)))continue;let T;f<s.getSize()?(T=s.get(f),++f):T=!1,o!==255&&st.getDataMaskBit(o,N,y)&&(T=!T),l.setBoolean(N,y,T)}y+=h}h=-h,y+=h,m-=2}if(f!==s.getSize())throw new Yt("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-O.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new E("0 polynomial");const l=Xe.findMSBSet(o);for(s<<=l-1;Xe.findMSBSet(s)>=l;)s^=o<<Xe.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,o,l){if(!Xi.isValidMaskPattern(o))throw new Yt("Invalid mask pattern");const f=s.getBits()<<3|o;l.appendBits(f,5);const h=Xe.calculateBCHCode(f,Xe.TYPE_INFO_POLY);l.appendBits(h,10);const m=new q;if(m.appendBits(Xe.TYPE_INFO_MASK_PATTERN,15),l.xor(m),l.getSize()!==15)throw new Yt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const l=Xe.calculateBCHCode(s.getVersionNumber(),Xe.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new Yt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const l=(o+1)%2;Xe.isEmpty(s.get(o,6))&&s.setNumber(o,6,l),Xe.isEmpty(s.get(6,o))&&s.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Yt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,l){for(let f=0;f<8;++f){if(!Xe.isEmpty(l.get(s+f,o)))throw new Yt;l.setNumber(s+f,o,0)}}static embedVerticalSeparationPattern(s,o,l){for(let f=0;f<7;++f){if(!Xe.isEmpty(l.get(s,o+f)))throw new Yt;l.setNumber(s,o+f,0)}}static embedPositionAdjustmentPattern(s,o,l){for(let f=0;f<5;++f){const h=Xe.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)l.setNumber(s+m,o+f,h[m])}}static embedPositionDetectionPattern(s,o,l){for(let f=0;f<7;++f){const h=Xe.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)l.setNumber(s+m,o+f,h[m])}}static embedPositionDetectionPatternsAndSeparators(s){const o=Xe.POSITION_DETECTION_PATTERN[0].length;Xe.embedPositionDetectionPattern(0,0,s),Xe.embedPositionDetectionPattern(s.getWidth()-o,0,s),Xe.embedPositionDetectionPattern(0,s.getWidth()-o,s);const l=8;Xe.embedHorizontalSeparationPattern(0,l-1,s),Xe.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Xe.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const f=7;Xe.embedVerticalSeparationPattern(f,0,s),Xe.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),Xe.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,f=Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,m=f.length;h!==m;h++){const y=f[h];if(y>=0)for(let C=0;C!==m;C++){const N=f[C];N>=0&&Xe.isEmpty(o.get(N,y))&&Xe.embedPositionAdjustmentPattern(N-2,y-2,o)}}}}Xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Xe.VERSION_INFO_POLY=7973,Xe.TYPE_INFO_POLY=1335,Xe.TYPE_INFO_MASK_PATTERN=21522;class gp{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class nn{constructor(){}static calculateMaskPenalty(s){return st.applyMaskPenaltyRule1(s)+st.applyMaskPenaltyRule2(s)+st.applyMaskPenaltyRule3(s)+st.applyMaskPenaltyRule4(s)}static encode(s,o,l=null){let f=nn.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(gn.CHARACTER_SET)!==void 0;h&&(f=l.get(gn.CHARACTER_SET).toString());const m=this.chooseMode(s,f),y=new q;if(m===$e.BYTE&&(h||nn.DEFAULT_BYTE_MODE_ENCODING!==f)){const xe=H.getCharacterSetECIByName(f);xe!==void 0&&this.appendECI(xe,y)}this.appendModeInfo(m,y);const C=new q;this.appendBytes(s,m,C,f);let N;if(l!==null&&l.get(gn.QR_VERSION)!==void 0){const xe=Number.parseInt(l.get(gn.QR_VERSION).toString(),10);N=qe.getVersionForNumber(xe);const ye=this.calculateBitsNeeded(m,y,C,N);if(!this.willFit(ye,N,o))throw new Yt("Data too big for requested version")}else N=this.recommendVersion(o,m,y,C);const T=new q;T.appendBitArray(y);const F=m===$e.BYTE?C.getSizeInBytes():s.length;this.appendLengthInfo(F,N,m,T),T.appendBitArray(C);const W=N.getECBlocksForLevel(o),Z=N.getTotalCodewords()-W.getTotalECCodewords();this.terminateBits(Z,T);const U=this.interleaveWithECBytes(T,N.getTotalCodewords(),Z,W.getNumBlocks()),Y=new Xi;Y.setECLevel(o),Y.setMode(m),Y.setVersion(N);const X=N.getDimensionForVersion(),ne=new ci(X,X),he=this.chooseMaskPattern(U,o,N,ne);return Y.setMaskPattern(he),Xe.buildMatrix(U,o,N,he,ne),Y.setMatrix(ne),Y}static recommendVersion(s,o,l,f){const h=this.calculateBitsNeeded(o,l,f,qe.getVersionForNumber(1)),m=this.chooseVersion(h,s),y=this.calculateBitsNeeded(o,l,f,m);return this.chooseVersion(y,s)}static calculateBitsNeeded(s,o,l,f){return o.getSize()+s.getCharacterCountBits(f)+l.getSize()}static getAlphanumericCode(s){return s<nn.ALPHANUMERIC_TABLE.length?nn.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(H.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return $e.KANJI;let l=!1,f=!1;for(let h=0,m=s.length;h<m;++h){const y=s.charAt(h);if(nn.isDigit(y))l=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)f=!0;else return $e.BYTE}return f?$e.ALPHANUMERIC:l?$e.NUMERIC:$e.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=fe.encode(s,H.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let f=0;f<l;f+=2){const h=o[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,o,l,f){let h=Number.MAX_SAFE_INTEGER,m=-1;for(let y=0;y<Xi.NUM_MASK_PATTERNS;y++){Xe.buildMatrix(s,o,l,y,f);let C=this.calculateMaskPenalty(f);C<h&&(h=C,m=y)}return m}static chooseVersion(s,o){for(let l=1;l<=40;l++){const f=qe.getVersionForNumber(l);if(nn.willFit(s,f,o))return f}throw new Yt("Data too big")}static willFit(s,o,l){const f=o.getTotalCodewords(),m=o.getECBlocksForLevel(l).getTotalECCodewords(),y=f-m,C=(s+7)/8;return y>=C}static terminateBits(s,o){const l=s*8;if(o.getSize()>l)throw new Yt("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let m=0;m<4&&o.getSize()<l;++m)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let m=f;m<8;m++)o.appendBit(!1);const h=s-o.getSizeInBytes();for(let m=0;m<h;++m)o.appendBits(m&1?17:236,8);if(o.getSize()!==l)throw new Yt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,l,f,h,m){if(f>=l)throw new Yt("Block ID too large");const y=s%l,C=l-y,N=Math.floor(s/l),T=N+1,F=Math.floor(o/l),W=F+1,Z=N-F,U=T-W;if(Z!==U)throw new Yt("EC bytes mismatch");if(l!==C+y)throw new Yt("RS blocks mismatch");if(s!==(F+Z)*C+(W+U)*y)throw new Yt("Total bytes mismatch");f<C?(h[0]=F,m[0]=Z):(h[0]=W,m[0]=U)}static interleaveWithECBytes(s,o,l,f){if(s.getSizeInBytes()!==l)throw new Yt("Number of bits and data bytes does not match");let h=0,m=0,y=0;const C=new Array;for(let T=0;T<f;++T){const F=new Int32Array(1),W=new Int32Array(1);nn.getNumDataBytesAndNumECBytesForBlockID(o,l,f,T,F,W);const Z=F[0],U=new Uint8Array(Z);s.toBytes(8*h,U,0,Z);const Y=nn.generateECBytes(U,W[0]);C.push(new gp(U,Y)),m=Math.max(m,Z),y=Math.max(y,Y.length),h+=F[0]}if(l!==h)throw new Yt("Data bytes does not match offset");const N=new q;for(let T=0;T<m;++T)for(const F of C){const W=F.getDataBytes();T<W.length&&N.appendBits(W[T],8)}for(let T=0;T<y;++T)for(const F of C){const W=F.getErrorCorrectionBytes();T<W.length&&N.appendBits(W[T],8)}if(o!==N.getSizeInBytes())throw new Yt("Interleaving error: "+o+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(s,o){const l=s.length,f=new Int32Array(l+o);for(let m=0;m<l;m++)f[m]=s[m]&255;new So(dt.QR_CODE_FIELD_256).encode(f,o);const h=new Uint8Array(o);for(let m=0;m<o;m++)h[m]=f[l+m];return h}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,l,f){const h=l.getCharacterCountBits(o);if(s>=1<<h)throw new Yt(s+" is bigger than "+((1<<h)-1));f.appendBits(s,h)}static appendBytes(s,o,l,f){switch(o){case $e.NUMERIC:nn.appendNumericBytes(s,l);break;case $e.ALPHANUMERIC:nn.appendAlphanumericBytes(s,l);break;case $e.BYTE:nn.append8BitBytes(s,l,f);break;case $e.KANJI:nn.appendKanjiBytes(s,l);break;default:throw new Yt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=nn.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const l=s.length;let f=0;for(;f<l;){const h=nn.getDigit(s.charAt(f));if(f+2<l){const m=nn.getDigit(s.charAt(f+1)),y=nn.getDigit(s.charAt(f+2));o.appendBits(h*100+m*10+y,10),f+=3}else if(f+1<l){const m=nn.getDigit(s.charAt(f+1));o.appendBits(h*10+m,7),f+=2}else o.appendBits(h,4),f++}}static appendAlphanumericBytes(s,o){const l=s.length;let f=0;for(;f<l;){const h=nn.getAlphanumericCode(s.charCodeAt(f));if(h===-1)throw new Yt;if(f+1<l){const m=nn.getAlphanumericCode(s.charCodeAt(f+1));if(m===-1)throw new Yt;o.appendBits(h*45+m,11),f+=2}else o.appendBits(h,6),f++}}static append8BitBytes(s,o,l){let f;try{f=fe.encode(s,l)}catch(h){throw new Yt(h)}for(let h=0,m=f.length;h!==m;h++){const y=f[h];o.appendBits(y,8)}}static appendKanjiBytes(s,o){let l;try{l=fe.encode(s,H.SJIS)}catch(h){throw new Yt(h)}const f=l.length;for(let h=0;h<f;h+=2){const m=l[h]&255,y=l[h+1]&255,C=m<<8&4294967295|y;let N=-1;if(C>=33088&&C<=40956?N=C-33088:C>=57408&&C<=60351&&(N=C-49472),N===-1)throw new Yt("Invalid byte sequence");const T=(N>>8)*192+(N&255);o.appendBits(T,13)}}static appendECI(s,o){o.appendBits($e.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}nn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),nn.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class Ws{write(s,o,l,f=null){if(s.length===0)throw new E("Found empty contents");if(o<0||l<0)throw new E("Requested dimensions are too small: "+o+"x"+l);let h=Vt.L,m=Ws.QUIET_ZONE_SIZE;f!==null&&(f.get(gn.ERROR_CORRECTION)!==void 0&&(h=Vt.fromString(f.get(gn.ERROR_CORRECTION).toString())),f.get(gn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(gn.MARGIN).toString(),10)));const y=nn.encode(s,h,f);return this.renderResult(y,o,l,m)}writeToDom(s,o,l,f,h=null){typeof s=="string"&&(s=document.querySelector(s));const m=this.write(o,l,f,h);s&&s.appendChild(m)}renderResult(s,o,l,f){const h=s.getMatrix();if(h===null)throw new Qe;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,N=y+f*2,T=Math.max(o,C),F=Math.max(l,N),W=Math.min(Math.floor(T/C),Math.floor(F/N)),Z=Math.floor((T-m*W)/2),U=Math.floor((F-y*W)/2),Y=this.createSVGElement(T,F);for(let X=0,ne=U;X<y;X++,ne+=W)for(let he=0,xe=Z;he<m;he++,xe+=W)if(h.get(he,X)===1){const ye=this.createSvgRectElement(xe,ne,W,W);Y.appendChild(ye)}return Y}createSVGElement(s,o){const l=document.createElementNS(Ws.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(s,o,l,f){const h=document.createElementNS(Ws.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Ws.QUIET_ZONE_SIZE=4,Ws.SVG_NS="http://www.w3.org/2000/svg";class Hs{encode(s,o,l,f,h){if(s.length===0)throw new E("Found empty contents");if(o!==De.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(l<0||f<0)throw new E(`Requested dimensions are too small: ${l}x${f}`);let m=Vt.L,y=Hs.QUIET_ZONE_SIZE;h!==null&&(h.get(gn.ERROR_CORRECTION)!==void 0&&(m=Vt.fromString(h.get(gn.ERROR_CORRECTION).toString())),h.get(gn.MARGIN)!==void 0&&(y=Number.parseInt(h.get(gn.MARGIN).toString(),10)));const C=nn.encode(s,m,h);return Hs.renderResult(C,l,f,y)}static renderResult(s,o,l,f){const h=s.getMatrix();if(h===null)throw new Qe;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,N=y+f*2,T=Math.max(o,C),F=Math.max(l,N),W=Math.min(Math.floor(T/C),Math.floor(F/N)),Z=Math.floor((T-m*W)/2),U=Math.floor((F-y*W)/2),Y=new ve(T,F);for(let X=0,ne=U;X<y;X++,ne+=W)for(let he=0,xe=Z;he<m;he++,xe+=W)h.get(he,X)===1&&Y.setRegion(xe,ne,W,W);return Y}}Hs.QUIET_ZONE_SIZE=4;class Nl{encode(s,o,l,f,h){let m;switch(o){case De.QR_CODE:m=new Hs;break;default:throw new E("No encoder available for format "+o)}return m.encode(s,o,l,f,h)}}class gr extends ce{constructor(s,o,l,f,h,m,y,C){if(super(m,y),this.yuvData=s,this.dataWidth=o,this.dataHeight=l,this.left=f,this.top=h,f+m>o||h+y>l)throw new E("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(m,y)}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(s+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,f,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=s*o,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return R.arraycopy(this.yuvData,h,f,0,l),f;for(let m=0;m<o;m++){const y=m*s;R.arraycopy(this.yuvData,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,l,f){return new gr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,l,f,!1)}renderThumbnail(){const s=this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*o),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let m=0;m<o;m++){const y=m*s;for(let C=0;C<s;C++){const N=f[h+C*gr.THUMBNAIL_SCALE_FACTOR]&255;l[y+C]=4278190080|N*65793}h+=this.dataWidth*gr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const l=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<o;f++,h+=this.dataWidth){const m=h+s/2;for(let y=h,C=h+s-1;y<m;y++,C--){const N=l[y];l[y]=l[C],l[C]=N}}}invert(){return new Se(this)}}gr.THUMBNAIL_SCALE_FACTOR=2;class Vc extends ce{constructor(s,o,l,f,h,m,y){if(super(o,l),this.dataWidth=f,this.dataHeight=h,this.left=m,this.top=y,s.BYTES_PER_ELEMENT===4){const C=o*l,N=new Uint8ClampedArray(C);for(let T=0;T<C;T++){const F=s[T],W=F>>16&255,Z=F>>7&510,U=F&255;N[T]=(W+Z+U)/4&255}this.luminances=N}else this.luminances=s;if(f===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=l),m===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(s+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,f,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=s*o,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return R.arraycopy(this.luminances,h,f,0,l),f;for(let m=0;m<o;m++){const y=m*s;R.arraycopy(this.luminances,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,l,f){return new Vc(this.luminances,l,f,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new Se(this)}}class Yc extends H{static forName(s){return this.getCharacterSetECIByName(s)}}class _l{}_l.ISO_8859_1=H.ISO8859_1;class Sl{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Al{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class zd{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Sa extends zd{constructor(s,o,l){super(s),this.value=o,this.bitCount=l}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Sa(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Sa(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+O.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Ao extends Sa{constructor(s,o,l){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(s,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(s,o){return new Ao(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Gc(P,s,o){return new Ao(P,s,o)}function To(P,s,o){return new Sa(P,s,o)}const Wd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Dn=0,Aa=1,lr=2,$c=3,ui=4,xp=new Sa(null,0,0),Xc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function vp(P){for(let s of P)D.fill(s,-1);return P[Dn][ui]=0,P[Aa][ui]=0,P[Aa][Dn]=28,P[$c][ui]=0,P[lr][ui]=0,P[lr][Dn]=15,P}const Hd=vp(D.createInt32Array(6,6));class Di{constructor(s,o,l,f){this.token=s,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let l=this.bitCount,f=this.token;if(s!==this.mode){let m=Xc[this.mode][s];f=To(f,m&65535,m>>16),l+=m>>16}let h=s===lr?4:5;return f=To(f,o,h),new Di(f,s,0,l+h)}shiftAndAppend(s,o){let l=this.token,f=this.mode===lr?4:5;return l=To(l,Hd[this.mode][s],f),l=To(l,o,5),new Di(l,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let o=this.token,l=this.mode,f=this.bitCount;if(this.mode===ui||this.mode===lr){let y=Xc[l][Dn];o=To(o,y&65535,y>>16),f+=y>>16,l=Dn}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Di(o,l,this.binaryShiftByteCount+1,f+h);return m.binaryShiftByteCount===2047+31&&(m=m.endBinaryShift(s+1)),m}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Gc(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Di(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(Xc[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=Di.calculateBinaryShiftCost(s)-Di.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())o.unshift(f);let l=new q;for(const f of o)f.appendTo(l,s);return l}toString(){return ae.format("%s bits=%d bytes=%d",Wd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Di.INITIAL_STATE=new Di(xp,Dn,0,0);function Ta(P){const s=ae.getCharCode(" "),o=ae.getCharCode("."),l=ae.getCharCode(",");P[Dn][s]=1;const f=ae.getCharCode("Z"),h=ae.getCharCode("A");for(let W=h;W<=f;W++)P[Dn][W]=W-h+2;P[Aa][s]=1;const m=ae.getCharCode("z"),y=ae.getCharCode("a");for(let W=y;W<=m;W++)P[Aa][W]=W-y+2;P[lr][s]=1;const C=ae.getCharCode("9"),N=ae.getCharCode("0");for(let W=N;W<=C;W++)P[lr][W]=W-N+2;P[lr][l]=12,P[lr][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let W=0;W<T.length;W++)P[$c][ae.getCharCode(T[W])]=W;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let W=0;W<F.length;W++)ae.getCharCode(F[W])>0&&(P[ui][ae.getCharCode(F[W])]=W);return P}const Qc=Ta(D.createInt32Array(5,256));class ko{constructor(s){this.text=s}encode(){const s=ae.getCharCode(" "),o=ae.getCharCode(`
`);let l=Al.singletonList(Di.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let m,y=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ae.getCharCode("\r"):m=y===o?2:0;break;case ae.getCharCode("."):m=y===s?3:0;break;case ae.getCharCode(","):m=y===s?4:0;break;case ae.getCharCode(":"):m=y===s?5:0;break;default:m=0}m>0?(l=ko.updateStateListForPair(l,h,m),h++):l=this.updateStateListForChar(l,h)}return Al.min(l,(h,m)=>h.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const l=[];for(let f of s)this.updateStateForChar(f,o,l);return ko.simplifyStates(l)}updateStateForChar(s,o,l){let f=this.text[o]&255,h=Qc[s.getMode()][f]>0,m=null;for(let y=0;y<=ui;y++){let C=Qc[y][f];if(C>0){if(m==null&&(m=s.endBinaryShift(o)),!h||y===s.getMode()||y===lr){const N=m.latchAndAppend(y,C);l.push(N)}if(!h&&Hd[s.getMode()][y]>=0){const N=m.shiftAndAppend(y,C);l.push(N)}}}if(s.getBinaryShiftByteCount()>0||Qc[s.getMode()][f]===0){let y=s.addBinaryShiftChar(o);l.push(y)}}static updateStateListForPair(s,o,l){const f=[];for(let h of s)this.updateStateForPair(h,o,l,f);return this.simplifyStates(f)}static updateStateForPair(s,o,l,f){let h=s.endBinaryShift(o);if(f.push(h.latchAndAppend(ui,l)),s.getMode()!==ui&&f.push(h.shiftAndAppend(ui,l)),l===3||l===4){let m=h.latchAndAppend(lr,16-l).latchAndAppend(lr,1);f.push(m)}if(s.getBinaryShiftByteCount()>0){let m=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(m)}}static simplifyStates(s){let o=[];for(const l of s){let f=!0;for(const h of o){if(h.isBetterThanOrEqualTo(l)){f=!1;break}l.isBetterThanOrEqualTo(h)&&(o=o.filter(m=>m!==h))}f&&o.push(l)}return o}}class wt{constructor(){}static encodeBytes(s){return wt.encode(s,wt.DEFAULT_EC_PERCENT,wt.DEFAULT_AZTEC_LAYERS)}static encode(s,o,l){let f=new ko(s).encode(),h=O.truncDivision(f.getSize()*o,100)+11,m=f.getSize()+h,y,C,N,T,F;if(l!==wt.DEFAULT_AZTEC_LAYERS){if(y=l<0,C=Math.abs(l),C>(y?wt.MAX_NB_BITS_COMPACT:wt.MAX_NB_BITS))throw new E(ae.format("Illegal value %s for layers",l));N=wt.totalBitsInLayer(C,y),T=wt.WORD_SIZE[C];let ye=N-N%T;if(F=wt.stuffBits(f,T),F.getSize()+h>ye)throw new E("Data to large for user specified layer");if(y&&F.getSize()>T*64)throw new E("Data to large for user specified layer")}else{T=0,F=null;for(let ye=0;;ye++){if(ye>wt.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(y=ye<=3,C=y?ye+1:ye,N=wt.totalBitsInLayer(C,y),m>N)continue;(F==null||T!==wt.WORD_SIZE[C])&&(T=wt.WORD_SIZE[C],F=wt.stuffBits(f,T));let ze=N-N%T;if(!(y&&F.getSize()>T*64)&&F.getSize()+h<=ze)break}}let W=wt.generateCheckWords(F,N,T),Z=F.getSize()/T,U=wt.generateModeMessage(y,C,Z),Y=(y?11:14)+C*4,X=new Int32Array(Y),ne;if(y){ne=Y;for(let ye=0;ye<X.length;ye++)X[ye]=ye}else{ne=Y+1+2*O.truncDivision(O.truncDivision(Y,2)-1,15);let ye=O.truncDivision(Y,2),ze=O.truncDivision(ne,2);for(let ot=0;ot<ye;ot++){let _r=ot+O.truncDivision(ot,15);X[ye-ot-1]=ze-_r-1,X[ye+ot]=ze+_r+1}}let he=new ve(ne);for(let ye=0,ze=0;ye<C;ye++){let ot=(C-ye)*4+(y?9:12);for(let _r=0;_r<ot;_r++){let xn=_r*2;for(let rr=0;rr<2;rr++)W.get(ze+xn+rr)&&he.set(X[ye*2+rr],X[ye*2+_r]),W.get(ze+ot*2+xn+rr)&&he.set(X[ye*2+_r],X[Y-1-ye*2-rr]),W.get(ze+ot*4+xn+rr)&&he.set(X[Y-1-ye*2-rr],X[Y-1-ye*2-_r]),W.get(ze+ot*6+xn+rr)&&he.set(X[Y-1-ye*2-_r],X[ye*2+rr])}ze+=ot*8}if(wt.drawModeMessage(he,y,ne,U),y)wt.drawBullsEye(he,O.truncDivision(ne,2),5);else{wt.drawBullsEye(he,O.truncDivision(ne,2),7);for(let ye=0,ze=0;ye<O.truncDivision(Y,2)-1;ye+=15,ze+=16)for(let ot=O.truncDivision(ne,2)&1;ot<ne;ot+=2)he.set(O.truncDivision(ne,2)-ze,ot),he.set(O.truncDivision(ne,2)+ze,ot),he.set(ot,O.truncDivision(ne,2)-ze),he.set(ot,O.truncDivision(ne,2)+ze)}let xe=new Sl;return xe.setCompact(y),xe.setSize(ne),xe.setLayers(C),xe.setCodeWords(Z),xe.setMatrix(he),xe}static drawBullsEye(s,o,l){for(let f=0;f<l;f+=2)for(let h=o-f;h<=o+f;h++)s.set(h,o-f),s.set(h,o+f),s.set(o-f,h),s.set(o+f,h);s.set(o-l,o-l),s.set(o-l+1,o-l),s.set(o-l,o-l+1),s.set(o+l,o-l),s.set(o+l,o-l+1),s.set(o+l,o+l-1)}static generateModeMessage(s,o,l){let f=new q;return s?(f.appendBits(o-1,2),f.appendBits(l-1,6),f=wt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(l-1,11),f=wt.generateCheckWords(f,40,4)),f}static drawModeMessage(s,o,l,f){let h=O.truncDivision(l,2);if(o)for(let m=0;m<7;m++){let y=h-3+m;f.get(m)&&s.set(y,h-5),f.get(m+7)&&s.set(h+5,y),f.get(20-m)&&s.set(y,h+5),f.get(27-m)&&s.set(h-5,y)}else for(let m=0;m<10;m++){let y=h-5+m+O.truncDivision(m,5);f.get(m)&&s.set(y,h-7),f.get(m+10)&&s.set(h+7,y),f.get(29-m)&&s.set(y,h+7),f.get(39-m)&&s.set(h-7,y)}}static generateCheckWords(s,o,l){let f=s.getSize()/l,h=new So(wt.getGF(l)),m=O.truncDivision(o,l),y=wt.bitsToWords(s,l,m);h.encode(y,m-f);let C=o%l,N=new q;N.appendBits(0,C);for(const T of Array.from(y))N.appendBits(T,l);return N}static bitsToWords(s,o,l){let f=new Int32Array(l),h,m;for(h=0,m=s.getSize()/o;h<m;h++){let y=0;for(let C=0;C<o;C++)y|=s.get(h*o+C)?1<<o-C-1:0;f[h]=y}return f}static getGF(s){switch(s){case 4:return dt.AZTEC_PARAM;case 6:return dt.AZTEC_DATA_6;case 8:return dt.AZTEC_DATA_8;case 10:return dt.AZTEC_DATA_10;case 12:return dt.AZTEC_DATA_12;default:throw new E("Unsupported word size "+s)}}static stuffBits(s,o){let l=new q,f=s.getSize(),h=(1<<o)-2;for(let m=0;m<f;m+=o){let y=0;for(let C=0;C<o;C++)(m+C>=f||s.get(m+C))&&(y|=1<<o-1-C);(y&h)===h?(l.appendBits(y&h,o),m--):y&h?l.appendBits(y,o):(l.appendBits(y|1,o),m--)}return l}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}wt.DEFAULT_EC_PERCENT=33,wt.DEFAULT_AZTEC_LAYERS=0,wt.MAX_NB_BITS=32,wt.MAX_NB_BITS_COMPACT=4,wt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Do{encode(s,o,l,f){return this.encodeWithHints(s,o,l,f,null)}encodeWithHints(s,o,l,f,h){let m=_l.ISO_8859_1,y=wt.DEFAULT_EC_PERCENT,C=wt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(gn.CHARACTER_SET)&&(m=Yc.forName(h.get(gn.CHARACTER_SET).toString())),h.has(gn.ERROR_CORRECTION)&&(y=O.parseInt(h.get(gn.ERROR_CORRECTION).toString())),h.has(gn.AZTEC_LAYERS)&&(C=O.parseInt(h.get(gn.AZTEC_LAYERS).toString()))),Do.encodeLayers(s,o,l,f,m,y,C)}static encodeLayers(s,o,l,f,h,m,y){if(o!==De.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let C=wt.encode(ae.getBytes(s,h),m,y);return Do.renderResult(C,l,f)}static renderResult(s,o,l){let f=s.getMatrix();if(f==null)throw new Qe;let h=f.getWidth(),m=f.getHeight(),y=Math.max(o,h),C=Math.max(l,m),N=Math.min(y/h,C/m),T=(y-h*N)/2,F=(C-m*N)/2,W=new ve(y,C);for(let Z=0,U=F;Z<m;Z++,U+=N)for(let Y=0,X=T;Y<h;Y++,X+=N)f.get(Y,Z)&&W.setRegion(X,U,N,N);return W}}n.AbstractExpandedDecoder=Pc,n.ArgumentException=b,n.ArithmeticException=pn,n.AztecCode=Sl,n.AztecCodeReader=Ni,n.AztecCodeWriter=Do,n.AztecDecoder=ct,n.AztecDetector=si,n.AztecDetectorResult=pr,n.AztecEncoder=wt,n.AztecHighLevelEncoder=ko,n.AztecPoint=ln,n.BarcodeFormat=De,n.Binarizer=A,n.BinaryBitmap=_,n.BitArray=q,n.BitMatrix=ve,n.BitSource=wl,n.BrowserAztecCodeReader=Ls,n.BrowserBarcodeReader=Id,n.BrowserCodeReader=sn,n.BrowserDatamatrixCodeReader=Rd,n.BrowserMultiFormatReader=$r,n.BrowserPDF417Reader=mp,n.BrowserQRCodeReader=Ud,n.BrowserQRCodeSvgWriter=Ws,n.CharacterSetECI=H,n.ChecksumException=k,n.Code128Reader=Te,n.Code39Reader=en,n.DataMatrixDecodedBitStreamParser=Ti,n.DataMatrixReader=li,n.DecodeHintType=z,n.DecoderResult=Qt,n.DefaultGridSampler=Jt,n.DetectorResult=Fn,n.EAN13Reader=hs,n.EncodeHintType=gn,n.Exception=x,n.FormatException=j,n.GenericGF=dt,n.GenericGFPoly=Ft,n.GlobalHistogramBinarizer=ge,n.GridSampler=Ge,n.GridSamplerInstance=Ht,n.HTMLCanvasElementLuminanceSource=Re,n.HybridBinarizer=me,n.ITFReader=_t,n.IllegalArgumentException=E,n.IllegalStateException=Qe,n.InvertedLuminanceSource=Se,n.LuminanceSource=ce,n.MathUtils=Ke,n.MultiFormatOneDReader=Bs,n.MultiFormatReader=Bd,n.MultiFormatWriter=Nl,n.NotFoundException=ee,n.OneDReader=Kt,n.PDF417DecodedBitStreamParser=de,n.PDF417DecoderErrorCorrection=jd,n.PDF417Reader=Xn,n.PDF417ResultMetadata=Hc,n.PerspectiveTransform=At,n.PlanarYUVLuminanceSource=gr,n.QRCodeByteMatrix=ci,n.QRCodeDataMask=Er,n.QRCodeDecodedBitStreamParser=an,n.QRCodeDecoderErrorCorrectionLevel=Vt,n.QRCodeDecoderFormatInformation=tr,n.QRCodeEncoder=nn,n.QRCodeEncoderQRCode=Xi,n.QRCodeMaskUtil=st,n.QRCodeMatrixUtil=Xe,n.QRCodeMode=$e,n.QRCodeReader=ps,n.QRCodeVersion=qe,n.QRCodeWriter=Hs,n.RGBLuminanceSource=Vc,n.RSS14Reader=cn,n.RSSExpandedReader=Ce,n.ReaderException=or,n.ReedSolomonDecoder=Pn,n.ReedSolomonEncoder=So,n.ReedSolomonException=Ee,n.Result=gt,n.ResultMetadataType=We,n.ResultPoint=Ne,n.StringUtils=ae,n.UnsupportedOperationException=se,n.VideoInputDevice=Ye,n.WhiteRectangleDetector=ke,n.WriterException=Yt,n.ZXingArrays=D,n.ZXingCharset=Yc,n.ZXingInteger=O,n.ZXingStandardCharsets=_l,n.ZXingStringBuilder=re,n.ZXingStringEncoding=fe,n.ZXingSystem=R,n.createAbstractExpandedDecoder=Dd,Object.defineProperty(n,"__esModule",{value:!0})})})(Eg,Eg.exports);var dn=Eg.exports;const ZP=wh(dn),JP=s3({__proto__:null,default:ZP},[dn]);var Lb=function(){function e(t,n,r){if(this.formatMap=new Map([[Fe.QR_CODE,dn.BarcodeFormat.QR_CODE],[Fe.AZTEC,dn.BarcodeFormat.AZTEC],[Fe.CODABAR,dn.BarcodeFormat.CODABAR],[Fe.CODE_39,dn.BarcodeFormat.CODE_39],[Fe.CODE_93,dn.BarcodeFormat.CODE_93],[Fe.CODE_128,dn.BarcodeFormat.CODE_128],[Fe.DATA_MATRIX,dn.BarcodeFormat.DATA_MATRIX],[Fe.MAXICODE,dn.BarcodeFormat.MAXICODE],[Fe.ITF,dn.BarcodeFormat.ITF],[Fe.EAN_13,dn.BarcodeFormat.EAN_13],[Fe.EAN_8,dn.BarcodeFormat.EAN_8],[Fe.PDF_417,dn.BarcodeFormat.PDF_417],[Fe.RSS_14,dn.BarcodeFormat.RSS_14],[Fe.RSS_EXPANDED,dn.BarcodeFormat.RSS_EXPANDED],[Fe.UPC_A,dn.BarcodeFormat.UPC_A],[Fe.UPC_E,dn.BarcodeFormat.UPC_E],[Fe.UPC_EAN_EXTENSION,dn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!JP)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(dn.DecodeHintType.POSSIBLE_FORMATS,i),a.set(dn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new dn.MultiFormatReader(this.verbose,this.hints),r=new dn.HTMLCanvasElementLuminanceSource(t),i=new dn.BinaryBitmap(new dn.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:wN.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),eF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(b){try{x(r.next(b))}catch(E){d(E)}}function v(b){try{x(r.throw(b))}catch(E){d(E)}}function x(b){b.done?a(b.value):i(b.value).then(g,v)}x((r=r.apply(e,t||[])).next())})},tF=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(b){return v([x,b])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){n.label=x[1];break}if(x[0]===6&&n.label<a[1]){n.label=a[1],a=x;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(x);break}a[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Pb=function(){function e(t,n,r){if(this.formatMap=new Map([[Fe.QR_CODE,"qr_code"],[Fe.AZTEC,"aztec"],[Fe.CODABAR,"codabar"],[Fe.CODE_39,"code_39"],[Fe.CODE_93,"code_93"],[Fe.CODE_128,"code_128"],[Fe.DATA_MATRIX,"data_matrix"],[Fe.ITF,"itf"],[Fe.EAN_13,"ean_13"],[Fe.EAN_8,"ean_8"],[Fe.PDF_417,"pdf417"],[Fe.UPC_A,"upc_a"],[Fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return eF(this,void 0,void 0,function(){var n,r;return tF(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:wN.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var d=a[i],g=d.boundingBox.width*d.boundingBox.height;g>r&&(r=g,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Fb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(b){try{x(r.next(b))}catch(E){d(E)}}function v(b){try{x(r.throw(b))}catch(E){d(E)}}function x(b){b.done?a(b.value):i(b.value).then(g,v)}x((r=r.apply(e,t||[])).next())})},Bb=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(b){return v([x,b])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){n.label=x[1];break}if(x[0]===6&&n.label<a[1]){n.label=a[1],a=x;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(x);break}a[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},nF=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Pb.isSupported()?(this.primaryDecoder=new Pb(t,r,i),this.secondaryDecoder=new Lb(t,r,i)):this.primaryDecoder=new Lb(t,r,i)}return e.prototype.decodeAsync=function(t){return Fb(this,void 0,void 0,function(){var n;return Bb(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Fb(this,void 0,void 0,function(){var n,r;return Bb(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),f2=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mh=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(b){try{x(r.next(b))}catch(E){d(E)}}function v(b){try{x(r.throw(b))}catch(E){d(E)}}function x(b){b.done?a(b.value):i(b.value).then(g,v)}x((r=r.apply(e,t||[])).next())})},gh=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(b){return v([x,b])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){n.label=x[1];break}if(x[0]===6&&n.label<a[1]){n.label=a[1],a=x;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(x);break}a[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},CN=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),rF=function(e){f2(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(CN),iF=function(e){f2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(rF),sF=function(e){f2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(CN),aF=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new iF(this.track)},e.prototype.torchFeature=function(){return new sF(this.track)},e}(),oF=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return mh(this,void 0,void 0,function(){var a,d;return gh(this,function(g){switch(g.label){case 0:return a=new e(t,n,i),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:g.sent(),g.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return mh(this,void 0,void 0,function(){return gh(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,d=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++d,d>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new aF(this.getFirstTrackOrFail())},e}(),lF=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return mh(this,void 0,void 0,function(){return gh(this,function(i){return[2,oF.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return mh(this,void 0,void 0,function(){var n,r;return gh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),Ub=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(b){try{x(r.next(b))}catch(E){d(E)}}function v(b){try{x(r.throw(b))}catch(E){d(E)}}function x(b){b.done?a(b.value):i(b.value).then(g,v)}x((r=r.apply(e,t||[])).next())})},zb=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(b){return v([x,b])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){n.label=x[1];break}if(x[0]===6&&n.label<a[1]){n.label=a[1],a=x;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(x);break}a[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},cF=function(){function e(){}return e.failIfNotSupported=function(){return Ub(this,void 0,void 0,function(){return zb(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Ub(this,void 0,void 0,function(){return zb(this,function(n){return[2,lF.create(t)]})})},e}(),uF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(b){try{x(r.next(b))}catch(E){d(E)}}function v(b){try{x(r.throw(b))}catch(E){d(E)}}function x(b){b.done?a(b.value):i(b.value).then(g,v)}x((r=r.apply(e,t||[])).next())})},dF=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(b){return v([x,b])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){n.label=x[1];break}if(x[0]===6&&n.label<a[1]){n.label=a[1],a=x;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(x);break}a[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},fF=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Zl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Zl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return uF(this,void 0,void 0,function(){var t,n,r,i,a,d,g;return dF(this,function(v){switch(v.label){case 0:return t=function(x){for(var b=x.getVideoTracks(),E=0,_=b;E<_.length;E++){var k=_[E];k.enabled=!1,k.stop(),x.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=v.sent(),i=[],a=0,d=r;a<d.length;a++)g=d[a],g.kind==="videoinput"&&i.push({id:g.deviceId,label:g.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var d=[],g=0,v=a;g<v.length;g++){var x=v[g];x.kind==="video"&&d.push({id:x.id,label:x.label})}t(d)},i=MediaStreamTrack;i.getSources(r)})},e}(),Rn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Rn||(Rn={}));var hF=function(){function e(){this.state=Rn.NOT_STARTED,this.onGoingTransactionNewState=Rn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Rn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Rn.UNKNOWN:throw"Transition from unknown is not allowed";case Rn.NOT_STARTED:this.failIfNewStateIs(t,[Rn.PAUSED]);break;case Rn.SCANNING:break;case Rn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),pF=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Rn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Rn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Rn.PAUSED},e}(),mF=function(){function e(){}return e.create=function(){return new pF(new hF)},e}(),gF=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gi=function(e){gF(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(XP),xF=function(){function e(t,n){this.logger=n,this.fps=gi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=gi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?bN.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ea(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),vF=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new KP(this.verbose),this.qrcode=new nF(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=mF.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;i?d=i:d=this.verbose?this.logger.log:function(){};var g=xF.create(n,this.logger);this.clearElement();var v=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=v,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:gi.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var E=this,_=this.stateManagerProxy.startTransition(Rn.SCANNING);return new Promise(function(k,A){var R=x?g.videoConstraints:E.createVideoConstraints(t);if(!R){_.cancel(),A("videoConstraints should be defined");return}var M={};(!x||g.aspectRatio)&&(M.aspectRatio=g.aspectRatio);var I={onRenderSurfaceReady:function(D,O){E.setupUi(D,O,g),E.isScanning=!0,E.foreverScan(g,r,d)}};cF.failIfNotSupported().then(function(D){D.create(R).then(function(O){return O.render(a.element,M,I).then(function(q){E.renderedCamera=q,_.execute(),k(null)}).catch(function(q){_.cancel(),A(q)})}).catch(function(O){_.cancel(),A(Zl.errorGettingUserMedia(O))})}).catch(function(D){_.cancel(),A(Zl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rn.PAUSED),this.showPausedState(),(ea(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Rn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Rn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(gi.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ea(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var g=d.width,v=d.height,x=document.getElementById(r.elementId),b=x.clientWidth?x.clientWidth:gi.DEFAULT_WIDTH,E=Math.max(x.clientHeight?x.clientHeight:v,gi.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(g,v,b,E);if(n){var k=r.createCanvasElement(b,E,"qr-canvas-visible");k.style.display="inline-block",x.appendChild(k);var A=k.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=b,A.canvas.height=E,A.drawImage(d,0,0,g,v,_.x,_.y,_.width,_.height)}var R=gi.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(d.width,_.width),I=Math.max(d.height,_.height),D=M+2*R,O=I+2*R,q=r.createCanvasElement(D,O);x.appendChild(q);var Q=q.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=D,Q.canvas.height=O,Q.drawImage(d,0,0,g,v,R,R,M,I);try{r.qrcode.decodeRobustlyAsync(q).then(function(z){i(Mb.createFromQrcodeResult(z))}).catch(a)}catch(z){a("QR code parse error, error = ".concat(z))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return fF.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!bN.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Fe.QR_CODE,Fe.AZTEC,Fe.CODABAR,Fe.CODE_39,Fe.CODE_93,Fe.CODE_128,Fe.DATA_MATRIX,Fe.MAXICODE,Fe.ITF,Fe.EAN_13,Fe.EAN_8,Fe.PDF_417,Fe.RSS_14,Fe.RSS_EXPANDED,Fe.UPC_A,Fe.UPC_E,Fe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var d=a[i];$P(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ea(t))return!0;if(!ea(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ea(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ea(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(t,n,a),g=function(x){if(x<gi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gi.MIN_QR_BOX_SIZE,"px.")},v=function(x){return x>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};g(d.width),g(d.height),d.width=v(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=ea(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&a.height<=n,g={x:0,y:0,width:t,height:n},v=d?this.getShadedRegionBounds(t,n,a):g,x=this.createCanvasElement(v.width,v.height),b={willReadFrequently:!0},E=x.getContext("2d",b);E.canvas.width=v.width,E.canvas.height=v.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=E,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Zl.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,Mb.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=Zl.codeParseError(i);return n(a,QP.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,g=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*d,x=this.qrRegion.height*g,b=this.qrRegion.x*d,E=this.qrRegion.y*g;this.context.drawImage(a,b,E,v,x,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(k){!k&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){_()})):_()}).catch(function(k){i.logger.logError("Error happend while scanning context",k),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",d=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var v=Object.keys(t)[0];if(v!==n&&v!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(v===n){var x=t.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(a in x){if(d(x["".concat(a)]))return{facingMode:{exact:x["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var b=typeof x;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var E=t.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(a in E)return{deviceId:{exact:E["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof E;throw"Invalid type of 'deviceId' = ".concat(_)}}}var k=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,d=(i-n)/2;return{x:a,y:d,width:t,height:n}}else{var g=t,v=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(v)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?gi.BORDER_SHADER_MATCH_COLOR:gi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,d=document.createElement("canvas");return d.style.width="".concat(i,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=ea(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(n-i.width)/2,g=(r-i.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(gi.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var v=5,x=40;this.insertShaderBorders(a,x,v,-v,null,0,!0),this.insertShaderBorders(a,x,v,-v,null,0,!1),this.insertShaderBorders(a,x,v,null,-v,0,!0),this.insertShaderBorders(a,x,v,null,-v,0,!1),this.insertShaderBorders(a,v,x+v,-v,null,-v,!0),this.insertShaderBorders(a,v,x+v,null,-v,-v,!0),this.insertShaderBorders(a,v,x+v,-v,null,-v,!1),this.insertShaderBorders(a,v,x+v,null,-v,-v,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,d,g){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=gi.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(n,"px"),v.style.height="".concat(r,"px"),i!==null&&(v.style.top="".concat(i,"px")),a!==null&&(v.style.bottom="".concat(a,"px")),g?v.style.left="".concat(d,"px"):v.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),t.appendChild(v)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Wb;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Wb||(Wb={}));const EN=({onScan:e,onError:t=i=>console.error(i),isOpen:n,onClose:r})=>{const[i,a]=L.useState(!1),[d,g]=L.useState(""),v=L.useRef(null),x=L.useRef(null);L.useEffect(()=>(n&&!i&&b(),()=>{E()}),[n]);const b=async()=>{if(v.current)try{const k=new vF("scanner");x.current=k;const A={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[1,2,3,4,5,6,7,8,9,10,11,12]};await k.start({facingMode:"environment"},A,R=>{e(R),E(),r()},R=>{console.log(R)}),a(!0)}catch(k){console.error("Error starting scanner:",k);let A="",R="";k.name==="NotFoundError"||k.message&&k.message.includes("Requested device not found")?(A="No camera found. Please make sure your device has a camera and you have granted permission to use it.",R="No camera detected. You can manually enter the barcode value instead.",rt.error(R,{icon:"",toastId:"camera-not-found"})):k.name==="NotAllowedError"||k.message&&k.message.includes("Permission denied")?(A="Camera access denied. Please grant permission to use your camera.",R="Camera access denied. Please check your browser permissions.",rt.error(R,{icon:"",toastId:"camera-permission-denied"})):(A=k&&k.message?k.message:"Failed to start scanner",rt.error("Failed to start barcode scanner. Please try again later.",{toastId:"scanner-error"})),g(A),t(A),r()}},E=async()=>{if(x.current&&i)try{await x.current.stop(),a(!1)}catch(k){console.error("Error stopping scanner:",k)}},_=()=>{E(),r()};return n?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Scan Barcode"}),c.jsx("button",{onClick:_,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mb-4",children:c.jsx("div",{id:"scanner",ref:v,className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:d&&c.jsxs("div",{className:"text-center p-4",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-red-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("p",{className:"text-red-600 font-medium",children:d}),c.jsx("p",{className:"text-gray-600 mt-2",children:"You can manually enter the barcode value instead."})]})})}),c.jsx("div",{className:"text-sm text-gray-500 mb-4",children:d?"To use the barcode scanner, you need a device with a camera and permission to access it.":"Position the barcode within the scanner area. The scanner will automatically detect and process the code."}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:_,className:"btn btn-outline",children:"Cancel"})})]})}):null};EN.propTypes={onScan:te.func.isRequired,onError:te.func,isOpen:te.bool.isRequired,onClose:te.func.isRequired};const NN=({id:e="",onScan:t,buttonText:n="",className:r=""})=>{const[i,a]=L.useState(!1),d=()=>{a(!0)},g=()=>{a(!1)},v=x=>{console.error("Scan error:",x)};return c.jsxs(c.Fragment,{children:[c.jsxs("button",{id:e,type:"button",onClick:d,className:`flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md
          bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
          hover:border-primary-600 hover:shadow-sm transition-all ${r}`,title:"Scan Barcode",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),n&&c.jsx("span",{className:"ml-1 font-medium",children:n})]}),c.jsx(EN,{isOpen:i,onClose:g,onScan:t,onError:v})]})};NN.propTypes={id:te.string,onScan:te.func.isRequired,buttonText:te.string,className:te.string};const _N=({id:e,name:t,type:n="text",label:r,placeholder:i,value:a,onChange:d,onBlur:g,error:v,disabled:x=!1,required:b=!1,className:E="",onScan:_,...k})=>{const I=`
    rounded-l-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${x?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 px-3 text-sm
    w-full
    ${E}
  `,D=`barcode-scan-button-${e}`;return c.jsxs("div",{className:"w-full",children:[r&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,b&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"flex",style:{display:"flex",width:"100%"},children:[c.jsx("input",{id:e,name:t,type:n,value:a,onChange:d,onBlur:g,placeholder:i,disabled:x,required:b,className:I,style:{width:"calc(100% - 120px)"},...k}),c.jsxs("button",{type:"button",onClick:()=>{const O=document.getElementById(D);O&&O.click()},className:`w-[120px] bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
            hover:border-primary-600 hover:shadow-sm transition-all font-medium flex items-center
            justify-center rounded-r-md border-l-0`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan"]}),c.jsx("div",{style:{display:"none"},children:c.jsx(NN,{id:D,onScan:_})})]}),v&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};_N.propTypes={id:te.string.isRequired,name:te.string.isRequired,type:te.string,label:te.string,placeholder:te.string,value:te.oneOfType([te.string,te.number]),onChange:te.func,onBlur:te.func,error:te.string,disabled:te.bool,required:te.bool,className:te.string,onScan:te.func.isRequired};const sa=({id:e,name:t,label:n,value:r,onChange:i,onBlur:a,options:d=[],error:g,disabled:v=!1,required:x=!1,placeholder:b="Select an option",className:E="",..._})=>{const M=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none
    ${g?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900"}
    ${v?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 pl-3 pr-10 text-sm
    ${E}
  `;return c.jsxs("div",{className:"w-full",children:[n&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${g?"text-red-600":"text-slate-700"}`,children:[n,x&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{id:e,name:t,value:r,onChange:i,onBlur:a,disabled:v,required:x,className:M,..._,children:[c.jsx("option",{value:"",children:b}),d.map(I=>c.jsx("option",{value:I.value||I,children:I.label||I},I.value||I))]}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:c.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),g&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})};sa.propTypes={id:te.string.isRequired,name:te.string.isRequired,label:te.string,value:te.string,onChange:te.func,onBlur:te.func,options:te.arrayOf(te.oneOfType([te.string,te.shape({value:te.string.isRequired,label:te.string.isRequired})])),error:te.string,disabled:te.bool,required:te.bool,placeholder:te.string,className:te.string};const rn=({children:e,className:t="",...n})=>c.jsx("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden ${t}`,...n,children:e}),SN=({children:e,className:t="",...n})=>c.jsx("div",{className:`px-6 py-4 border-b border-slate-200 ${t}`,...n,children:e}),AN=({children:e,className:t="",...n})=>c.jsx("h3",{className:`text-lg font-medium text-slate-800 ${t}`,...n,children:e}),TN=({children:e,className:t="",...n})=>c.jsx("div",{className:`p-6 ${t}`,...n,children:e}),kN=({children:e,className:t="",...n})=>c.jsx("div",{className:`px-6 py-4 bg-slate-50 border-t border-slate-200 ${t}`,...n,children:e});rn.Header=SN;rn.Title=AN;rn.Body=TN;rn.Footer=kN;rn.propTypes={children:te.node.isRequired,className:te.string};SN.propTypes={children:te.node.isRequired,className:te.string};AN.propTypes={children:te.node.isRequired,className:te.string};TN.propTypes={children:te.node.isRequired,className:te.string};kN.propTypes={children:te.node.isRequired,className:te.string};const Qo=({children:e,variant:t="primary",size:n="md",className:r="",...i})=>{const a="inline-flex items-center font-medium rounded-full",d={primary:"bg-primary-100 text-primary-800",secondary:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"},g={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},v=`
    ${a}
    ${d[t]||d.primary}
    ${g[n]||g.md}
    ${r}
  `;return c.jsx("span",{className:v,...i,children:e})};Qo.propTypes={children:te.node.isRequired,variant:te.oneOf(["primary","secondary","success","danger","warning","info"]),size:te.oneOf(["sm","md","lg"]),className:te.string};const yF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),wF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),bF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),CF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),EF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),NF=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),_F=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),SF=({equipment:e,canEdit:t,searchTerm:n})=>{const[r,i]=L.useState(!1);let a=null;if(e.reference_image_id)a=th(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const v=e.files.find(x=>x.file_type==="image");v&&(a=th(v.id,!0))}const d=v=>{switch(v){case"available":return c.jsx(Qo,{variant:"success",children:v});case"in-use":return c.jsx(Qo,{variant:"info",children:v});case"maintenance":return c.jsx(Qo,{variant:"warning",children:v});default:return c.jsx(Qo,{children:v})}},g=(v,x)=>{if(!x||!v)return v;const b=new RegExp(`(${x})`,"gi");return v.split(b).map((_,k)=>b.test(_)?c.jsx("span",{className:"bg-yellow-200 font-medium",children:_},k):_)};return c.jsxs(rn,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[c.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[a?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:a,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):c.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:c.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&c.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[c.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),c.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),c.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),c.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),c.jsxs(rn.Body,{children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&c.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),d(e.status)]}),c.jsx("h2",{className:"text-lg font-semibold mb-1",children:n?c.jsxs(c.Fragment,{children:[g(e.brand,n)," ",g(e.model,n)]}):`${e.brand} ${e.model}`}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",n?g(e.serial_number,n):e.serial_number]}),c.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[c.jsxs(jn,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[c.jsx(NF,{})," View"]}),t&&c.jsxs(jn,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[c.jsx(EF,{})," Edit"]})]})]})]})},AF=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[c.jsx("div",{className:"h-40 bg-slate-200"}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),c.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),c.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),TF=({search:e,onApply:t,onDelete:n})=>c.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[c.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),c.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:c.jsx(CF,{className:"w-4 h-4"})})]}),kF=()=>{var hn,De;const{user:e,canEditEquipment:t}=Jn(),n=Zn(),r=L.useRef(null),[i,a]=L.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,g]=L.useState(""),[v,x]=L.useState(!1),[b,E]=L.useState(!1),[_,k]=L.useState("updated_at"),[A,R]=L.useState("desc"),[M,I]=L.useState(""),[D,O]=L.useState(!1),{data:q,fetchNextPage:Q,hasNextPage:z,isFetchingNextPage:j,isLoading:G,isError:H,error:se}=Lx(["equipment",i,_,A],async({pageParam:Oe=1})=>{const We={page:Oe,limit:20,...i,sortBy:_,sortOrder:A};return i.dateRange.startDate&&i.dateRange.endDate&&(We.startDate=i.dateRange.startDate.toISOString(),We.endDate=i.dateRange.endDate.toISOString()),Jo(We)},{getNextPageParam:Oe=>{if(Oe.page<Oe.totalPages)return Oe.page+1},keepPreviousData:!0}),{data:fe,isLoading:ae}=kt(["equipment-suggestions",d],()=>Jo({search:d,limit:5}),{enabled:!!d&&d.length>2,keepPreviousData:!0}),{data:re}=kt(["saved-searches"],XE,{enabled:t()}),{data:ve=[]}=kt({queryKey:["equipmentTypes"],queryFn:js}),{data:ee=[]}=kt({queryKey:["categories"],queryFn:jc}),ge=L.useCallback(yN.debounce(Oe=>{g(Oe)},300),[]),me=Oe=>{const We=Oe.target.value;a(Qt=>({...Qt,search:We})),ge(We),We.length>2?x(!0):x(!1)},ce=Oe=>{const{name:We,value:Qt}=Oe.target;a(Gn=>({...Gn,[We]:Qt}))},Se=Oe=>{const[We,Qt]=Oe;a(Gn=>({...Gn,dateRange:{startDate:We,endDate:Qt}}))},Re=()=>{a({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),g(""),x(!1)},Ye=async()=>{if(!M.trim()){rt.error("Please enter a name for your saved search");return}try{await QE({name:M,filters:JSON.stringify(i),sortBy:_,sortOrder:A}),n.invalidateQueries(["saved-searches"]),I(""),O(!1),rt.success("Search saved successfully")}catch(Oe){rt.error("Failed to save search"),console.error("Save search error:",Oe)}},nt=Oe=>{try{const We=JSON.parse(Oe.filters);a(We),k(Oe.sortBy||"updated_at"),R(Oe.sortOrder||"desc"),rt.info(`Applied saved search: ${Oe.name}`)}catch(We){rt.error("Failed to apply saved search"),console.error("Apply saved search error:",We)}},sn=async Oe=>{try{await KE(Oe),n.invalidateQueries(["saved-searches"]),rt.success("Search deleted successfully")}catch(We){rt.error("Failed to delete search"),console.error("Delete saved search error:",We)}};L.useEffect(()=>{const Oe=new IntersectionObserver(Qt=>{Qt[0].isIntersecting&&z&&!j&&Q()},{threshold:.5}),We=r.current;return We&&Oe.observe(We),()=>{We&&Oe.unobserve(We)}},[r,Q,z,j]);const gt=(q==null?void 0:q.pages.flatMap(Oe=>Oe.equipment))||[];return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Qh,{position:"top-right",autoClose:3e3}),c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),c.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:c.jsxs("div",{className:"relative",children:[c.jsx(Zt,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:me,icon:c.jsx(yF,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),v&&((hn=fe==null?void 0:fe.equipment)==null?void 0:hn.length)>0&&c.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:fe.equipment.map(Oe=>c.jsxs(jn,{to:`/equipment/${Oe.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[c.jsxs("div",{className:"font-medium",children:[Oe.brand," ",Oe.model]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[Oe.type,"  SN: ",Oe.serial_number]})]},Oe.id))}),c.jsxs("div",{className:"flex mt-2 gap-2",children:[c.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>E(!b),className:"flex items-center gap-1","aria-expanded":b,"aria-controls":"filter-panel",children:[c.jsx(wF,{}),c.jsx("span",{children:b?"Hide Filters":"Show Filters"})]}),Object.values(i).some(Oe=>Oe&&(typeof Oe=="string"?Oe.trim()!=="":!0))&&c.jsxs(Ve,{variant:"outline",size:"sm",onClick:Re,className:"flex items-center gap-1 text-slate-600",children:[c.jsx(_F,{}),c.jsx("span",{children:"Clear Filters"})]}),c.jsx("div",{className:"ml-auto",children:c.jsx(sa,{id:"sort",name:"sort",value:`${_}-${A}`,onChange:Oe=>{const[We,Qt]=Oe.target.value.split("-");k(We),R(Qt)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-40"})})]})]})}),t()&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),D?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zt,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:M,onChange:Oe=>I(Oe.target.value),className:"w-48"}),c.jsx(Ve,{variant:"primary",size:"sm",onClick:Ye,children:"Save"}),c.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>{O(!1),I("")},children:"Cancel"})]}):c.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>O(!0),className:"flex items-center gap-1",children:[c.jsx(bF,{}),c.jsx("span",{children:"Save Current Search"})]})]}),c.jsx("div",{className:"flex flex-wrap",children:((De=re==null?void 0:re.searches)==null?void 0:De.length)>0?re.searches.map(Oe=>c.jsx(TF,{search:Oe,onApply:nt,onDelete:sn},Oe.id)):c.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),c.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${b?"max-h-96 opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:c.jsxs("div",{className:"p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(sa,{id:"category",name:"category",label:"Category",value:i.category,onChange:ce,options:[{value:"",label:"All Categories"},...(ee||[]).map(Oe=>({value:Oe.name,label:Oe.name}))]}),c.jsx(sa,{id:"type",name:"type",label:"Equipment Type",value:i.type,onChange:ce,options:[{value:"",label:"All Types"},...(ve||[]).map(Oe=>({value:Oe.name,label:Oe.name}))]}),c.jsx(sa,{id:"status",name:"status",label:"Status",value:i.status,onChange:ce,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"}]}),c.jsx(Zt,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:i.location,onChange:ce}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),c.jsx(vN,{selectsRange:!0,startDate:i.dateRange.startDate,endDate:i.dateRange.endDate,onChange:Se,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]})}),c.jsx("div",{children:G?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((Oe,We)=>c.jsx(AF,{},We))}):H?c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(se==null?void 0:se.message)||"Failed to load equipment data. Please try again."})})]})]})}):gt.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),c.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),c.jsx(Ve,{variant:"outline",className:"mt-4",onClick:Re,children:"Clear All Filters"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:gt.map(Oe=>c.jsx(SF,{equipment:Oe,canEdit:t(),searchTerm:i.search},Oe.id))}),c.jsx("div",{ref:r,className:"py-4 text-center",children:j?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):z?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},DF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),IF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),RF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),OF=()=>{const{isAdmin:e}=Jn(),t=Zn(),[n,r]=L.useState(""),[i,a]=L.useState(null),[d,g]=L.useState(""),[v,x]=L.useState(""),{data:b,isLoading:E,isError:_}=kt({queryKey:["equipmentTypes"],queryFn:js}),k=Yn({mutationFn:YO,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),r(""),x("")},onError:Q=>{var z,j;x(((j=(z=Q.response)==null?void 0:z.data)==null?void 0:j.message)||"Failed to create equipment type")}}),A=Yn({mutationFn:({id:Q,name:z})=>GO(Q,z),onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),a(null),g(""),x("")},onError:Q=>{var z,j;x(((j=(z=Q.response)==null?void 0:z.data)==null?void 0:j.message)||"Failed to update equipment type")}}),R=Yn({mutationFn:$O,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),x("")},onError:Q=>{var z,j;x(((j=(z=Q.response)==null?void 0:z.data)==null?void 0:j.message)||"Failed to delete equipment type")}}),M=Q=>{if(Q.preventDefault(),!n.trim()){x("Type name is required");return}k.mutate(n),document.getElementById("addTypeModal").style.display="none"},I=Q=>{a(Q),g(Q.name)},D=()=>{if(!d.trim()){x("Type name is required");return}A.mutate({id:i.id,name:d})},O=()=>{a(null),g("")},q=Q=>{window.confirm("Are you sure you want to delete this equipment type?")&&R.mutate(Q)};return e()?c.jsxs("div",{className:"space-y-6",children:[v&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:c.jsx("span",{children:v})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Types"}),c.jsxs(Ve,{variant:"primary",onClick:()=>{r(""),document.getElementById("addTypeModal").style.display="block"},className:"flex items-center gap-2",children:[c.jsx(RF,{}),"Add Type"]})]}),c.jsx(rn,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:E?c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4",children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):_?c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-red-600",children:"Error loading equipment types. Please try again."})}):b&&b.length>0?b.map(Q=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:Q.name}),c.jsx("td",{className:"table-cell text-right",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsxs(Ve,{onClick:()=>I(Q),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[c.jsx(DF,{}),"Edit"]}),c.jsxs(Ve,{onClick:()=>q(Q.id),variant:"danger",size:"sm",disabled:R.isLoading&&R.variables===Q.id,className:"flex items-center gap-1",children:[c.jsx(IF,{}),R.isLoading&&R.variables===Q.id?"Deleting...":"Delete"]})]})})]},Q.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-slate-500",children:"No equipment types found"})})})]})})}),c.jsx("div",{className:"modal-backdrop",id:"addTypeModal",style:{display:"none"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Equipment Type"}),c.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:""})]}),c.jsxs("form",{onSubmit:M,children:[c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"space-y-4",children:c.jsx(Zt,{id:"newTypeName",name:"newTypeName",type:"text",label:"Type Name",value:n,onChange:Q=>r(Q.target.value),placeholder:"Enter equipment type name",required:!0})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ve,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"Cancel"}),c.jsx(Ve,{type:"submit",variant:"primary",disabled:k.isLoading,className:"flex items-center gap-2",children:k.isLoading?"Adding...":"Add Type"})]})]})]})}),i&&c.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Equipment Type"}),c.jsx("button",{className:"modal-close",onClick:O,children:""})]}),c.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),D()},children:[c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"space-y-4",children:c.jsx(Zt,{id:"editTypeName",name:"editTypeName",type:"text",label:"Type Name",value:d,onChange:Q=>g(Q.target.value),required:!0})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ve,{type:"button",variant:"secondary",onClick:O,children:"Cancel"}),c.jsx(Ve,{type:"submit",variant:"primary",disabled:A.isLoading,className:"flex items-center gap-2",children:A.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded",children:c.jsx("p",{children:"Only administrators can manage equipment types."})})},jF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),MF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),LF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),PF=()=>{const{isAdmin:e}=Jn(),t=Zn(),[n,r]=L.useState(""),[i,a]=L.useState(""),[d,g]=L.useState(null),[v,x]=L.useState(""),[b,E]=L.useState(""),[_,k]=L.useState(""),{data:A,isLoading:R,isError:M}=kt({queryKey:["categories"],queryFn:jc}),I=Yn({mutationFn:({name:H,description:se})=>VP(H,se),onSuccess:()=>{t.invalidateQueries(["categories"]),r(""),a(""),k("")},onError:H=>{var se,fe;k(((fe=(se=H.response)==null?void 0:se.data)==null?void 0:fe.message)||"Failed to create category")}}),D=Yn({mutationFn:({id:H,name:se,description:fe})=>YP(H,se,fe),onSuccess:()=>{t.invalidateQueries(["categories"]),g(null),x(""),E(""),k("")},onError:H=>{var se,fe;k(((fe=(se=H.response)==null?void 0:se.data)==null?void 0:fe.message)||"Failed to update category")}}),O=Yn({mutationFn:GP,onSuccess:()=>{t.invalidateQueries(["categories"]),k("")},onError:H=>{var se,fe;k(((fe=(se=H.response)==null?void 0:se.data)==null?void 0:fe.message)||"Failed to delete category")}}),q=H=>{if(H.preventDefault(),!n.trim()){k("Category name is required");return}I.mutate({name:n,description:i}),document.getElementById("addCategoryModal").style.display="none"},Q=H=>{g(H),x(H.name),E(H.description||"")},z=()=>{if(!v.trim()){k("Category name is required");return}D.mutate({id:d.id,name:v,description:b})},j=()=>{g(null),x(""),E("")},G=H=>{window.confirm("Are you sure you want to delete this category?")&&O.mutate(H)};return e()?c.jsxs("div",{className:"space-y-6",children:[_&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:c.jsx("p",{children:_})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Categories"}),c.jsxs(Ve,{variant:"primary",onClick:()=>{r(""),a(""),document.getElementById("addCategoryModal").style.display="block"},className:"flex items-center gap-2",children:[c.jsx(LF,{}),"Add Category"]})]}),c.jsx(rn,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell",children:"Description"}),c.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:R?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4",children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):M?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-red-600",children:"Error loading categories. Please try again."})}):A&&A.length>0?A.map(H=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:H.name}),c.jsx("td",{className:"table-cell",children:H.description||"-"}),c.jsx("td",{className:"table-cell text-right",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsxs(Ve,{onClick:()=>Q(H),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[c.jsx(jF,{}),"Edit"]}),c.jsxs(Ve,{onClick:()=>G(H.id),variant:"danger",size:"sm",disabled:O.isLoading&&O.variables===H.id,className:"flex items-center gap-1",children:[c.jsx(MF,{}),O.isLoading&&O.variables===H.id?"Deleting...":"Delete"]})]})})]},H.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-slate-500",children:"No categories found"})})})]})})}),c.jsx("div",{className:"modal-backdrop",id:"addCategoryModal",style:{display:"none"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Category"}),c.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:""})]}),c.jsxs("form",{onSubmit:q,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Zt,{id:"newCategoryName",name:"newCategoryName",type:"text",label:"Category Name",value:n,onChange:H=>r(H.target.value),placeholder:"Enter category name",required:!0}),c.jsx(Zt,{id:"newCategoryDescription",name:"newCategoryDescription",type:"text",label:"Description (optional)",value:i,onChange:H=>a(H.target.value),placeholder:"Enter category description"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ve,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"Cancel"}),c.jsx(Ve,{type:"submit",variant:"primary",disabled:I.isLoading,className:"flex items-center gap-2",children:I.isLoading?"Adding...":"Add Category"})]})]})]})}),d&&c.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Category"}),c.jsx("button",{className:"modal-close",onClick:j,children:""})]}),c.jsxs("form",{onSubmit:H=>{H.preventDefault(),z()},children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Zt,{id:"editCategoryName",name:"editCategoryName",type:"text",label:"Category Name",value:v,onChange:H=>x(H.target.value),required:!0}),c.jsx(Zt,{id:"editCategoryDescription",name:"editCategoryDescription",type:"text",label:"Description (optional)",value:b,onChange:H=>E(H.target.value),placeholder:"Enter category description"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ve,{type:"button",variant:"secondary",onClick:j,children:"Cancel"}),c.jsx(Ve,{type:"submit",variant:"primary",disabled:D.isLoading,className:"flex items-center gap-2",children:D.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):c.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:c.jsx("p",{children:"Only administrators can manage equipment categories."})})},ml=async()=>(await it.get("/api/locations")).data,FF=async e=>(await it.post("/api/locations",e)).data,BF=async(e,t)=>(await it.put(`/api/locations/${e}`,t)).data,UF=async e=>(await it.delete(`/api/locations/${e}`)).data,zF=()=>{var G;const{isAdmin:e}=Jn(),t=Zn(),[n,r]=L.useState(!1),[i,a]=L.useState(!1),[d,g]=L.useState(!1),[v,x]=L.useState(null),[b,E]=L.useState({name:"",street:"",postal_code:"",city:"",region:"",country:""}),{data:_,isLoading:k,isError:A}=kt(["locations"],ml),R=Yn(FF,{onSuccess:()=>{t.invalidateQueries(["locations"]),r(!1),E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),alert("Location created successfully")},onError:H=>{var se,fe;alert(`Error creating location: ${((fe=(se=H.response)==null?void 0:se.data)==null?void 0:fe.message)||H.message}`)}}),M=Yn(H=>BF(H.id,H.locationData),{onSuccess:()=>{t.invalidateQueries(["locations"]),a(!1),x(null),alert("Location updated successfully")},onError:H=>{var se,fe;alert(`Error updating location: ${((fe=(se=H.response)==null?void 0:se.data)==null?void 0:fe.message)||H.message}`)}}),I=Yn(UF,{onSuccess:()=>{t.invalidateQueries(["locations"]),g(!1),x(null),alert("Location deleted successfully")},onError:H=>{var se,fe;alert(`Error deleting location: ${((fe=(se=H.response)==null?void 0:se.data)==null?void 0:fe.message)||H.message}`)}}),D=H=>{const{name:se,value:fe}=H.target;E(ae=>({...ae,[se]:fe}))},O=H=>{H.preventDefault(),R.mutate(b)},q=H=>{H.preventDefault(),M.mutate({id:v.id,locationData:b})},Q=()=>{I.mutate(v.id)},z=H=>{x(H),E({name:H.name,street:H.street||"",postal_code:H.postal_code||"",city:H.city||"",region:H.region||"",country:H.country||""}),a(!0)},j=H=>{x(H),g(!0)};return k?c.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):A?c.jsx("div",{className:"text-center py-4 text-red-600",children:"Error loading locations"}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Locations"}),e()&&c.jsx(Ve,{variant:"primary",onClick:()=>{E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),r(!0)},children:"Add Location"})]}),c.jsx(rn,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell",children:"Street"}),c.jsx("th",{className:"table-header-cell",children:"Postal Code"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell",children:"Region"}),c.jsx("th",{className:"table-header-cell",children:"Country"}),e()&&c.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:((G=_==null?void 0:_.locations)==null?void 0:G.length)>0?_.locations.map(H=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:H.name}),c.jsx("td",{className:"table-cell",children:H.street||"-"}),c.jsx("td",{className:"table-cell",children:H.postal_code||"-"}),c.jsx("td",{className:"table-cell",children:H.city||"-"}),c.jsx("td",{className:"table-cell",children:H.region||"-"}),c.jsx("td",{className:"table-cell",children:H.country||"-"}),e()&&c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>z(H),children:"Edit"}),c.jsx(Ve,{variant:"danger",size:"sm",onClick:()=>j(H),children:"Delete"})]})})]},H.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:e()?7:6,className:"table-cell text-center py-4 text-slate-500",children:"No locations found"})})})]})})}),n&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Location"}),c.jsx("button",{className:"modal-close",onClick:()=>r(!1),children:""})]}),c.jsxs("form",{onSubmit:O,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Zt,{id:"name",name:"name",label:"Location Name",value:b.name,onChange:D,placeholder:"Enter location name",required:!0}),c.jsx(Zt,{id:"street",name:"street",label:"Street",value:b.street,onChange:D,placeholder:"Enter street (optional)"}),c.jsx(Zt,{id:"postal_code",name:"postal_code",label:"Postal Code",value:b.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),c.jsx(Zt,{id:"city",name:"city",label:"City",value:b.city,onChange:D,placeholder:"Enter city (optional)"}),c.jsx(Zt,{id:"region",name:"region",label:"Region/State",value:b.region,onChange:D,placeholder:"Enter region or state (optional)"}),c.jsx(Zt,{id:"country",name:"country",label:"Country",value:b.country,onChange:D,placeholder:"Enter country (optional)"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ve,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),c.jsx(Ve,{type:"submit",variant:"primary",disabled:R.isLoading,children:R.isLoading?"Adding...":"Add Location"})]})]})]})}),i&&v&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Location"}),c.jsx("button",{className:"modal-close",onClick:()=>a(!1),children:""})]}),c.jsxs("form",{onSubmit:q,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Zt,{id:"edit-name",name:"name",label:"Location Name",value:b.name,onChange:D,placeholder:"Enter location name",required:!0}),c.jsx(Zt,{id:"edit-street",name:"street",label:"Street",value:b.street,onChange:D,placeholder:"Enter street (optional)"}),c.jsx(Zt,{id:"edit-postal_code",name:"postal_code",label:"Postal Code",value:b.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),c.jsx(Zt,{id:"edit-city",name:"city",label:"City",value:b.city,onChange:D,placeholder:"Enter city (optional)"}),c.jsx(Zt,{id:"edit-region",name:"region",label:"Region/State",value:b.region,onChange:D,placeholder:"Enter region or state (optional)"}),c.jsx(Zt,{id:"edit-country",name:"country",label:"Country",value:b.country,onChange:D,placeholder:"Enter country (optional)"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ve,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),c.jsx(Ve,{type:"submit",variant:"primary",disabled:M.isLoading,children:M.isLoading?"Saving...":"Save Changes"})]})]})]})}),d&&v&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Delete Location"}),c.jsx("button",{className:"modal-close",onClick:()=>g(!1),children:""})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("p",{children:['Are you sure you want to delete the location "',v.name,'"? This action cannot be undone.']}),c.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: You cannot delete a location that is currently assigned to equipment."})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ve,{type:"button",variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),c.jsx(Ve,{type:"button",variant:"danger",onClick:Q,disabled:I.isLoading,children:I.isLoading?"Deleting...":"Delete Location"})]})]})})]})},WF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),HF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),Hb=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),qb=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),c.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),c.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]}),qF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),VF=()=>{const{user:e}=Jn(),[t,n]=L.useState("profile"),[r,i]=L.useState(""),[a,d]=L.useState(""),[g,v]=L.useState(""),[x,b]=L.useState(""),[E,_]=L.useState(""),k=[{id:"profile",label:"Profile",icon:c.jsx(WF,{})},{id:"security",label:"Security",icon:c.jsx(HF,{})}];(e==null?void 0:e.role)==="admin"&&(k.push({id:"equipmentTypes",label:"Equipment Types",icon:c.jsx(Hb,{})}),k.push({id:"categories",label:"Categories",icon:c.jsx(Hb,{})}),k.push({id:"locations",label:"Locations",icon:c.jsx(qF,{})}),k.push({id:"database",label:"Database",icon:c.jsx(qb,{})}));const A=R=>{if(R.preventDefault(),b(""),_(""),!r){b("Current password is required");return}if(!a){b("New password is required");return}if(a!==g){b("New passwords do not match");return}if(a.length<8){b("New password must be at least 8 characters");return}_("Password changed successfully"),i(""),d(""),v("")};return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-8",children:"User Settings"}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsx("div",{className:"w-full md:w-64",children:c.jsx(rn,{children:c.jsx(rn.Body,{className:"p-0",children:c.jsx("nav",{children:c.jsx("ul",{className:"divide-y divide-slate-100",children:k.map(R=>c.jsx("li",{children:c.jsxs("button",{onClick:()=>n(R.id),className:`w-full text-left px-4 py-3 flex items-center transition-colors ${t===R.id?"bg-primary-50 text-primary-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,"aria-current":t===R.id?"page":void 0,children:[c.jsx("span",{className:"mr-3 text-slate-500",children:R.icon}),R.label]})},R.id))})})})})}),c.jsx("div",{className:"flex-1",children:c.jsx(rn,{children:c.jsxs(rn.Body,{children:[t==="profile"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Profile Settings"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),c.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200",children:e==null?void 0:e.username})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),c.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200 capitalize",children:e==null?void 0:e.role})]})]})]}),t==="security"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Security Settings"}),x&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),E&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),c.jsxs("form",{onSubmit:A,className:"space-y-4",children:[c.jsx(Zt,{type:"password",id:"current-password",label:"Current Password",value:r,onChange:R=>i(R.target.value),placeholder:"Enter your current password"}),c.jsx(Zt,{type:"password",id:"new-password",label:"New Password",value:a,onChange:R=>d(R.target.value),placeholder:"Enter your new password"}),c.jsx(Zt,{type:"password",id:"confirm-password",label:"Confirm New Password",value:g,onChange:R=>v(R.target.value),placeholder:"Confirm your new password"}),c.jsx("div",{children:c.jsx(Ve,{type:"submit",variant:"primary",children:"Change Password"})})]})]}),t==="equipmentTypes"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Types"}),c.jsx(OF,{})]}),t==="categories"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Categories"}),c.jsx(PF,{})]}),t==="locations"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Locations"}),c.jsx(zF,{})]}),t==="database"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Database Management"}),c.jsx("p",{className:"mb-6 text-slate-600",children:"Access the database management interface to view and modify database tables directly."}),c.jsxs(Ve,{as:"a",href:"http://localhost:8080",target:"_blank",rel:"noopener noreferrer",variant:"primary",className:"inline-flex items-center",children:[c.jsx(qb,{}),c.jsx("span",{className:"ml-2",children:"Open phpMyAdmin"})]})]})]})})})]})]})},YF=({isOpen:e,onClose:t,equipmentId:n})=>{const r=Zn(),[i,a]=L.useState(""),[d,g]=L.useState(null),[v,x]=L.useState(!1),[b,E]=L.useState(null);L.useEffect(()=>{e&&n&&(x(!0),Kh(n).then(A=>{g(A),a(`${A.serial_number}-COPY`),x(!1)}).catch(A=>{console.error("Error fetching equipment details:",A),E("Failed to load equipment details"),x(!1)}))},[e,n]);const _=Yn({mutationFn:async()=>{if(!d)return null;console.log("Original equipment data:",d);const A={type_id:d.type_id||1,brand:d.brand,model:d.model,serial_number:i,status:d.status||"available",location:d.location||"",description:d.description||""};return console.log("Duplicate data being sent:",A),Hx(A)},onSuccess:A=>{console.log("Successfully duplicated equipment:",A),r.invalidateQueries(["equipment"]),t()},onError:A=>{var R,M;console.error("Error duplicating equipment:",A),(M=(R=A.response)==null?void 0:R.data)!=null&&M.message?E(A.response.data.message):E("Failed to duplicate equipment. Please check all required fields.")}}),k=A=>{if(A.preventDefault(),!i.trim()){E("Serial number is required");return}_.mutate()};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Duplicate Equipment"}),v?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):b?c.jsx("div",{className:"text-red-600 mb-4",children:b}):c.jsxs("form",{onSubmit:k,children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("p",{className:"text-gray-600 mb-2",children:["You are about to duplicate: ",c.jsxs("span",{className:"font-medium",children:[d==null?void 0:d.brand," ",d==null?void 0:d.model]})]}),c.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),c.jsx("input",{type:"text",id:"serialNumber",value:i,onChange:A=>a(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,autoFocus:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please provide a unique serial number for the duplicated equipment."})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                  hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                  hover:shadow-sm transition-all`,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                  hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                  hover:shadow-sm transition-all focus:outline-none focus:ring-1 focus:ring-primary-500`,disabled:_.isLoading,children:_.isLoading?"Duplicating...":"Duplicate"})]})]})]})}):null},GF=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var H,se,fe;const i=r.length>0?r:n?[n]:[],a=Zn(),[d,g]=L.useState(2),[v,x]=L.useState(""),[b,E]=L.useState([]),[_,k]=L.useState([]),[A,R]=L.useState(!1),[M,I]=L.useState(null),[D,O]=L.useState(0),[q,Q]=L.useState(!1);L.useEffect(()=>{if(e&&i.length>0){R(!0),k([]);const ae=i.map(re=>Kh(re));Promise.all(ae).then(re=>{if(k(re),re.length===1){const ve=`${re[0].serial_number}-{n}`;x(ve)}else x("BATCH-{n}");R(!1)}).catch(re=>{console.error("Error fetching equipment details:",re),I("Failed to load equipment details"),R(!1)})}},[e,i]),L.useEffect(()=>{if(v&&d>0){const ae=[];for(let re=1;re<=Math.min(d,5);re++)ae.push(z(v,re));d>5&&(ae.push("..."),ae.push(z(v,d))),E(ae)}},[v,d]);const z=(ae,re)=>ae.replace("{n}",re),j=Yn({mutationFn:async({equipmentData:ae,serialNumber:re})=>{if(!ae)return null;const ve={type:ae.type,type_id:ae.type_id||1,category:ae.category||"",...ae.category_id?{category_id:ae.category_id}:{},brand:ae.brand,model:ae.model,serial_number:re,status:ae.status||"available",location:ae.location||"",...ae.location_id?{location_id:ae.location_id}:{},description:ae.description||"",...ae.reference_image_id?{reference_image_id:ae.reference_image_id}:{}};return Hx(ve)}}),G=async()=>{var ae,re;if(_.length!==0){Q(!0),O(0);try{const ve=_.length*d;let ee=0;for(const ge of _)for(let me=1;me<=d;me++){let ce;_.length===1?ce=z(v,me):ce=z(v.replace("{n}",`${ge.id}-{n}`),me),console.log(`Creating duplicate ${me} for equipment ID ${ge.id} with serial number ${ce}`),console.log("Original equipment data:",JSON.stringify(ge,null,2));try{await j.mutateAsync({equipmentData:ge,serialNumber:ce}),console.log(`Successfully created duplicate ${me} for equipment ID ${ge.id}`)}catch(Se){throw console.error(`Error creating duplicate ${me} for equipment ID ${ge.id}:`,Se),Se}ee++,O(Math.floor(ee/ve*100))}a.invalidateQueries(["equipment"]),t()}catch(ve){console.error("Error in batch duplication:",ve);let ee="Failed to duplicate equipment";(re=(ae=ve.response)==null?void 0:ae.data)!=null&&re.message?ee=ve.response.data.message:ve.message&&(ee=ve.message),I(ee)}finally{Q(!1)}}};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Batch Duplicate Equipment"}),A?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):M?c.jsx("div",{className:"text-red-600 mb-4",children:M}):c.jsxs("div",{children:[c.jsxs("div",{className:"text-gray-600 mb-4",children:[c.jsxs("p",{children:["You are about to duplicate ",_.length," item",_.length!==1?"s":"",":"]}),_.length===1?c.jsxs("p",{className:"font-medium mt-1",children:[(H=_[0])==null?void 0:H.brand," ",(se=_[0])==null?void 0:se.model," (SN: ",(fe=_[0])==null?void 0:fe.serial_number,")"]}):c.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:c.jsx("ul",{className:"text-sm",children:_.map((ae,re)=>c.jsxs("li",{className:"mb-1",children:[ae.brand," ",ae.model," (SN: ",ae.serial_number,")"]},re))})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Copies"}),c.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:d,onChange:ae=>g(Math.min(50,Math.max(1,parseInt(ae.target.value)||1))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"serialNumberPattern",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Pattern"}),c.jsx("input",{type:"text",id:"serialNumberPattern",value:v,onChange:ae=>x(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Use {n} for the copy number"}),c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Use ","{n}"," as a placeholder for the copy number."]})]}),b.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Preview"}),c.jsx("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:c.jsx("ul",{className:"text-sm text-gray-600",children:b.map((ae,re)=>c.jsx("li",{children:ae},re))})})]}),q&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${D}%`}})}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[D,"% Complete"]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(Ve,{variant:"outline",onClick:t,disabled:q,children:"Cancel"}),c.jsx(Ve,{variant:"primary",onClick:G,disabled:q||!v.includes("{n}"),children:q?"Processing...":"Create Copies"})]})]})]})}):null},DN=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{const i=r.length>0?r:n?[n]:[],[a,d]=L.useState("available");L.useState(1);const[g,v]=L.useState(!1),[x,b]=L.useState(""),[E,_]=L.useState(""),k=Zn(),A=["available","in-use","maintenance"],R=Yn({mutationFn:async I=>{const D=I.equipmentIds.map(O=>zO(O,I.status));return Promise.all(D)},onSuccess:()=>{k.invalidateQueries(["equipment"]),_(`Status successfully updated to ${a} for ${i.length} item${i.length!==1?"s":""}`),v(!1),setTimeout(()=>{t(),_("")},2e3)},onError:I=>{var D,O;console.error("Error updating status:",I),b(((O=(D=I.response)==null?void 0:D.data)==null?void 0:O.message)||"Failed to update status"),v(!1)}}),M=I=>{if(I.preventDefault(),i.length===0){b("No equipment items selected");return}v(!0),b(""),_(""),R.mutate({equipmentIds:i,status:a})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Status"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the status of ",i.length," item",i.length!==1?"s":"","."]})}),x&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),E&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),c.jsxs("form",{onSubmit:M,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Status"}),c.jsx("select",{id:"status",value:a,onChange:I=>d(I.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:A.map(I=>c.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:g,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:g,children:g?"Updating...":"Update Status"})]})]})]})}):null};DN.propTypes={isOpen:te.bool.isRequired,onClose:te.func.isRequired,equipmentId:te.oneOfType([te.string,te.number]),selectedItems:te.array};const IN=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var z;const i=r.length>0?r:n?[n]:[],[a,d]=L.useState(""),[g,v]=L.useState(""),[x,b]=L.useState(!1),[E,_]=L.useState(!1),[k,A]=L.useState(""),[R,M]=L.useState(""),I=Zn(),{data:D}=kt({queryKey:["locations"],queryFn:ml,staleTime:3e5}),O=Yn({mutationFn:async j=>{const G=j.equipmentIds.map(H=>WO(H,j.locationData));return Promise.all(G)},onSuccess:()=>{var G;I.invalidateQueries(["equipment"]);const j=x?g:((G=D==null?void 0:D.locations.find(H=>H.id.toString()===a))==null?void 0:G.name)||"selected location";M(`Location successfully updated to ${j} for ${i.length} item${i.length!==1?"s":""}`),_(!1),setTimeout(()=>{t(),M("")},2e3)},onError:j=>{var G,H;console.error("Error updating location:",j),A(((H=(G=j.response)==null?void 0:G.data)==null?void 0:H.message)||"Failed to update location"),_(!1)}}),q=j=>{if(j.preventDefault(),i.length===0){A("No equipment items selected");return}_(!0),A(""),M("");const G=x?{location:g}:{location_id:a};O.mutate({equipmentIds:i,locationData:G})},Q=()=>{b(!x),d(""),v("")};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Location"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the location of ",i.length," item",i.length!==1?"s":"","."]})}),k&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),R&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:R}),c.jsxs("form",{onSubmit:q,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"flex items-center mb-3",children:c.jsx("button",{type:"button",onClick:Q,className:"text-sm text-primary-600 hover:text-primary-800",children:x?"Select from existing locations":"Enter custom location"})}),x?c.jsxs("div",{children:[c.jsx("label",{htmlFor:"customLocation",className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom Location"}),c.jsx("input",{type:"text",id:"customLocation",value:g,onChange:j=>v(j.target.value),className:"w-full p-2 border border-slate-300 rounded-md",placeholder:"Enter location name",required:!0})]}):c.jsxs("div",{children:[c.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),c.jsxs("select",{id:"locationId",value:a,onChange:j=>d(j.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[c.jsx("option",{value:"",children:"Select a location"}),(z=D==null?void 0:D.locations)==null?void 0:z.map(j=>c.jsx("option",{value:j.id.toString(),children:j.name},j.id))]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:E,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:E||!a&&!g,children:E?"Updating...":"Update Location"})]})]})]})}):null};IN.propTypes={isOpen:te.bool.isRequired,onClose:te.func.isRequired,equipmentId:te.oneOfType([te.string,te.number]),selectedItems:te.array};const RN=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=L.useState(""),[a,d]=L.useState(!1),[g,v]=L.useState(""),[x,b]=L.useState(""),E=Zn(),{data:_,isLoading:k}=kt({queryKey:["equipment-types"],queryFn:js,staleTime:3e5});L.useEffect(()=>{_!=null&&_.types&&_.types.length>0&&!r&&i(_.types[0].id.toString())},[_,r]);const A=Yn({mutationFn:async M=>{const I=M.equipmentIds.map(D=>HO(D,M.typeId));return Promise.all(I)},onSuccess:()=>{var I;E.invalidateQueries(["equipment"]);const M=((I=_==null?void 0:_.types.find(D=>D.id.toString()===r))==null?void 0:I.name)||"selected type";b(`Type successfully updated to ${M} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),b("")},2e3)},onError:M=>{var I,D;console.error("Error updating type:",M),v(((D=(I=M.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to update type"),d(!1)}}),R=M=>{if(M.preventDefault(),n.length===0){v("No equipment items selected");return}if(!r){v("Please select a type");return}d(!0),v(""),b(""),A.mutate({equipmentIds:n,typeId:r})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Type"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the type of ",n.length," item",n.length!==1?"s":"","."]})}),g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),x&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:x}),c.jsxs("form",{onSubmit:R,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Type"}),c.jsxs("select",{id:"type",value:r,onChange:M=>i(M.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[c.jsx("option",{value:"",children:"Select a type"}),_!=null&&_.types&&_.types.length>0?_.types.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(Ve,{variant:"outline",onClick:t,disabled:a,children:"Cancel"}),c.jsx(Ve,{variant:"primary",type:"submit",disabled:a||!r,children:a?"Updating...":"Update Type"})]})]})]})}):null};RN.propTypes={isOpen:te.bool.isRequired,onClose:te.func.isRequired,selectedItems:te.array};const ON=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=L.useState(""),[a,d]=L.useState(!1),[g,v]=L.useState(""),[x,b]=L.useState(""),E=Zn(),{data:_,isLoading:k}=kt({queryKey:["categories"],queryFn:jc,staleTime:3e5});L.useEffect(()=>{_!=null&&_.categories&&_.categories.length>0&&!r&&i(_.categories[0].id.toString())},[_,r]);const A=Yn({mutationFn:async M=>{const I=M.equipmentIds.map(D=>qO(D,M.categoryId));return Promise.all(I)},onSuccess:()=>{var I;E.invalidateQueries(["equipment"]);const M=((I=_==null?void 0:_.categories.find(D=>D.id.toString()===r))==null?void 0:I.name)||"selected category";b(`Category successfully updated to ${M} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),b("")},2e3)},onError:M=>{var I,D;console.error("Error updating category:",M),v(((D=(I=M.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to update category"),d(!1)}}),R=M=>{if(M.preventDefault(),n.length===0){v("No equipment items selected");return}d(!0),v(""),b(""),A.mutate({equipmentIds:n,categoryId:r||null})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Category"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the category of ",n.length," item",n.length!==1?"s":"","."]})}),g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),x&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:x}),c.jsxs("form",{onSubmit:R,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Category"}),c.jsxs("select",{id:"category",value:r,onChange:M=>i(M.target.value),className:"w-full p-2 border border-slate-300 rounded-md",children:[c.jsx("option",{value:"",children:"None (Remove Category)"}),_!=null&&_.categories&&_.categories.length>0?_.categories.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(Ve,{variant:"outline",onClick:t,disabled:a,children:"Cancel"}),c.jsx(Ve,{variant:"primary",type:"submit",disabled:a,children:a?"Updating...":"Update Category"})]})]})]})}):null};ON.propTypes={isOpen:te.bool.isRequired,onClose:te.func.isRequired,selectedItems:te.array};const jN=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=L.useState(""),[a,d]=L.useState(""),[g,v]=L.useState(!0),[x,b]=L.useState(!0),[E,_]=L.useState(!1),[k,A]=L.useState(""),[R,M]=L.useState(""),I=Zn(),D=Yn({mutationFn:async q=>{const Q=q.equipmentIds.map(z=>VO(z,q.updateData));return Promise.all(Q)},onSuccess:()=>{I.invalidateQueries(["equipment"]);let q="Successfully updated ";g&&x?q+=`brand to "${r}" and model to "${a}"`:g?q+=`brand to "${r}"`:x&&(q+=`model to "${a}"`),M(`${q} for ${n.length} item${n.length!==1?"s":""}`),_(!1),setTimeout(()=>{t(),M("")},2e3)},onError:q=>{var Q,z;console.error("Error updating brand/model:",q),A(((z=(Q=q.response)==null?void 0:Q.data)==null?void 0:z.message)||"Failed to update brand/model"),_(!1)}}),O=q=>{if(q.preventDefault(),n.length===0){A("No equipment items selected");return}if(!g&&!x){A("Please select at least one field to update");return}if(g&&!r||x&&!a){A("Please fill in all selected fields");return}_(!0),A(""),M("");const Q={};g&&(Q.brand=r),x&&(Q.model=a),D.mutate({equipmentIds:n,updateData:Q})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Brand & Model"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating ",n.length," item",n.length!==1?"s":"","."]})}),k&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),R&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:R}),c.jsxs("form",{onSubmit:O,children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("input",{type:"checkbox",id:"updateBrand",checked:g,onChange:q=>v(q.target.checked),className:"mr-2"}),c.jsx("label",{htmlFor:"updateBrand",className:"text-sm font-medium text-slate-700",children:"Update Brand"})]}),c.jsx("input",{type:"text",id:"brand",value:r,onChange:q=>i(q.target.value),disabled:!g,className:`w-full p-2 border border-slate-300 rounded-md ${g?"":"bg-slate-100"}`,placeholder:"Enter new brand"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("input",{type:"checkbox",id:"updateModel",checked:x,onChange:q=>b(q.target.checked),className:"mr-2"}),c.jsx("label",{htmlFor:"updateModel",className:"text-sm font-medium text-slate-700",children:"Update Model"})]}),c.jsx("input",{type:"text",id:"model",value:a,onChange:q=>d(q.target.value),disabled:!x,className:`w-full p-2 border border-slate-300 rounded-md ${x?"":"bg-slate-100"}`,placeholder:"Enter new model"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(Ve,{variant:"outline",onClick:t,disabled:E,children:"Cancel"}),c.jsx(Ve,{variant:"primary",type:"submit",disabled:E||!g&&!x||g&&!r||x&&!a,children:E?"Updating...":"Update"})]})]})]})}):null};jN.propTypes={isOpen:te.bool.isRequired,onClose:te.func.isRequired,selectedItems:te.array};const h2=({onBatchDuplicate:e,onBatchStatusUpdate:t,onBatchLocationChange:n,equipmentId:r})=>{const[i,a]=L.useState(!1),d=L.useRef(null),g=us();L.useEffect(()=>{const A=R=>{d.current&&!d.current.contains(R.target)&&a(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const v=()=>{a(!i)},x=()=>{a(!1),g(`/equipment/${r}`)},b=()=>{a(!1),g(`/equipment/${r}/edit`)},E=()=>{a(!1),e(r)},_=()=>{a(!1),t&&t(r)},k=()=>{a(!1),n&&n(r)};return c.jsxs("div",{className:"relative",ref:d,children:[c.jsx("button",{onClick:v,className:"p-1 rounded-md hover:bg-slate-100 border border-slate-200",title:"Actions","aria-label":"Actions menu",children:c.jsx(OE,{className:"w-4 h-4 text-slate-600"})}),i&&c.jsx("div",{className:"dropdown-menu",children:c.jsxs("div",{className:"py-0.5",children:[c.jsxs("button",{onClick:x,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(RE,{className:"w-3.5 h-3.5 mr-1.5"}),"View Details"]}),c.jsxs("button",{onClick:b,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(qx,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),c.jsxs("button",{onClick:E,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(Gx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),c.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Status"]}),c.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Location"]})]})})]})};h2.propTypes={onBatchDuplicate:te.func.isRequired,onBatchStatusUpdate:te.func,onBatchLocationChange:te.func,equipmentId:te.oneOfType([te.string,te.number]).isRequired};const MN=({selectedItems:e,onBatchDuplicate:t,onBatchStatusUpdate:n,onBatchLocationChange:r,onBatchTypeChange:i,onBatchCategoryChange:a,onBatchBrandModelChange:d,onClearSelection:g})=>{const[v,x]=L.useState(!1),b=L.useRef(null);kt({queryKey:["equipment-types"],queryFn:js,staleTime:3e5}),kt({queryKey:["locations"],queryFn:ml,staleTime:3e5}),kt({queryKey:["categories"],queryFn:jc,staleTime:3e5}),L.useEffect(()=>{const D=O=>{b.current&&!b.current.contains(O.target)&&x(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const E=()=>{x(!v)},_=()=>{x(!1),t()},k=()=>{x(!1),n()},A=()=>{x(!1),r()},R=()=>{x(!1),i()},M=()=>{x(!1),a()},I=()=>{x(!1),d()};return c.jsxs("div",{className:"relative",ref:b,children:[c.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[c.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e.length," item",e.length!==1?"s":""," selected"]}),c.jsx(Ve,{variant:"outline",size:"sm",onClick:g,className:"text-xs py-0.5 px-2 bg-white",children:"Clear"}),c.jsxs(Ve,{variant:"outline",size:"sm",onClick:E,className:"flex items-center text-xs py-0.5 px-2 bg-white",children:["Actions ",c.jsx(OE,{className:"w-3 h-3 ml-1"})]})]}),v&&c.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white rounded-md shadow-lg border border-slate-200 w-48",children:c.jsxs("div",{className:"py-0.5",children:[c.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(Gx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),c.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Status"]}),c.jsxs("button",{onClick:A,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Location"]}),c.jsxs("button",{onClick:R,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Type"]}),c.jsxs("button",{onClick:M,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Category"]}),c.jsxs("button",{onClick:I,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Brand/Model"]})]})})]})};MN.propTypes={selectedItems:te.array.isRequired,onBatchDuplicate:te.func.isRequired,onBatchStatusUpdate:te.func.isRequired,onBatchLocationChange:te.func.isRequired,onBatchTypeChange:te.func,onBatchCategoryChange:te.func,onBatchBrandModelChange:te.func,onClearSelection:te.func.isRequired};const LN=({equipment:e,onDuplicate:t,onSelect:n,isSelected:r})=>{const i=us();Jn();const[a,d]=L.useState(!1);let g=null;if(e.reference_image_id)g=th(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const b=e.files.find(E=>E.file_type==="image");b&&(g=th(b.id,!0))}const v=b=>{switch(b){case"available":return"badge-success";case"in-use":return"badge-info";case"maintenance":return"badge-warning";default:return"badge-secondary"}},x=b=>{b.target.type==="checkbox"||b.target.closest("button")||b.target.closest("a")||b.target.closest(".btn-icon")||i(`/equipment/${e.id}`)};return c.jsxs("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden h-full ${r?"bg-blue-50 border-2 border-blue-300":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:x,children:[c.jsx("div",{className:"absolute top-2 left-2 z-10",children:c.jsx("input",{type:"checkbox",checked:r,onChange:()=>n&&n(e.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})}),c.jsx("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:g?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:g,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):c.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:c.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})})}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&c.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),c.jsx("span",{className:`badge ${v(e.status)}`,children:e.status})]}),c.jsxs("h2",{className:"text-lg font-semibold mb-1",children:[e.brand," ",e.model]}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",e.serial_number]}),e.location&&c.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Location: ",e.location]}),c.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[c.jsx(jn,{to:`/equipment/${e.id}/edit`,className:"btn-icon text-slate-600 hover:text-slate-800 hover:bg-slate-50",title:"Edit equipment",children:c.jsx(qx,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>t(e.id),className:"btn-icon text-green-600 hover:text-green-800 hover:bg-green-50",title:"Duplicate equipment",children:c.jsx(Gx,{className:"w-5 h-5"})}),c.jsx(h2,{equipmentId:e.id,onBatchDuplicate:()=>{const b=new CustomEvent("batchDuplicate",{detail:{id:e.id}});document.dispatchEvent(b)},onBatchStatusUpdate:()=>{const b=new CustomEvent("batchStatusUpdate",{detail:{id:e.id}});document.dispatchEvent(b)},onBatchLocationChange:()=>{const b=new CustomEvent("batchLocationChange",{detail:{id:e.id}});document.dispatchEvent(b)}})]})]})]})};LN.propTypes={equipment:te.object.isRequired,onDuplicate:te.func.isRequired,onSelect:te.func,isSelected:te.bool};const Fa=({field:e,label:t,currentSortField:n,currentSortOrder:r,onSort:i,className:a=""})=>{const d=n===e;return c.jsx("th",{className:`table-header-cell cursor-pointer select-none ${a}`,onClick:()=>i(e),children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{children:t}),c.jsx("div",{className:"flex flex-col h-4 justify-center",children:d?r==="asc"?c.jsx($w,{className:"w-3 h-3 text-primary-600"}):c.jsx(rj,{className:"w-3 h-3 text-primary-600"}):c.jsx("div",{className:"w-3 h-3 opacity-60",children:c.jsx($w,{className:"w-3 h-3 text-gray-500"})})})]})})};Fa.propTypes={field:te.string.isRequired,label:te.string.isRequired,currentSortField:te.string.isRequired,currentSortOrder:te.string.isRequired,onSort:te.func.isRequired,className:te.string};function gl(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(b){try{x(r.next(b))}catch(E){d(E)}}function v(b){try{x(r.throw(b))}catch(E){d(E)}}function x(b){b.done?a(b.value):i(b.value).then(g,v)}x((r=r.apply(e,t||[])).next())})}const $F=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ec(e,t,n){const r=XF(e),{webkitRelativePath:i}=e,a=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&Vb(r,"path",a),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Vb(r,"relativePath",a),r}function XF(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=$F.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function Vb(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const QF=[".DS_Store","Thumbs.db"];function KF(e){return gl(this,void 0,void 0,function*(){return xh(e)&&ZF(e.dataTransfer)?nB(e.dataTransfer,e.type):JF(e)?eB(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?tB(e):[]})}function ZF(e){return xh(e)}function JF(e){return xh(e)&&xh(e.target)}function xh(e){return typeof e=="object"&&e!==null}function eB(e){return Ng(e.target.files).map(t=>Ec(t))}function tB(e){return gl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Ec(n))})}function nB(e,t){return gl(this,void 0,void 0,function*(){if(e.items){const n=Ng(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(rB));return Yb(PN(r))}return Yb(Ng(e.files).map(n=>Ec(n)))})}function Yb(e){return e.filter(t=>QF.indexOf(t.name)===-1)}function Ng(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function rB(e){if(typeof e.webkitGetAsEntry!="function")return Gb(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?FN(t):Gb(e,t)}function PN(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?PN(n):[n]],[])}function Gb(e,t){return gl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const d=yield a.getFile();return d.handle=a,Ec(d)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Ec(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function iB(e){return gl(this,void 0,void 0,function*(){return e.isDirectory?FN(e):sB(e)})}function FN(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function a(){t.readEntries(d=>gl(this,void 0,void 0,function*(){if(d.length){const g=Promise.all(d.map(iB));i.push(g),a()}else try{const g=yield Promise.all(i);n(g)}catch(g){r(g)}}),d=>{r(d)})}a()})}function sB(e){return gl(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=Ec(r,e.fullPath);t(i)},r=>{n(r)})})})}var J1=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(d){var g=d.trim().toLowerCase();return g.charAt(0)==="."?r.toLowerCase().endsWith(g):g.endsWith("/*")?a===g.replace(/\/.*$/,""):i===g})}return!0};function $b(e){return lB(e)||oB(e)||UN(e)||aB()}function aB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lB(e){if(Array.isArray(e))return _g(e)}function Xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(n),!0).forEach(function(r){BN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dd(e,t){return dB(e)||uB(e,t)||UN(e,t)||cB()}function cB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UN(e,t){if(e){if(typeof e=="string")return _g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _g(e,t)}}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,d,g;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(v){a=!0,g=v}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw g}}return r}}function dB(e){if(Array.isArray(e))return e}var fB=typeof J1=="function"?J1:J1.default,hB="file-invalid-type",pB="file-too-large",mB="file-too-small",gB="too-many-files",xB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:hB,message:"File type must be ".concat(r)}},Kb=function(t){return{code:pB,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Zb=function(t){return{code:mB,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},vB={code:gB,message:"Too many files"};function zN(e,t){var n=e.type==="application/x-moz-file"||fB(e,t);return[n,n?null:xB(t)]}function WN(e,t,n){if(Wo(e.size))if(Wo(t)&&Wo(n)){if(e.size>n)return[!1,Kb(n)];if(e.size<t)return[!1,Zb(t)]}else{if(Wo(t)&&e.size<t)return[!1,Zb(t)];if(Wo(n)&&e.size>n)return[!1,Kb(n)]}return[!0,null]}function Wo(e){return e!=null}function yB(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,d=e.maxFiles,g=e.validator;return!a&&t.length>1||a&&d>=1&&t.length>d?!1:t.every(function(v){var x=zN(v,n),b=dd(x,1),E=b[0],_=WN(v,r,i),k=dd(_,1),A=k[0],R=g?g(v):null;return E&&A&&!R})}function vh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Qf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Jb(e){e.preventDefault()}function wB(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function bB(e){return e.indexOf("Edge/")!==-1}function CB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return wB(e)||bB(e)}function ws(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),d=1;d<i;d++)a[d-1]=arguments[d];return t.some(function(g){return!vh(r)&&g&&g.apply(void 0,[r].concat(a)),vh(r)})}}function EB(){return"showOpenFilePicker"in window}function NB(e){if(Wo(e)){var t=Object.entries(e).filter(function(n){var r=dd(n,2),i=r[0],a=r[1],d=!0;return HN(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(a)||!a.every(qN))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(n,r){var i=dd(r,2),a=i[0],d=i[1];return Qb(Qb({},n),{},BN({},a,d))},{});return[{description:"Files",accept:t}]}return e}function _B(e){if(Wo(e))return Object.entries(e).reduce(function(t,n){var r=dd(n,2),i=r[0],a=r[1];return[].concat($b(t),[i],$b(a))},[]).filter(function(t){return HN(t)||qN(t)}).join(",")}function SB(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function AB(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function HN(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function qN(e){return/^.*\.[\w]+$/.test(e)}var TB=["children"],kB=["open"],DB=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],IB=["refKey","onChange","onClick"];function RB(e){return MB(e)||jB(e)||VN(e)||OB()}function OB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MB(e){if(Array.isArray(e))return Sg(e)}function em(e,t){return FB(e)||PB(e,t)||VN(e,t)||LB()}function LB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VN(e,t){if(e){if(typeof e=="string")return Sg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sg(e,t)}}function Sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,d,g;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(v){a=!0,g=v}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw g}}return r}}function FB(e){if(Array.isArray(e))return e}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(r){Ag(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yh(e,t){if(e==null)return{};var n=BB(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var p2=L.forwardRef(function(e,t){var n=e.children,r=yh(e,TB),i=_d(r),a=i.open,d=yh(i,kB);return L.useImperativeHandle(t,function(){return{open:a}},[a]),ue.createElement(L.Fragment,null,n(En(En({},d),{},{open:a})))});p2.displayName="Dropzone";var YN={disabled:!1,getFilesFromEvent:KF,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};p2.defaultProps=YN;p2.propTypes={children:te.func,accept:te.objectOf(te.arrayOf(te.string)),multiple:te.bool,preventDropOnDocument:te.bool,noClick:te.bool,noKeyboard:te.bool,noDrag:te.bool,noDragEventsBubbling:te.bool,minSize:te.number,maxSize:te.number,maxFiles:te.number,disabled:te.bool,getFilesFromEvent:te.func,onFileDialogCancel:te.func,onFileDialogOpen:te.func,useFsAccessApi:te.bool,autoFocus:te.bool,onDragEnter:te.func,onDragLeave:te.func,onDragOver:te.func,onDrop:te.func,onDropAccepted:te.func,onDropRejected:te.func,onError:te.func,validator:te.func};var Tg={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function _d(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=En(En({},YN),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,d=t.minSize,g=t.multiple,v=t.maxFiles,x=t.onDragEnter,b=t.onDragLeave,E=t.onDragOver,_=t.onDrop,k=t.onDropAccepted,A=t.onDropRejected,R=t.onFileDialogCancel,M=t.onFileDialogOpen,I=t.useFsAccessApi,D=t.autoFocus,O=t.preventDropOnDocument,q=t.noClick,Q=t.noKeyboard,z=t.noDrag,j=t.noDragEventsBubbling,G=t.onError,H=t.validator,se=L.useMemo(function(){return _B(n)},[n]),fe=L.useMemo(function(){return NB(n)},[n]),ae=L.useMemo(function(){return typeof M=="function"?M:t3},[M]),re=L.useMemo(function(){return typeof R=="function"?R:t3},[R]),ve=L.useRef(null),ee=L.useRef(null),ge=L.useReducer(UB,Tg),me=em(ge,2),ce=me[0],Se=me[1],Re=ce.isFocused,Ye=ce.isFileDialogActive,nt=L.useRef(typeof window<"u"&&window.isSecureContext&&I&&EB()),sn=function(){!nt.current&&Ye&&setTimeout(function(){if(ee.current){var Ge=ee.current.files;Ge.length||(Se({type:"closeDialog"}),re())}},300)};L.useEffect(function(){return window.addEventListener("focus",sn,!1),function(){window.removeEventListener("focus",sn,!1)}},[ee,Ye,re,nt]);var gt=L.useRef([]),hn=function(Ge){ve.current&&ve.current.contains(Ge.target)||(Ge.preventDefault(),gt.current=[])};L.useEffect(function(){return O&&(document.addEventListener("dragover",Jb,!1),document.addEventListener("drop",hn,!1)),function(){O&&(document.removeEventListener("dragover",Jb),document.removeEventListener("drop",hn))}},[ve,O]),L.useEffect(function(){return!r&&D&&ve.current&&ve.current.focus(),function(){}},[ve,D,r]);var De=L.useCallback(function(ke){G?G(ke):console.error(ke)},[G]),Oe=L.useCallback(function(ke){ke.preventDefault(),ke.persist(),Ie(ke),gt.current=[].concat(RB(gt.current),[ke.target]),Qf(ke)&&Promise.resolve(i(ke)).then(function(Ge){if(!(vh(ke)&&!j)){var At=Ge.length,Jt=At>0&&yB({files:Ge,accept:se,minSize:d,maxSize:a,multiple:g,maxFiles:v,validator:H}),Ht=At>0&&!Jt;Se({isDragAccept:Jt,isDragReject:Ht,isDragActive:!0,type:"setDraggedFiles"}),x&&x(ke)}}).catch(function(Ge){return De(Ge)})},[i,x,De,j,se,d,a,g,v,H]),We=L.useCallback(function(ke){ke.preventDefault(),ke.persist(),Ie(ke);var Ge=Qf(ke);if(Ge&&ke.dataTransfer)try{ke.dataTransfer.dropEffect="copy"}catch{}return Ge&&E&&E(ke),!1},[E,j]),Qt=L.useCallback(function(ke){ke.preventDefault(),ke.persist(),Ie(ke);var Ge=gt.current.filter(function(Jt){return ve.current&&ve.current.contains(Jt)}),At=Ge.indexOf(ke.target);At!==-1&&Ge.splice(At,1),gt.current=Ge,!(Ge.length>0)&&(Se({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Qf(ke)&&b&&b(ke))},[ve,b,j]),Gn=L.useCallback(function(ke,Ge){var At=[],Jt=[];ke.forEach(function(Ht){var ln=zN(Ht,se),si=em(ln,2),Ni=si[0],Ls=si[1],Kt=WN(Ht,d,a),Te=em(Kt,2),en=Te[0],_t=Te[1],Bt=H?H(Ht):null;if(Ni&&en&&!Bt)At.push(Ht);else{var Gi=[Ls,_t];Bt&&(Gi=Gi.concat(Bt)),Jt.push({file:Ht,errors:Gi.filter(function(xo){return xo})})}}),(!g&&At.length>1||g&&v>=1&&At.length>v)&&(At.forEach(function(Ht){Jt.push({file:Ht,errors:[vB]})}),At.splice(0)),Se({acceptedFiles:At,fileRejections:Jt,isDragReject:Jt.length>0,type:"setFiles"}),_&&_(At,Jt,Ge),Jt.length>0&&A&&A(Jt,Ge),At.length>0&&k&&k(At,Ge)},[Se,g,se,d,a,v,_,k,A,H]),Ft=L.useCallback(function(ke){ke.preventDefault(),ke.persist(),Ie(ke),gt.current=[],Qf(ke)&&Promise.resolve(i(ke)).then(function(Ge){vh(ke)&&!j||Gn(Ge,ke)}).catch(function(Ge){return De(Ge)}),Se({type:"reset"})},[i,Gn,De,j]),pn=L.useCallback(function(){if(nt.current){Se({type:"openDialog"}),ae();var ke={multiple:g,types:fe};window.showOpenFilePicker(ke).then(function(Ge){return i(Ge)}).then(function(Ge){Gn(Ge,null),Se({type:"closeDialog"})}).catch(function(Ge){SB(Ge)?(re(Ge),Se({type:"closeDialog"})):AB(Ge)?(nt.current=!1,ee.current?(ee.current.value=null,ee.current.click()):De(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):De(Ge)});return}ee.current&&(Se({type:"openDialog"}),ae(),ee.current.value=null,ee.current.click())},[Se,ae,re,I,Gn,De,fe,g]),dt=L.useCallback(function(ke){!ve.current||!ve.current.isEqualNode(ke.target)||(ke.key===" "||ke.key==="Enter"||ke.keyCode===32||ke.keyCode===13)&&(ke.preventDefault(),pn())},[ve,pn]),Ee=L.useCallback(function(){Se({type:"focus"})},[]),Qe=L.useCallback(function(){Se({type:"blur"})},[]),Pn=L.useCallback(function(){q||(CB()?setTimeout(pn,0):pn())},[q,pn]),at=function(Ge){return r?null:Ge},ct=function(Ge){return Q?null:at(Ge)},Ke=function(Ge){return z?null:at(Ge)},Ie=function(Ge){j&&Ge.stopPropagation()},Ne=L.useMemo(function(){return function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ge=ke.refKey,At=Ge===void 0?"ref":Ge,Jt=ke.role,Ht=ke.onKeyDown,ln=ke.onFocus,si=ke.onBlur,Ni=ke.onClick,Ls=ke.onDragEnter,Kt=ke.onDragOver,Te=ke.onDragLeave,en=ke.onDrop,_t=yh(ke,DB);return En(En(Ag({onKeyDown:ct(ws(Ht,dt)),onFocus:ct(ws(ln,Ee)),onBlur:ct(ws(si,Qe)),onClick:at(ws(Ni,Pn)),onDragEnter:Ke(ws(Ls,Oe)),onDragOver:Ke(ws(Kt,We)),onDragLeave:Ke(ws(Te,Qt)),onDrop:Ke(ws(en,Ft)),role:typeof Jt=="string"&&Jt!==""?Jt:"presentation"},At,ve),!r&&!Q?{tabIndex:0}:{}),_t)}},[ve,dt,Ee,Qe,Pn,Oe,We,Qt,Ft,Q,z,r]),Fn=L.useCallback(function(ke){ke.stopPropagation()},[]),pr=L.useMemo(function(){return function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ge=ke.refKey,At=Ge===void 0?"ref":Ge,Jt=ke.onChange,Ht=ke.onClick,ln=yh(ke,IB),si=Ag({accept:se,multiple:g,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:at(ws(Jt,Ft)),onClick:at(ws(Ht,Fn)),tabIndex:-1},At,ee);return En(En({},si),ln)}},[ee,n,g,Ft,r]);return En(En({},ce),{},{isFocused:Re&&!r,getRootProps:Ne,getInputProps:pr,rootRef:ve,inputRef:ee,open:at(pn)})}function UB(e,t){switch(t.type){case"focus":return En(En({},e),{},{isFocused:!0});case"blur":return En(En({},e),{},{isFocused:!1});case"openDialog":return En(En({},Tg),{},{isFileDialogActive:!0});case"closeDialog":return En(En({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return En(En({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return En(En({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return En({},Tg);default:return e}}function t3(){}const zB=async(e="csv",t={})=>{try{const n={format:e};return Object.entries(t).forEach(([i,a])=>{i==="selectedIds"&&Array.isArray(a)&&a.length>0?n.selectedIds=JSON.stringify(a):n[i]=a}),console.log("Export params:",n),(await it.get("/api/import-export/export",{params:n,responseType:"blob"})).data}catch(n){throw console.error("Error exporting equipment:",n),n}},WB=async(e,t={})=>{try{const n=new FormData;return n.append("file",e),Object.entries(t).forEach(([i,a])=>{n.append(i,a)}),(await it.post("/api/import-export/import",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error importing equipment:",n),n}},HB=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)},qB=({isOpen:e,onClose:t,filters:n={},selectedItems:r=[]})=>{const[i,a]=L.useState("export"),[d,g]=L.useState("csv"),[v,x]=L.useState(!1),[b,E]=L.useState(!1),[_,k]=L.useState(null),[A,R]=L.useState(!0),[M,I]=L.useState(null),[D,O]=L.useState(""),{user:q}=Jn(),Q=Zn(),z=q&&(q.role==="admin"||q.role==="advanced"),{getRootProps:j,getInputProps:G,isDragActive:H}=_d({onDrop:ae=>{ae.length>0&&(k(ae[0]),O(""))},accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/json":[".json"]},maxFiles:1}),se=async()=>{try{E(!0),O("");const ae=new Date().toISOString().split("T")[0],re={...n};v&&r.length>0&&(re.selectedIds=r);const ve=await zB(d,re);let ee;const ge=v&&r.length>0?`equipment_selected_${r.length}_items_${ae}`:`equipment_export_${ae}`;switch(d){case"csv":ee=`${ge}.csv`;break;case"xlsx":ee=`${ge}.xlsx`;break;case"json":ee=`${ge}.json`;break;default:ee=ge}HB(ve,ee),E(!1)}catch(ae){console.error("Export error:",ae),O("Failed to export data. Please try again."),E(!1)}},fe=async()=>{if(!_){O("Please select a file to import");return}try{E(!0),O(""),I(null);const ae=await WB(_,{updateExisting:A});I(ae.results),Q.invalidateQueries(["equipment"]),E(!1),k(null),ae.results.errors.length===0&&setTimeout(()=>{t()},3e3)}catch(ae){console.error("Import error:",ae),O("Failed to import data. Please check your file and try again."),E(!1)}};return!e||!z?null:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Import/Export Equipment"}),c.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"flex border-b",children:[c.jsx("button",{className:`px-4 py-2 ${i==="export"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("export"),children:"Export"}),c.jsx("button",{className:`px-4 py-2 ${i==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("import"),children:"Import"})]}),c.jsx("div",{className:"p-4",children:i==="export"?c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Format"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"csv",checked:d==="csv",onChange:()=>g("csv")}),c.jsx("span",{className:"ml-2",children:"CSV"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"xlsx",checked:d==="xlsx",onChange:()=>g("xlsx")}),c.jsx("span",{className:"ml-2",children:"Excel (XLSX)"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"json",checked:d==="json",onChange:()=>g("json")}),c.jsx("span",{className:"ml-2",children:"JSON"})]})]})]}),r.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Scope"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:!v,onChange:()=>x(!1)}),c.jsx("span",{className:"ml-2",children:"All equipment (with filters)"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:v,onChange:()=>x(!0)}),c.jsxs("span",{className:"ml-2",children:["Selected items only (",r.length,")"]})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("p",{className:"text-sm text-gray-600",children:v&&r.length>0?`This will export ${r.length} selected equipment items.`:"This will export all equipment data based on your current filters."})}),D&&c.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:t,disabled:b,className:"btn btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:se,disabled:b,className:`btn ${b?"bg-blue-400":"btn-primary"}`,children:b?c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload File"}),c.jsxs("div",{...j(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${H?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[c.jsx("input",{...G()}),_?c.jsxs("div",{children:[c.jsxs("p",{className:"text-green-600",children:["File selected: ",_.name]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(_.size/1024).toFixed(2)," KB"]})]}):H?c.jsx("p",{className:"text-blue-500",children:"Drop the file here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop a file here, or click to select a file"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Accepted file types: CSV, XLSX, JSON"})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",className:"form-checkbox",checked:A,onChange:ae=>R(ae.target.checked)}),c.jsx("span",{className:"ml-2",children:"Update existing equipment if found"})]})}),D&&c.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),M&&c.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:[c.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),c.jsxs("ul",{className:"text-sm text-green-700",children:[c.jsxs("li",{children:["Total records processed: ",M.total]}),c.jsxs("li",{children:["New records created: ",M.created]}),c.jsxs("li",{children:["Existing records updated: ",M.updated]}),c.jsxs("li",{children:["Errors: ",M.errors.length]})]}),M.errors.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),c.jsx("ul",{className:"text-sm text-red-700 mt-1 max-h-32 overflow-y-auto",children:M.errors.map((ae,re)=>c.jsxs("li",{children:[ae.record.serial_number||ae.record.id||`Row ${re+1}`,": ",ae.error]},re))})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:t,disabled:b,className:"btn btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:fe,disabled:b||!_,className:`btn ${b?"bg-blue-400":"btn-primary"}`,children:b?c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import"})]})]})})]})})},VB=()=>{var Ke;const e=us(),t=L.useRef(null),[n]=L.useState(20),[r,i]=L.useState({type:"",brand:"",status:"",location_id:"",search:""}),[a,d]=L.useState([]),[g,v]=L.useState(!1),[x,b]=L.useState("updated_at"),[E,_]=L.useState("desc"),[k,A]=L.useState("list"),[R,M]=L.useState(!1);L.useEffect(()=>{const Ie=localStorage.getItem("equipmentViewMode");Ie&&A(Ie);const Ne=localStorage.getItem("equipmentShowThumbnails");Ne!==null&&M(Ne==="true")},[]),L.useEffect(()=>{localStorage.setItem("equipmentViewMode",k)},[k]),L.useEffect(()=>{localStorage.setItem("equipmentShowThumbnails",R.toString())},[R]);const[I,D]=L.useState(!1),[O,q]=L.useState(!1),[Q,z]=L.useState(!1),[j,G]=L.useState(!1),[H,se]=L.useState(!1),[fe,ae]=L.useState(!1),[re,ve]=L.useState(!1),[ee,ge]=L.useState(!1),[me,ce]=L.useState(null);L.useEffect(()=>{const Ie=pr=>{const{id:ke}=pr.detail;ce(ke),q(!0)},Ne=pr=>{const{id:ke}=pr.detail;ce(ke),z(!0)},Fn=pr=>{const{id:ke}=pr.detail;ce(ke),G(!0)};return document.addEventListener("batchDuplicate",Ie),document.addEventListener("batchStatusUpdate",Ne),document.addEventListener("batchLocationChange",Fn),()=>{document.removeEventListener("batchDuplicate",Ie),document.removeEventListener("batchStatusUpdate",Ne),document.removeEventListener("batchLocationChange",Fn)}},[]);const{data:Se,fetchNextPage:Re,hasNextPage:Ye,isFetchingNextPage:nt,isLoading:sn,isError:gt,error:hn}=Lx(["equipment",r,x,E],async({pageParam:Ie=1})=>{const Ne={page:Ie,limit:n,...r,sortBy:x,sortOrder:E};return Jo(Ne)},{getNextPageParam:Ie=>{if(Ie.page<Ie.totalPages)return Ie.page+1},keepPreviousData:!0}),{data:De}=kt({queryKey:["equipment-types"],queryFn:js,staleTime:3e5}),{data:Oe}=kt(["locations"],ml),We=(Se==null?void 0:Se.pages.flatMap(Ie=>Ie.equipment))||[];L.useEffect(()=>{const Ie=new IntersectionObserver(Ne=>{Ne[0].isIntersecting&&Ye&&!nt&&Re()},{threshold:.5});return t.current&&Ie.observe(t.current),()=>{t.current&&Ie.unobserve(t.current)}},[t,Re,Ye,nt]);const Qt=Ie=>{ce(Ie),D(!0)},Gn=()=>{D(!1),ce(null)},Ft=()=>{q(!1),ce(null)},pn=Ie=>{const{name:Ne,value:Fn}=Ie.target;i(pr=>({...pr,[Ne]:Fn}))},dt=Ie=>{Ie.preventDefault()},Ee=Ie=>{x===Ie?_(Ne=>Ne==="asc"?"desc":"asc"):(b(Ie),_("desc"))},Qe=Ie=>{d(Ne=>Ne.includes(Ie)?Ne.filter(Fn=>Fn!==Ie):[...Ne,Ie])},Pn=()=>{if(g)d([]);else{const Ie=We.map(Ne=>Ne.id);d(Ie)}v(!g)},at=()=>{d([]),v(!1)},ct=(Ie,Ne)=>{Ne.target.type==="checkbox"||Ne.target.closest("button")||Ne.target.closest("a")||Ne.target.closest(".btn-icon")||e(`/equipment/${Ie}`)};return sn?c.jsx("div",{className:"text-center py-10",children:"Loading..."}):gt?c.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",hn.message||"Failed to load equipment"]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(YF,{isOpen:I,onClose:Gn,equipmentId:me}),c.jsx(GF,{isOpen:O,onClose:Ft,equipmentId:me,selectedItems:a}),c.jsx(DN,{isOpen:Q,onClose:()=>z(!1),equipmentId:me,selectedItems:a}),c.jsx(IN,{isOpen:j,onClose:()=>G(!1),equipmentId:me,selectedItems:a}),c.jsx(RN,{isOpen:H,onClose:()=>se(!1),selectedItems:a}),c.jsx(ON,{isOpen:fe,onClose:()=>ae(!1),selectedItems:a}),c.jsx(jN,{isOpen:re,onClose:()=>ve(!1),selectedItems:a}),c.jsx(qB,{isOpen:ee,onClose:()=>ge(!1),filters:r,selectedItems:a}),c.jsx("div",{className:"card",children:c.jsxs("form",{onSubmit:dt,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),c.jsxs("div",{className:"input-group",children:[c.jsx(Vx,{className:"input-icon w-4 h-4"}),c.jsx("input",{type:"text",id:"search",name:"search",value:r.search,onChange:pn,placeholder:"Search equipment...",className:"input input-with-icon"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"label",children:"Type"}),c.jsxs("select",{id:"type",name:"type",value:r.type,onChange:pn,className:"input",children:[c.jsx("option",{value:"",children:"All Types"}),De!=null&&De.types&&De.types.length>0?De.types.map(Ie=>c.jsx("option",{value:Ie.name.toLowerCase(),children:Ie.name},Ie.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),c.jsxs("select",{id:"status",name:"status",value:r.status,onChange:pn,className:"input",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"available",children:"Available"}),c.jsx("option",{value:"in-use",children:"In Use"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),c.jsxs("select",{id:"location_id",name:"location_id",value:r.location_id,onChange:pn,className:"input",children:[c.jsx("option",{value:"",children:"All Locations"}),(Ke=Oe==null?void 0:Oe.locations)==null?void 0:Ke.map(Ie=>c.jsx("option",{value:Ie.id.toString(),children:Ie.name},Ie.id))]})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{type:"button",onClick:()=>{i({type:"",brand:"",status:"",location_id:"",search:""})},className:"btn btn-outline w-full",children:"Clear All Filters"})}),c.jsx("div",{className:"flex items-end",children:c.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[c.jsx(Yx,{className:"w-4 h-4"}),c.jsx("span",{children:"Apply Filters"})]})})]})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex flex-col space-y-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mr-4",children:"Equipment List"}),c.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden mr-2",children:[c.jsx("button",{onClick:()=>A("list"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="list"?"bg-white text-primary-600 border-r border-slate-200 hover:bg-primary-50":"bg-white text-slate-600 border-r border-slate-200 hover:bg-slate-50"}`,title:"List view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c.jsx("button",{onClick:()=>A("card"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="card"?"bg-white text-primary-600 hover:bg-primary-50":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),a.length>0&&c.jsx("div",{className:"ml-2",children:c.jsx(MN,{selectedItems:a,onBatchDuplicate:()=>q(!0),onBatchStatusUpdate:()=>z(!0),onBatchLocationChange:()=>G(!0),onBatchTypeChange:()=>se(!0),onBatchCategoryChange:()=>ae(!0),onBatchBrandModelChange:()=>ve(!0),onClearSelection:at})})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>ge(!0),className:"btn btn-secondary btn-sm",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(sj,{className:"w-4 h-4 mr-1"}),c.jsx(aj,{className:"w-4 h-4 mr-1"}),c.jsx("span",{children:"Import/Export"})]})}),c.jsxs(jn,{to:"/equipment/new",className:"btn btn-primary btn-sm",children:[c.jsx(IE,{className:"w-4 h-4"}),c.jsx("span",{children:"Add New Equipment"})]})]})]})}),k==="card"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:We.length>0?We.map(Ie=>c.jsx(LN,{equipment:Ie,onDuplicate:Qt,onSelect:Qe,isSelected:a.includes(Ie.id)},Ie.id)):c.jsx("div",{className:"col-span-3 py-8 text-center text-gray-500",children:"No equipment found"})}),k==="list"&&c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell w-10",children:c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("input",{type:"checkbox",checked:g,onChange:Pn,className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),c.jsx(Fa,{field:"type",label:"Type",currentSortField:x,currentSortOrder:E,onSort:Ee}),c.jsx(Fa,{field:"category",label:"Category",currentSortField:x,currentSortOrder:E,onSort:Ee}),c.jsx(Fa,{field:"brand",label:"Brand",currentSortField:x,currentSortOrder:E,onSort:Ee}),c.jsx(Fa,{field:"model",label:"Model",currentSortField:x,currentSortOrder:E,onSort:Ee}),c.jsx(Fa,{field:"serial_number",label:"Serial Number",currentSortField:x,currentSortOrder:E,onSort:Ee}),c.jsx(Fa,{field:"status",label:"Status",currentSortField:x,currentSortOrder:E,onSort:Ee}),c.jsx(Fa,{field:"location",label:"Location",currentSortField:x,currentSortOrder:E,onSort:Ee}),c.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:We.length>0?We.map(Ie=>{var Ne;return c.jsxs("tr",{className:`table-row ${a.includes(Ie.id)?"bg-blue-50":""} cursor-pointer hover:bg-slate-50`,onClick:Fn=>ct(Ie.id,Fn),children:[c.jsx("td",{className:"table-cell",children:c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("input",{type:"checkbox",checked:a.includes(Ie.id),onChange:()=>Qe(Ie.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),c.jsx("td",{className:"table-cell",children:Ie.type}),c.jsx("td",{className:"table-cell",children:Ie.category||"-"}),c.jsx("td",{className:"table-cell",children:Ie.brand}),c.jsx("td",{className:"table-cell",children:Ie.model}),c.jsx("td",{className:"table-cell",children:Ie.serial_number}),c.jsx("td",{className:"table-cell",children:c.jsx("span",{className:`badge ${Ie.status==="available"?"badge-success":Ie.status==="in-use"?"badge-info":"badge-warning"}`,children:Ie.status})}),c.jsx("td",{className:"table-cell",children:((Ne=Ie.locationDetails)==null?void 0:Ne.name)||Ie.location||"-"}),c.jsx("td",{className:"table-cell",children:c.jsx("div",{className:"flex items-center justify-end",children:c.jsx(h2,{equipmentId:Ie.id,onBatchDuplicate:()=>{ce(Ie.id),q(!0)},onBatchStatusUpdate:()=>{ce(Ie.id),z(!0)},onBatchLocationChange:()=>{ce(Ie.id),G(!0)}})})})]},Ie.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500",children:"No equipment found"})})})]})}),c.jsx("div",{ref:t,className:"py-4 text-center",children:nt?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):Ye?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})]})},YB=async({page:e=1,limit:t=20,equipmentId:n,userId:r,actionType:i,search:a,type:d,status:g,location_id:v,sortBy:x="created_at",sortOrder:b="desc"})=>{const E={page:e,limit:t};return n&&(E.equipmentId=n),r&&(E.userId=r),i&&(E.actionType=i),a&&(E.search=a),d&&(E.type=d),g&&(E.status=g),v&&(E.location_id=v),x&&(E.sortBy=x),b&&(E.sortOrder=b),(await it.get("/api/equipment-logs",{params:E})).data},GB=async(e,{page:t=1,limit:n=20}={})=>{const r={page:t,limit:n};return(await it.get(`/api/equipment-logs/equipment/${e}`,{params:r})).data},$B=({equipmentId:e})=>{var b;const[t,n]=L.useState(1),[r]=L.useState(10),{data:i,isLoading:a,isError:d,error:g}=kt(["equipmentLogs",e,t,r],()=>GB(e,{page:t,limit:r}),{keepPreviousData:!0,enabled:!!e}),v=E=>E.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),x=E=>{n(E)};return a?c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:"text-slate-600",children:"Loading movement history..."})]}):d?c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsx("div",{className:"bg-red-100 p-3 rounded-full mb-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Movement History"}),c.jsx("p",{className:"text-slate-500 text-sm",children:g.message||"Failed to load equipment logs"})]}):(b=i==null?void 0:i.logs)!=null&&b.length?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Action"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Details"]})})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.logs.map((E,_)=>{var k,A,R;return c.jsxs("tr",{className:`hover:bg-slate-50 ${_%2===0?"bg-white":"bg-slate-50/50"}`,children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium",children:ld(new Date(E.created_at),"MMM d, yyyy")}),c.jsx("span",{className:"ml-2 text-slate-500",children:ld(new Date(E.created_at),"h:mm a")})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium",children:(k=E.user)!=null&&k.username?E.user.username.charAt(0).toUpperCase():"?"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("div",{className:"text-sm font-medium text-slate-800",children:((A=E.user)==null?void 0:A.username)||"Unknown"}),c.jsx("div",{className:"text-xs text-slate-500 capitalize",children:((R=E.user)==null?void 0:R.role)||""})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:`px-2.5 py-1.5 inline-flex text-xs leading-5 font-semibold rounded-full
                    ${E.action_type==="created"?"bg-green-100 text-green-800":E.action_type==="updated"?"bg-blue-100 text-blue-800":E.action_type==="deleted"?"bg-red-100 text-red-800":E.action_type==="status_change"?"bg-yellow-100 text-yellow-800":E.action_type==="location_change"?"bg-indigo-100 text-indigo-800":"bg-slate-100 text-slate-800"}`,children:[E.action_type==="created"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),E.action_type==="updated"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),E.action_type==="deleted"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),E.action_type==="status_change"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),E.action_type==="location_change"&&c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),v(E.action_type)]})}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[E.action_type==="status_change"&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_status}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_status})]}),E.action_type==="location_change"&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_location||"None"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_location||"None"})]}),E.details&&c.jsx("div",{className:"mt-2 text-slate-600",children:E.details})]})]},E.id)})})]})}),i.totalPages>1&&c.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[c.jsxs("div",{className:"text-sm text-slate-600 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Showing ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:(t-1)*r+1})," to"," ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:Math.min(t*r,i.total)})," of"," ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:i.total})," logs"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:()=>x(t-1),disabled:t===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===1?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-1 ${t===1?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),c.jsxs("button",{onClick:()=>x(t+1),disabled:t===i.totalPages,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===i.totalPages?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:["Next",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-1 ${t===i.totalPages?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-slate-600 font-medium",children:"No movement history found"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"This equipment has no recorded movements or status changes"})]})},GN=({isOpen:e,title:t="Confirm Action",message:n="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:a,onCancel:d,isDestructive:g=!1})=>e?c.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-soft max-w-md w-full p-6 animate-fade-in",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:t}),c.jsx("p",{className:"text-slate-600 mb-6",children:n}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx(Ve,{variant:"secondary",onClick:d,children:i}),c.jsx(Ve,{variant:g?"danger":"primary",onClick:a,children:r})]})]})}):null;GN.propTypes={isOpen:te.bool.isRequired,title:te.string,message:te.string,confirmText:te.string,cancelText:te.string,onConfirm:te.func.isRequired,onCancel:te.func.isRequired,isDestructive:te.bool};const m2=({onImageSelect:e,existingImage:t=null,onImageDelete:n})=>{const[r,i]=L.useState(null),[a,d]=L.useState(null);L.useEffect(()=>{d(t?`/api/files/${t.id}?thumbnail=true`:null)},[t]),L.useEffect(()=>()=>{a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a)},[a]);const g=L.useCallback(k=>{if(k.length>0){const A=k[0];if(A.size>10*1024*1024){alert("Image is too large. Maximum size is 10MB.");return}i(A),d(URL.createObjectURL(A)),e(A)}},[e]),v=()=>{i(null),a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a),d(null),e(null)},x=()=>{n&&t&&(n(t.id),d(null))},{getRootProps:b,getInputProps:E,isDragActive:_}=_d({onDrop:g,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1,multiple:!1});return c.jsx("div",{children:a?c.jsx("div",{className:"mt-4",children:c.jsxs("div",{className:"bg-slate-50 p-4 rounded-md border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium",children:t?t.file_name:(r==null?void 0:r.name)||"Reference Image"})]}),c.jsx("button",{type:"button",onClick:t?x:v,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("div",{className:"mt-2 flex justify-center",style:{height:"200px"},children:c.jsx("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden bg-slate-100 rounded-md",children:c.jsx("img",{src:a,alt:"Reference Image Preview",className:"rounded-md max-h-full max-w-full",style:{objectFit:"contain",objectPosition:"center"},onError:k=>{console.error("Error loading image:",k),k.target.src="/placeholder-image.png",k.target.onerror=null}})})})]})}):c.jsxs("div",{...b(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${_?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...E()}),_?c.jsx("p",{className:"text-primary-500",children:"Drop the image here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop a reference image here, or click to select"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Accepted file types: JPEG, PNG (Max: 10MB)"})]})]})})};m2.propTypes={onImageSelect:te.func.isRequired,existingImage:te.object,onImageDelete:te.func};const $N=({isOpen:e,onClose:t,equipmentId:n,existingImage:r=null})=>{const[i,a]=L.useState(null),[d,g]=L.useState(!1),[v,x]=L.useState(""),b=Zn(),E=R=>{a(R)},_=Yn({mutationFn:async R=>AE(n,{},[],[],R.referenceImageFile,R.removeReferenceImage),onSuccess:()=>{b.invalidateQueries(["equipment",n]),t()},onError:R=>{var M,I;console.error("Error updating reference image:",R),x(((I=(M=R.response)==null?void 0:M.data)==null?void 0:I.message)||"Failed to update reference image"),g(!1)}}),k=R=>{if(R.preventDefault(),!i){x("Please select an image file");return}g(!0),x(""),_.mutate({referenceImageFile:i})},A=()=>{g(!0),x(""),_.mutate({referenceImageFile:null,removeReferenceImage:!0})};return e?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-slate-500 opacity-75"})}),c.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),c.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:c.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[c.jsxs("h3",{className:"text-lg leading-6 font-medium text-slate-900 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Change Reference Image"]}),c.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This image will be displayed prominently on the equipment details page and in search results."}),c.jsxs("div",{className:"mt-4",children:[v&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:c.jsx("p",{className:"text-red-700",children:v})}),c.jsxs("form",{onSubmit:k,children:[c.jsx("div",{className:"mb-4",children:c.jsx(m2,{onImageSelect:E,existingImage:r})}),c.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[c.jsx(Ve,{type:"submit",variant:"primary",disabled:d||!i,className:"w-full sm:ml-3 sm:w-auto",children:d?"Saving...":"Save Changes"}),c.jsx(Ve,{type:"button",variant:"secondary",onClick:t,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"}),r&&c.jsx(Ve,{type:"button",variant:"danger",onClick:A,className:"mt-3 w-full sm:mt-0 sm:mr-auto sm:w-auto",children:"Remove Image"})]})]})]})]})})})})]})}):null};$N.propTypes={isOpen:te.bool.isRequired,onClose:te.func.isRequired,equipmentId:te.string.isRequired,existingImage:te.object};const kg=({fileType:e,fileUrl:t,fileName:n,className:r="",style:i={},showFileName:a=!0,size:d="medium",interactive:g=!0,useThumbnail:v=!0})=>{const[x,b]=L.useState(!0),[E,_]=L.useState(null),[k,A]=L.useState(!1),R=()=>{switch(d){case"small":return"h-24";case"large":return"h-48";case"medium":default:return"h-32"}},M=()=>{console.log("Image loaded successfully"),b(!1)},I=()=>{console.error("Image failed to load completely"),b(!1),_("Failed to load image")};L.useEffect(()=>{if(x&&e==="image"){const Q=setTimeout(()=>{console.log("Loading timeout reached, resetting loading state"),b(!1)},5e3);return()=>clearTimeout(Q)}},[x,e]),L.useEffect(()=>{!t&&e==="image"&&(console.log("No file URL provided, showing error state"),b(!1),_("No image available"))},[t,e]);const D=()=>{g&&e==="image"&&A(!k)},O=()=>{switch(e){case"image":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},q=()=>{if(x&&e==="image")return c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{className:"text-slate-400 text-xs",children:"Loading..."})]})});if(E)return c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:c.jsxs("div",{className:"flex flex-col items-center p-2",children:[c.jsx("svg",{className:"w-8 h-8 text-red-500 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("span",{className:"text-red-500 text-xs text-center",children:E})]})});switch(e){case"image":if(!t)return console.error("No file URL provided for image"),c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:c.jsxs("div",{className:"flex flex-col items-center p-2",children:[c.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("span",{className:"text-slate-400 text-xs text-center",children:"No image"})]})});const Q=new Date().getTime();let z=t;return z.includes("t=")||(z+=(z.includes("?")?"&":"?")+`t=${Q}`),c.jsx("div",{className:`w-full h-full flex items-center justify-center overflow-hidden ${g?"cursor-pointer":""}`,onClick:D,children:c.jsx("img",{src:z,alt:n||"Image preview",className:`max-h-full max-w-full object-contain transition-transform duration-300 ${k?"scale-150":""}`,onLoad:j=>{console.log("Image loaded successfully:",z),M()},onError:j=>{console.error("Image failed to load:",z);const G=j.target;if(t.includes("thumbnail=true")){console.log("Thumbnail failed to load, trying original image");const se=`${t.split("?")[0]}?t=${new Date().getTime()}`;console.log("Trying with URL:",se),G.src=se}else{console.log("Original image failed to load, trying with new cache busting");const H=t.includes("?")?`${t.split("?")[0]}?t=${new Date().getTime()}`:`${t}?t=${new Date().getTime()}`;console.log("Trying with URL:",H),G.src=H,G.dataset.retried?(console.error("Multiple load attempts failed, showing error"),I()):G.dataset.retried="true"}}},`img-${z}`)});case"audio":return c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[c.jsx("div",{className:"mb-2",children:O()}),g?c.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[c.jsx("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):c.jsx("div",{className:"text-sm text-slate-500",children:"Audio file"})]});case"pdf":return c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[c.jsx("div",{className:"mb-2",children:O()}),g?c.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm underline",children:"View PDF"}):c.jsx("div",{className:"text-sm text-slate-500",children:"PDF document"})]});default:return c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:O()})}};return c.jsxs("div",{className:`bg-slate-100 rounded-md overflow-hidden ${R()} ${r}`,style:i,children:[q(),a&&n&&c.jsx("div",{className:"bg-slate-800 bg-opacity-70 text-white text-xs py-1 px-2 absolute bottom-0 left-0 right-0 truncate",children:n})]})};kg.propTypes={fileType:te.oneOf(["image","audio","pdf"]).isRequired,fileUrl:te.string.isRequired,fileName:te.string,className:te.string,style:te.object,showFileName:te.bool,size:te.oneOf(["small","medium","large"]),interactive:te.bool,useThumbnail:te.bool};const XN=({files:e=[],onFileDelete:t,canDelete:n=!1,showDownload:r=!0,layout:i="grid",size:a="medium"})=>{const[d,g]=L.useState(null),v=A=>{g(A)},x=()=>{g(null)},b=(A,R=!1,M=!1)=>{let I=`/api/files/${A}`;const D=[];return R&&D.push("download=true"),M&&D.push("thumbnail=true"),D.length>0&&(I+=`?${D.join("&")}`),I},E=()=>d?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:x,children:c.jsxs("div",{className:"bg-white rounded-lg overflow-hidden max-w-3xl w-full max-h-[90vh] flex flex-col",onClick:A=>A.stopPropagation(),children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900",children:d.file_name}),c.jsx("button",{type:"button",onClick:x,className:"text-slate-400 hover:text-slate-500",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:d.file_type==="image"?c.jsx("img",{src:b(d.id),alt:d.file_name,className:"max-w-full max-h-[70vh] object-contain",onError:A=>{console.error("Error loading image in modal:",A),A.target.src=`${b(d.id)}?t=${new Date().getTime()}`}}):d.file_type==="audio"?c.jsxs("div",{className:"w-full max-w-md p-4",children:[c.jsx("div",{className:"mb-4 text-center",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),c.jsxs("audio",{controls:!0,className:"w-full",children:[c.jsx("source",{src:b(d.id),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):d.file_type==="pdf"?c.jsx("div",{className:"w-full h-[70vh]",children:c.jsx("iframe",{src:`${b(d.id)}#view=FitH`,title:d.file_name,className:"w-full h-full"})}):c.jsx("div",{className:"text-center p-4",children:c.jsx("p",{children:"This file type cannot be previewed."})})}),c.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end space-x-2",children:[c.jsx("a",{href:b(d.id,!0),download:!0,className:"btn btn-secondary",children:"Download"}),n&&c.jsx("button",{type:"button",onClick:()=>{t(d.id),x()},className:"btn btn-danger",children:"Delete"})]})]})}):null,_=()=>c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(A=>c.jsxs("div",{className:"relative group",children:[c.jsxs("div",{className:"cursor-pointer rounded-lg overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow",onClick:()=>v(A),children:[c.jsx(kg,{fileType:A.file_type,fileUrl:b(A.id,!1,A.file_type==="image"),fileName:A.file_name,size:a,interactive:!1,useThumbnail:A.file_type==="image"}),c.jsxs("div",{className:"p-2",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:A.file_name,children:A.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:A.file_type})]})]}),c.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r&&c.jsx("a",{href:b(A.id,!0),download:!0,onClick:R=>R.stopPropagation(),className:"bg-white p-1.5 rounded-full shadow-md text-primary-600 hover:text-primary-800",title:"Download file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&c.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),t(A.id)},className:"bg-white p-1.5 rounded-full shadow-md text-red-600 hover:text-red-800",title:"Delete file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},A.id))}),k=()=>c.jsx("div",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:e.map(A=>c.jsxs("div",{className:"flex items-center p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>v(A),children:[c.jsx("div",{className:"flex-shrink-0 mr-3 w-12 h-12 relative",children:c.jsx(kg,{fileType:A.file_type,fileUrl:b(A.id,!1,A.file_type==="image"),fileName:A.file_name,size:"small",showFileName:!1,interactive:!1,useThumbnail:A.file_type==="image"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:A.file_name,children:A.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:A.file_type})]}),c.jsxs("div",{className:"flex space-x-2 ml-2",children:[r&&c.jsx("a",{href:b(A.id,!0),download:!0,onClick:R=>R.stopPropagation(),className:"text-primary-600 hover:text-primary-800 p-1.5",title:"Download file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&c.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),t(A.id)},className:"text-red-600 hover:text-red-800 p-1.5",title:"Delete file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},A.id))});return e.length===0?c.jsx("p",{className:"text-slate-500 italic",children:"No files available"}):c.jsxs("div",{children:[i==="grid"?_():k(),E()]})};XN.propTypes={files:te.arrayOf(te.shape({id:te.number.isRequired,file_type:te.string.isRequired,file_name:te.string.isRequired})).isRequired,onFileDelete:te.func,canDelete:te.bool,showDownload:te.bool,layout:te.oneOf(["grid","list"]),size:te.oneOf(["small","medium","large"])};const XB=async(e,t,n)=>{try{const r=new FormData;for(const a of t)r.append("files",a);return(await it.post(`/api/files/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n?a=>{const d=Math.round(a.loaded*100/a.total);n(d)}:void 0})).data}catch(r){throw console.error("Error uploading files:",r),r}};let QB={data:""},KB=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||QB,ZB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,JB=/\/\*[^]*?\*\/|  +/g,n3=/\n+/g,qa=(e,t)=>{let n="",r="",i="";for(let a in e){let d=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+d+";":r+=a[1]=="f"?qa(d,a):a+"{"+qa(d,a[1]=="k"?"":t)+"}":typeof d=="object"?r+=qa(d,t?t.replace(/([^,])+/g,g=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,g):g?g+" "+v:v)):a):d!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=qa.p?qa.p(a,d):a+":"+d+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Js={},QN=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+QN(e[n]);return t}return e},eU=(e,t,n,r,i)=>{let a=QN(e),d=Js[a]||(Js[a]=(v=>{let x=0,b=11;for(;x<v.length;)b=101*b+v.charCodeAt(x++)>>>0;return"go"+b})(a));if(!Js[d]){let v=a!==e?e:(x=>{let b,E,_=[{}];for(;b=ZB.exec(x.replace(JB,""));)b[4]?_.shift():b[3]?(E=b[3].replace(n3," ").trim(),_.unshift(_[0][E]=_[0][E]||{})):_[0][b[1]]=b[2].replace(n3," ").trim();return _[0]})(e);Js[d]=qa(i?{["@keyframes "+d]:v}:v,n?"":"."+d)}let g=n&&Js.g?Js.g:null;return n&&(Js.g=Js[d]),((v,x,b,E)=>{E?x.data=x.data.replace(E,v):x.data.indexOf(v)===-1&&(x.data=b?v+x.data:x.data+v)})(Js[d],t,r,g),d},tU=(e,t,n)=>e.reduce((r,i,a)=>{let d=t[a];if(d&&d.call){let g=d(n),v=g&&g.props&&g.props.className||/^go/.test(g)&&g;d=v?"."+v:g&&typeof g=="object"?g.props?"":qa(g,""):g===!1?"":g}return r+i+(d??"")},"");function op(e){let t=this||{},n=e.call?e(t.p):e;return eU(n.unshift?n.raw?tU(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,KB(t.target),t.g,t.o,t.k)}let KN,Dg,Ig;op.bind({g:1});let va=op.bind({k:1});function nU(e,t,n,r){qa.p=t,KN=e,Dg=n,Ig=r}function go(e,t){let n=this||{};return function(){let r=arguments;function i(a,d){let g=Object.assign({},a),v=g.className||i.className;n.p=Object.assign({theme:Dg&&Dg()},g),n.o=/ *go\d+/.test(v),g.className=op.apply(n,r)+(v?" "+v:""),t&&(g.ref=d);let x=e;return e[0]&&(x=g.as||e,delete g.as),Ig&&x[0]&&Ig(g),KN(x,g)}return t?t(i):i}}var rU=e=>typeof e=="function",Rg=(e,t)=>rU(e)?e(t):e,iU=(()=>{let e=0;return()=>(++e).toString()})(),sU=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),aU=20,ZN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,aU)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return ZN(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},oU=[],tm={toasts:[],pausedAt:void 0},g2=e=>{tm=ZN(tm,e),oU.forEach(t=>{t(tm)})},lU=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||iU()}),Sd=e=>(t,n)=>{let r=lU(t,e,n);return g2({type:2,toast:r}),r.id},zr=(e,t)=>Sd("blank")(e,t);zr.error=Sd("error");zr.success=Sd("success");zr.loading=Sd("loading");zr.custom=Sd("custom");zr.dismiss=e=>{g2({type:3,toastId:e})};zr.remove=e=>g2({type:4,toastId:e});zr.promise=(e,t,n)=>{let r=zr.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Rg(t.success,i):void 0;return a?zr.success(a,{id:r,...n,...n==null?void 0:n.success}):zr.dismiss(r),i}).catch(i=>{let a=t.error?Rg(t.error,i):void 0;a?zr.error(a,{id:r,...n,...n==null?void 0:n.error}):zr.dismiss(r)}),e};var cU=va`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uU=va`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dU=va`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fU=go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hU=va`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pU=go("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${hU} 1s linear infinite;
`,mU=va`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gU=va`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xU=go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vU=go("div")`
  position: absolute;
`,yU=go("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wU=va`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bU=go("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CU=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?L.createElement(bU,null,t):t:n==="blank"?null:L.createElement(yU,null,L.createElement(pU,{...r}),n!=="loading"&&L.createElement(vU,null,n==="error"?L.createElement(fU,{...r}):L.createElement(xU,{...r})))},EU=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,NU=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,_U="0%{opacity:0;} 100%{opacity:1;}",SU="0%{opacity:1;} 100%{opacity:0;}",AU=go("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,TU=go("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kU=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=sU()?[_U,SU]:[EU(n),NU(n)];return{animation:t?`${va(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${va(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};L.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?kU(e.position||t||"top-center",e.visible):{opacity:0},a=L.createElement(CU,{toast:e}),d=L.createElement(TU,{...e.ariaProps},Rg(e.message,e));return L.createElement(AU,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:d}):L.createElement(L.Fragment,null,a,d))});nU(L.createElement);op`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const JN=({equipmentId:e,isOpen:t,onClose:n,onSuccess:r})=>{const[i,a]=L.useState([]),[d,g]=L.useState(!1),[v,x]=L.useState(0),[b,E]=L.useState([]),_=50*1024*1024,k=5,A=L.useCallback((z,j)=>{a(H=>[...H,...z]);const G=j.map(H=>H.file.size>_?`${H.file.name} is too large. Maximum file size is 50MB.`:`${H.file.name} is not a supported file type.`);G.length>0&&E(H=>[...H,...G])},[]),{getRootProps:R,getInputProps:M,isDragActive:I}=_d({onDrop:A,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:k,maxSize:_}),D=z=>{a(j=>j.filter((G,H)=>H!==z))},O=()=>{a([]),E([])},q=z=>{switch(z){case"image/jpeg":case"image/png":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},Q=async()=>{if(i.length===0){zr.error("Please select at least one file to upload");return}g(!0),x(0);try{const z=await XB(e,i,j=>x(j));zr.success(`Successfully uploaded ${z.files.length} files`),a([]),E([]),r&&r(z.files),n()}catch(z){console.error("Error uploading files:",z),zr.error("Failed to upload files. Please try again.")}finally{g(!1)}};return t?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[c.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Upload Documents"}),c.jsxs("div",{...R(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer mb-4 ${I?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...M()}),I?c.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",k," files, ",Math.round(_/(1024*1024)),"MB each)"]})]})]}),b.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm font-medium text-red-500 mb-1",children:"Errors:"}),c.jsx("ul",{className:"text-sm text-red-500 list-disc pl-5",children:b.map((z,j)=>c.jsx("li",{children:z},j))})]}),i.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Selected Files:"}),c.jsx("button",{type:"button",onClick:O,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All"})]}),c.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md overflow-hidden",children:i.map((z,j)=>c.jsxs("li",{className:"flex items-center justify-between p-3 hover:bg-slate-50",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"mr-2",children:q(z.type)}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium truncate max-w-xs",title:z.name,children:z.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(z.size/1024).toFixed(1)," KB"]})]})]}),c.jsx("button",{type:"button",onClick:()=>D(j),className:"text-red-500 hover:text-red-700",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},j))})]}),d&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${v}%`}})}),c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",v,"%"]})]})]})})}),c.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[c.jsx(Ve,{variant:"primary",size:"sm",onClick:Q,disabled:d||i.length===0,className:"w-full sm:w-auto sm:ml-3",children:d?"Uploading...":"Upload"}),c.jsx(Ve,{variant:"outline",size:"sm",onClick:n,disabled:d,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})}):null};JN.propTypes={equipmentId:te.number.isRequired,isOpen:te.bool.isRequired,onClose:te.func.isRequired,onSuccess:te.func};const r3=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,DU=()=>{var ae;const{id:e}=NC(),t=us(),n=Zn(),{user:r}=Jn(),[i,a]=L.useState(!1),[d,g]=L.useState(!1),[v,x]=L.useState(!1),[b,E]=L.useState("details"),[_,k]=L.useState("grid"),{data:A,isLoading:R,isError:M,error:I}=kt({queryKey:["equipment",e],queryFn:()=>Kh(e)}),D=Yn({mutationFn:()=>UO(e),onSuccess:()=>{n.invalidateQueries(["equipment"]),t("/equipment")}}),O=()=>{t(`/equipment/${e}/edit`)},q=re=>{n.invalidateQueries(["equipment",e]),rt.success(`Successfully uploaded ${re.length} file(s)`)},Q=()=>{a(!0)},z=()=>{D.mutate(),a(!1)},j=()=>{a(!1)},G=()=>{t("/equipment")};if(R)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(M)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(I==null?void 0:I.message)||"Failed to load equipment details"})}),c.jsx("div",{className:"mt-4",children:c.jsx(Ve,{variant:"outline",size:"sm",onClick:G,children:"Back to Equipment List"})})]})]})})]});const H=re=>{switch(re){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";default:return"secondary"}},se=A.reference_image_id?parseInt(A.reference_image_id):null,fe=(ae=A.files)==null?void 0:ae.find(re=>re.id===se);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"}),c.jsxs("p",{className:"text-slate-500 text-sm",children:[A.brand," ",A.model,"  ",A.serial_number]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs(Ve,{variant:"outline",onClick:G,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(Ve,{variant:"primary",onClick:O,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(r==null?void 0:r.role)==="admin"&&c.jsxs(Ve,{variant:"danger",onClick:Q,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"flex -mb-px",children:[c.jsxs("button",{type:"button",onClick:()=>E("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${b==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${b==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),c.jsxs("button",{type:"button",onClick:()=>E("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${b==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${b==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),c.jsxs("button",{type:"button",onClick:()=>E("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${b==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${b==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),c.jsxs("div",{className:"p-6",children:[b==="details"&&c.jsx("div",{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"md:col-span-1",children:c.jsxs(rn,{className:"h-full",children:[c.jsx(rn.Header,{className:"bg-slate-50",children:c.jsxs(rn.Title,{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),c.jsxs(rn.Body,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Category"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.category||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Type"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.type})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Brand"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.brand})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Model"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.model})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Serial Number"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.serial_number})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Status"}),c.jsx("div",{className:"mt-1",children:A.status&&c.jsx(Qo,{variant:H(A.status),size:"md",children:A.status.charAt(0).toUpperCase()+A.status.slice(1).replace("-"," ")})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.location||"Not specified"})]})]}),A.description&&c.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),c.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"})]}),c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:c.jsx("p",{className:"text-base text-slate-800 whitespace-pre-line",children:A.description})})]})]})]})})})}),b==="documents"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(Ve,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),A.files&&A.files.filter(re=>!fe||re.id!==fe.id).length>0?c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[A.files.filter(re=>!fe||re.id!==fe.id).length,A.files.filter(re=>!fe||re.id!==fe.id).length===1?" file":" files"," attached"]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("grid"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("list"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]}),c.jsx(XN,{files:A.files.filter(re=>!fe||re.id!==fe.id),layout:_,size:"medium",showDownload:!0,canDelete:!1})]}):c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("div",{className:"mt-4",children:c.jsxs(Ve,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),b==="history"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),c.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),c.jsx($B,{equipmentId:e})]})]})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),c.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:fe?c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"relative pb-4",children:[c.jsx("img",{src:r3(fe.id,!0),alt:`${A.brand} ${A.model}`,className:"w-full h-auto object-contain rounded-md",onError:re=>{console.error("Error loading thumbnail, falling back to original image"),re.target.src=r3(fe.id),re.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("button",{onClick:()=>g(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),c.jsx("div",{className:"text-sm text-gray-500 text-center",children:fe.file_name})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs("button",{onClick:()=>g(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[c.jsx("div",{className:"p-4 border-b border-slate-200",children:c.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info"]})}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.category||"Not specified"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.type})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),c.jsx("div",{children:A.status&&c.jsx(Qo,{variant:H(A.status),size:"md",children:A.status.charAt(0).toUpperCase()+A.status.slice(1).replace("-"," ")})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.location||"Not specified"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.serial_number})]})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs(rn,{className:"h-full",children:[c.jsx(rn.Header,{className:"bg-slate-50",children:c.jsxs(rn.Title,{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),c.jsx(rn.Body,{children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.created_by||"Unknown"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.created_at?new Date(A.created_at).toLocaleString():"Unknown"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.updated_at?new Date(A.updated_at).toLocaleString():"Never"})]})]}),A.locationDetails&&c.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[c.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location Details"]}),c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm",children:[c.jsx("p",{className:"font-medium text-slate-800",children:A.locationDetails.name}),A.locationDetails.street&&c.jsx("p",{className:"text-slate-600 mt-1",children:A.locationDetails.street}),(A.locationDetails.postal_code||A.locationDetails.city)&&c.jsxs("p",{className:"text-slate-600",children:[A.locationDetails.postal_code&&`${A.locationDetails.postal_code} `,A.locationDetails.city]}),(A.locationDetails.region||A.locationDetails.country)&&c.jsxs("p",{className:"text-slate-600",children:[A.locationDetails.region&&`${A.locationDetails.region}, `,A.locationDetails.country]})]})]})]})})]})})]}),i&&c.jsx(GN,{isOpen:i,title:"Delete Equipment",message:"Are you sure you want to delete this equipment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:z,onCancel:j,isDestructive:!0}),c.jsx($N,{isOpen:d,onClose:()=>g(!1),equipmentId:e,existingImage:fe}),c.jsx(JN,{equipmentId:parseInt(e),isOpen:v,onClose:()=>x(!1),onSuccess:q})]})},IU=({onFileSelect:e,uploadProgress:t=0,existingFiles:n=[],onFileDelete:r,multiple:i=!1,maxFiles:a=5,maxFileSize:d=50*1024*1024})=>{const[g,v]=L.useState([]),[x,b]=L.useState({}),[E,_]=L.useState([]);L.useEffect(()=>{Object.values(x).forEach(j=>{j&&j.startsWith("blob:")&&URL.revokeObjectURL(j)});const z={};return g.forEach((j,G)=>{j.type.startsWith("image/")&&(z[`new-${G}`]=URL.createObjectURL(j))}),n.forEach(j=>{j.file_type==="image"&&(z[`existing-${j.id}`]=`/api/files/${j.id}`)}),b(z),()=>{Object.values(z).forEach(j=>{j&&j.startsWith("blob:")&&URL.revokeObjectURL(j)})}},[g,n]);const k=z=>{const j=[],G=[];return z.forEach(H=>{if(H.size>d){j.push(`${H.name} exceeds the maximum file size of ${Math.round(d/(1024*1024))}MB`);return}if(!["image/jpeg","image/png","audio/mpeg","application/pdf"].includes(H.type)){j.push(`${H.name} has an unsupported file type. Only JPEG, PNG, MP3, and PDF files are allowed.`);return}G.push(H)}),{validFiles:G,errors:j}},A=L.useCallback((z,j)=>{if(j&&j.length>0){const se=j.map(fe=>`${fe.file.name}: ${fe.errors.map(ae=>ae.message).join(", ")}`);_(se)}else _([]);const{validFiles:G,errors:H}=k(z);if(H.length>0&&_(se=>[...se,...H]),i&&g.length+G.length>a){_(fe=>[...fe,`You can only upload a maximum of ${a} files.`]);const se=a-g.length;if(se>0){const fe=G.slice(0,se);v(ae=>[...ae,...fe]),e(fe)}}else v(i?se=>[...se,...G]:G),e(G)},[e,g,i,a,d]),R=z=>{const j=[...g];j.splice(z,1),v(j),e(i?j:j.length>0?[j[0]]:[]),_([])},M=z=>{if(r){console.log(`FileUpload: Deleting file with ID ${z}`);try{r(z)}catch(j){console.error(`Error deleting file with ID ${z}:`,j)}}else console.warn(`FileUpload: No onFileDelete handler provided for file ID ${z}`)},{getRootProps:I,getInputProps:D,isDragActive:O,fileRejections:q}=_d({onDrop:A,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:i?a:1,multiple:i,maxSize:d}),Q=z=>{switch(z){case"image/jpeg":case"image/png":case"image":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":case"audio":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":case"pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}};return c.jsxs("div",{children:[c.jsxs("div",{...I(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${O?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...D()}),O?c.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",a," files, ",Math.round(d/(1024*1024)),"MB each)"]})]})]}),E.length>0&&c.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"File validation errors:"}),c.jsx("ul",{className:"list-disc pl-5 text-xs text-red-700",children:E.map((z,j)=>c.jsx("li",{children:z},j))})]}),g.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Files to upload:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:g.map((z,j)=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[z.type.startsWith("image/")?c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:x[`new-${j}`]?c.jsx("img",{src:x[`new-${j}`],alt:z.name,className:"max-h-full max-w-full object-contain"}):c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl",children:Q(z.type)})}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:z.name,children:z.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(z.size/(1024*1024)).toFixed(2)," MB"]})]}),c.jsx("button",{type:"button",onClick:()=>R(j),className:"ml-2 text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Remove ${z.name}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]},j))})]}),n.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Existing files:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:n.map(z=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[z.file_type==="image"?c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:x[`existing-${z.id}`]?c.jsx("img",{src:x[`existing-${z.id}`],alt:z.file_name,className:"max-h-full max-w-full object-contain"}):c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):z.file_type==="audio"?c.jsxs("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex flex-col items-center justify-center p-2",children:[c.jsx("div",{className:"text-4xl mb-2",children:Q(z.file_type)}),c.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[c.jsx("source",{src:`/api/files/${z.id}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl",children:Q(z.file_type)})}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:z.file_name,children:z.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:z.file_type})]}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("a",{href:`/api/files/${z.id}?download=true`,download:!0,className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-50","aria-label":`Download ${z.file_name}`,onClick:j=>{j.stopPropagation(),console.log(`Downloading file: ${z.id}`)},children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r&&c.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),console.log(`Deleting file: ${z.id}`),M(z.id)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Delete ${z.file_name}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})]},z.id))})]}),t>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${t}%`}})}),c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",t,"%"]})]})]})},x2=({formData:e,equipmentTypes:t,categoriesData:n,statusOptions:r,handleInputChange:i,handleFileChange:a,handleSubmit:d,handleCancel:g,isLoading:v,error:x,isEditing:b=!1,files:E=[],uploadProgress:_=0,existingFiles:k=[],handleFileDelete:A,handleSetReferenceImage:R})=>{const[M,I]=L.useState(null),[D,O]=L.useState(null),{data:q}=kt(["locations"],ml,{staleTime:3e5});L.useEffect(()=>{if(k&&k.length>0&&e.reference_image_id){const j=k.find(G=>G.id.toString()===e.reference_image_id);if(j){I(j);return}}I(null)},[k,e.reference_image_id]);const Q=j=>{O(j),i(j?{target:{name:"reference_image_id",value:"new"}}:{target:{name:"reference_image_id",value:""}})},z=j=>{I(null),i({target:{name:"reference_image_id",value:""}}),A&&A(j)};return c.jsxs(rn,{children:[x&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-6 mt-0",children:c.jsx("p",{className:"text-red-700",children:x})}),c.jsxs("form",{onSubmit:d,children:[c.jsxs(rn.Body,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(sa,{id:"category_id",name:"category_id",label:"Category",value:e.category_id||"",onChange:i,options:[{value:"",label:"Select Category"},...(n||[]).map(j=>({value:j.id.toString(),label:j.name}))]}),c.jsx(sa,{id:"type_id",name:"type_id",label:"Type",value:e.type_id||"",onChange:i,options:[{value:"",label:"Select Type"},...t.map(j=>({value:j.id.toString(),label:j.name}))],required:!0}),c.jsx(Zt,{id:"brand",name:"brand",label:"Brand",value:e.brand,onChange:i,placeholder:"Enter brand",required:!0}),c.jsx(Zt,{id:"model",name:"model",label:"Model",value:e.model,onChange:i,placeholder:"Enter model",required:!0}),c.jsx(_N,{id:"serial_number",name:"serial_number",label:"Serial Number",value:e.serial_number,onChange:i,placeholder:"Enter serial number",required:!0,onScan:j=>{i({target:{name:"serial_number",value:j}})}}),c.jsx(sa,{id:"status",name:"status",label:"Status",value:e.status,onChange:i,options:r.map(j=>({value:j,label:j.charAt(0).toUpperCase()+j.slice(1).replace("-"," ")})),required:!0}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(sa,{id:"location_id",name:"location_id",label:"Location",value:e.location_id?e.location_id.toString():"",onChange:i,options:[{value:"",label:"Select Location"},...((q==null?void 0:q.locations)||[]).map(j=>{let G=j.name;const H=[];return j.city&&H.push(j.city),j.region&&H.push(j.region),j.country&&H.push(j.country),H.length>0&&(G+=` (${H.join(", ")})`),{value:j.id.toString(),label:G}})]}),c.jsx(Zt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:e.location||"",onChange:i,placeholder:"Enter custom location"})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),c.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:i,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]}),c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[c.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]}),c.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Upload a ",c.jsx("strong",{children:"single reference image"})," that best represents this equipment. This image will be displayed prominently on the equipment details page and in search results."]}),c.jsx(m2,{onImageSelect:Q,existingImage:M,onImageDelete:z})]}),c.jsxs("div",{className:"mt-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[c.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents & Attachments"]}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upload additional documents and images related to this equipment (manuals, invoices, additional photos, etc.). These will be shown in the Documents tab."}),c.jsx(IU,{onFileSelect:a,uploadProgress:_,existingFiles:k,onFileDelete:A,multiple:!0,maxFiles:5})]})]}),c.jsxs(rn.Footer,{className:"flex justify-end space-x-3",children:[c.jsx(Ve,{type:"button",variant:"secondary",onClick:g,children:"Cancel"}),c.jsx(Ve,{type:"submit",variant:"primary",disabled:v,children:v?"Saving...":b?"Save Changes":"Create Equipment"})]})]})]})};x2.propTypes={formData:te.object.isRequired,equipmentTypes:te.array.isRequired,categoriesData:te.array,statusOptions:te.array.isRequired,locationsData:te.object,handleInputChange:te.func.isRequired,handleFileChange:te.func.isRequired,handleSubmit:te.func.isRequired,handleCancel:te.func.isRequired,isLoading:te.bool,error:te.string,isEditing:te.bool,files:te.array,uploadProgress:te.number,existingFiles:te.array,handleFileDelete:te.func,handleSetReferenceImage:te.func};const RU=()=>{const[e,t]=L.useState(""),[n,r]=L.useState(""),[i,a]=L.useState(!1),[d,g]=L.useState(""),v=async()=>{var x,b;if(!e){g("Please enter a file ID");return}a(!0),g(""),r("");try{console.log(`Attempting to delete file with ID: ${e}`);const E=await TE(e);console.log("Delete response:",E),r(`File deleted successfully: ${JSON.stringify(E)}`)}catch(E){console.error("Error deleting file:",E),g(`Error: ${((b=(x=E.response)==null?void 0:x.data)==null?void 0:b.message)||E.message}`)}finally{a(!1)}};return c.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-white",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"File Deletion Test"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"fileId",className:"block text-sm font-medium text-gray-700 mb-1",children:"File ID"}),c.jsx("input",{type:"text",id:"fileId",value:e,onChange:x=>t(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter file ID"})]}),c.jsx("button",{onClick:v,disabled:i,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50",children:i?"Deleting...":"Delete File"}),n&&c.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded text-green-800",children:n}),d&&c.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded text-red-800",children:d})]})},OU=()=>{const{id:e}=NC(),t=us(),n=Zn(),{user:r}=Jn(),[i,a]=L.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:""}),[d,g]=L.useState([]),[v,x]=L.useState([]),[b,E]=L.useState(0),[_,k]=L.useState(""),{data:A}=kt({queryKey:["equipment-types"],queryFn:js,staleTime:3e5}),{data:R}=kt({queryKey:["categories"],queryFn:jc,staleTime:3e5}),M=["available","in-use","maintenance"],{data:I,isLoading:D,isError:O,error:q}=kt({queryKey:["equipment",e],queryFn:()=>Kh(e),onSuccess:re=>{console.log("Equipment data loaded:",re),console.log("Location ID:",re.location_id,typeof re.location_id),a({type_id:re.type_id?re.type_id.toString():"",category_id:re.category_id?re.category_id.toString():"",category:re.category||"",brand:re.brand||"",model:re.model||"",serial_number:re.serial_number||"",status:re.status||"available",location:re.location||"",location_id:re.location_id?re.location_id.toString():"",description:re.description||"",reference_image_id:re.reference_image_id?re.reference_image_id.toString():""}),re.locationDetails&&console.log("Location details:",re.locationDetails)}}),Q=Yn({mutationFn:async re=>{const ve=Object.fromEntries(Object.entries(re.equipment).filter(([ee,ge])=>ge!=null));return AE(e,ve,re.filesToUpload,re.filesToDelete)},onSuccess:()=>{n.invalidateQueries(["equipment"]),t(`/equipment/${e}`)},onError:re=>{var ve,ee;console.error("Error updating equipment:",re),k(((ee=(ve=re.response)==null?void 0:ve.data)==null?void 0:ee.message)||"Failed to update equipment")}}),z=re=>{const{name:ve,value:ee}=re.target;let ge={...i,[ve]:ee};if(ve==="category_id"&&ee&&(R!=null&&R.categories)){const me=R.categories.find(ce=>ce.id.toString()===ee);me&&(console.log("Selected category:",me),ge={...ge,category_id:ee,category:me.name})}if(ve==="location_id"&&ee){const me=locationsData==null?void 0:locationsData.locations.find(ce=>ce.id.toString()===ee);me&&(console.log("Selected location:",me),ge={...ge,location_id:ee,location:me.name},me.name.toLowerCase()==="lager"?(ge.status="available",console.log('Setting status to "available" because location is Lager')):ge.status==="available"&&(ge.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${me.name})`)))}else ve==="location"&&ee&&(ge={...ge,location:ee,location_id:""},ee.toLowerCase()==="lager"?(ge.status="available",console.log('Setting status to "available" because custom location is Lager')):ge.status==="available"&&(ge.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${ee})`)));ve==="status"&&(console.log(`User manually changed status to: ${ee}`),(i.location||"").toLowerCase()==="lager"&&ee!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),ge.status="available")),a(ge)},j=re=>{g(re)},G=re=>{i.reference_image_id===re.toString()&&a({...i,reference_image_id:""}),x(ve=>[...ve,re])},H=re=>{a({...i,reference_image_id:re.toString()})},se=re=>{if(re.preventDefault(),!i.type_id||!i.brand||!i.model||!i.serial_number){k("Type, brand, model, and serial number are required");return}const ve=d.find((me,ce)=>i.reference_image_id==="new"),ee=ve?d.filter(me=>me!==ve):d,ge=i.reference_image_id==="";Q.mutate({equipment:{...i,reference_image_id:i.reference_image_id==="new"?"new":i.reference_image_id},filesToUpload:ee,filesToDelete:v,referenceImageFile:ve||null,removeReferenceImage:ge})},fe=()=>{t(`/equipment/${e}`)};if(D)return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(O)return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(q==null?void 0:q.message)||"Failed to load equipment details"})}),c.jsx("div",{className:"mt-4",children:c.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>t("/equipment"),children:"Back to Equipment List"})})]})]})})]});const ae=async re=>{var ve,ee;try{console.log(`Directly deleting file with ID: ${re}`),await TE(re),console.log("File deleted successfully"),n.invalidateQueries(["equipment",e])}catch(ge){console.error("Error directly deleting file:",ge),k(`Error deleting file: ${((ee=(ve=ge.response)==null?void 0:ve.data)==null?void 0:ee.message)||ge.message}`)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),(r==null?void 0:r.role)==="admin"&&c.jsx("div",{className:"mb-6",children:c.jsx(RU,{})}),c.jsx(x2,{formData:i,equipmentTypes:(A==null?void 0:A.types)||[],categoriesData:(R==null?void 0:R.categories)||[],statusOptions:M,handleInputChange:z,handleFileChange:j,handleSubmit:se,handleCancel:fe,isLoading:Q.isLoading,error:_,isEditing:!0,uploadProgress:b,existingFiles:(I==null?void 0:I.files)||[],handleFileDelete:G,handleSetReferenceImage:H}),(r==null?void 0:r.role)==="admin"&&(I==null?void 0:I.files)&&I.files.length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Direct File Deletion Test"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.files.map(re=>c.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:re.file_name}),c.jsxs("p",{className:"text-sm text-slate-500",children:["ID: ",re.id]}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Type: ",re.file_type]})]}),c.jsx("button",{onClick:()=>ae(re.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Delete Directly"})]})},re.id))})]})]})},jU=()=>{const e=us(),t=Zn(),{user:n}=Jn(),[r,i]=L.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:""}),[a,d]=L.useState([]),[g,v]=L.useState(""),[x,b]=L.useState(0),{data:E}=kt({queryKey:["equipment-types"],queryFn:js,staleTime:3e5}),{data:_}=kt({queryKey:["categories"],queryFn:jc,staleTime:3e5}),{data:k}=kt({queryKey:["locations"],queryFn:ml,staleTime:3e5}),A=["available","in-use","maintenance"],R=Yn({mutationFn:async z=>Hx(z.equipment,z.files),onSuccess:()=>{t.invalidateQueries(["equipment"]),e("/equipment")},onError:z=>{var j,G;console.error("Error creating equipment:",z),v(((G=(j=z.response)==null?void 0:j.data)==null?void 0:G.message)||"Failed to create equipment")}}),M=z=>{const{name:j,value:G}=z.target;let H={...r,[j]:G};if(j==="category_id"&&G&&(_!=null&&_.categories)){const se=_.categories.find(fe=>fe.id.toString()===G);se&&(console.log("Selected category:",se),H={...H,category_id:G,category:se.name})}else if(j==="location_id"&&G){const se=k==null?void 0:k.locations.find(fe=>fe.id.toString()===G);se&&(console.log("Selected location:",se),H={...H,location_id:G,location:se.name},se.name.toLowerCase()==="lager"?(H.status="available",console.log('Setting status to "available" because location is Lager')):H.status==="available"&&(H.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${se.name})`)))}else j==="location"&&G?(H={...H,location:G,location_id:""},G.toLowerCase()==="lager"?(H.status="available",console.log('Setting status to "available" because custom location is Lager')):H.status==="available"&&(H.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${G})`))):j==="status"&&(console.log(`User manually changed status to: ${G}`),(r.location||"").toLowerCase()==="lager"&&G!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),H.status="available"));i(H)},I=z=>{d(z)},D=z=>{i({...r,reference_image_id:z.toString()})},O=z=>{const j=[...a];r.reference_image_id===z.toString()&&i({...r,reference_image_id:""}),j.splice(z,1),d(j)},q=z=>{if(z.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){v("Type, brand, model, and serial number are required");return}const j=r.reference_image_id==="new"&&a.length>0?a.find((H,se)=>se===0):null,G=j?a.filter(H=>H!==j):a;R.mutate({equipment:{...r,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id},files:G,referenceImageFile:j})},Q=()=>{e("/equipment")};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Add New Equipment"})}),c.jsx(x2,{formData:r,equipmentTypes:(E==null?void 0:E.types)||[],categoriesData:(_==null?void 0:_.categories)||[],statusOptions:A,locationsData:k,handleInputChange:M,handleFileChange:I,handleSubmit:q,handleCancel:Q,isLoading:R.isLoading,error:g,files:a,uploadProgress:x,handleSetReferenceImage:D,handleFileDelete:O}),(n==null?void 0:n.role)==="admin"&&c.jsx(rn,{className:"mt-6",children:c.jsxs(rn.Body,{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 text-primary-500",children:c.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-800",children:"Equipment Type Management"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"You can manage equipment types in the Settings page."}),c.jsx("div",{className:"mt-3",children:c.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:"Go to Settings"})})]})]})})]})},MU=()=>{const{isAdmin:e,getUsers:t,impersonateUser:n,register:r,user:i}=Jn(),a=us(),d=Zn(),[g,v]=L.useState(null),[x,b]=L.useState(!1),[E,_]=L.useState(!1),[k,A]=L.useState({username:"",password:"",role:"basic"}),[R,M]=L.useState({});L.useEffect(()=>{e()||a("/")},[e,a]);const{data:I,isLoading:D,isError:O,error:q,refetch:Q}=kt({queryKey:["users"],queryFn:t,enabled:e()}),z=Yn({mutationFn:r,onSuccess:()=>{d.invalidateQueries(["users"]),_(!1),A({username:"",password:"",role:"basic"}),rt.success("User created successfully")},onError:re=>{var ve,ee;rt.error(((ee=(ve=re.response)==null?void 0:ve.data)==null?void 0:ee.message)||"Failed to create user")}}),j=re=>{const{name:ve,value:ee}=re.target;A(ge=>({...ge,[ve]:ee})),R[ve]&&M(ge=>({...ge,[ve]:""}))},G=()=>{const re={};return k.username.trim()||(re.username="Username is required"),k.password.trim()?k.password.length<6&&(re.password="Password must be at least 6 characters"):re.password="Password is required",M(re),Object.keys(re).length===0},H=re=>{re.preventDefault(),G()&&z.mutate(k)},se=async()=>{if(g)try{await n(g.id),b(!1),rt.info(`You are now impersonating ${g.username}`),a("/")}catch(re){rt.error("Failed to impersonate user"),console.error("Failed to impersonate user:",re)}},fe=re=>new Date(re).toLocaleString(),ae=re=>{switch(re){case"admin":return"bg-red-100 text-red-800";case"advanced":return"bg-blue-100 text-blue-800";case"basic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e()?D?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):O?c.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-6",role:"alert",children:[c.jsx("strong",{className:"font-bold",children:"Error!"}),c.jsxs("span",{className:"block sm:inline",children:[" ",(q==null?void 0:q.message)||"Failed to load users."]}),c.jsx("button",{onClick:Q,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx(Qh,{position:"top-right",autoClose:3e3}),c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"User Management"}),c.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:I==null?void 0:I.map(re=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:[re.username,re.id===i.id&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"You"})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae(re.role)}`,children:re.role})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:fe(re.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:re.id!==i.id&&c.jsx("button",{onClick:()=>{v(re),b(!0)},className:"text-indigo-600 hover:text-indigo-900","aria-label":`Impersonate ${re.username}`,children:"Impersonate"})})]},re.id))})]})})})]}),E&&c.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Create New User"}),c.jsxs("form",{onSubmit:H,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),c.jsx("input",{type:"text",id:"username",name:"username",value:k.username,onChange:j,className:`w-full px-3 py-2 border ${R.username?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),R.username&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.username})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),c.jsx("input",{type:"password",id:"password",name:"password",value:k.password,onChange:j,className:`w-full px-3 py-2 border ${R.password?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),R.password&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.password})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),c.jsxs("select",{id:"role",name:"role",value:k.role,onChange:j,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"basic",children:"Basic"}),c.jsx("option",{value:"advanced",children:"Advanced"}),c.jsx("option",{value:"admin",children:"Admin"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:z.isLoading,children:z.isLoading?"Creating...":"Create User"})]})]})]})}),x&&g&&c.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Confirm Impersonation"}),c.jsxs("p",{className:"text-slate-500 mb-4",children:["You are about to impersonate ",c.jsx("strong",{children:g.username})," with role ",c.jsx("strong",{children:g.role}),". You will have the same permissions as this user until you end the impersonation."]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),c.jsx("button",{onClick:se,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Impersonate"})]})]})})]}):c.jsx("div",{className:"text-center py-10",children:"Access denied. Admin privileges required."})},LU=()=>{var q,Q;const[e,t]=L.useState(1),[n]=L.useState(20),[r,i]=L.useState("created_at"),[a,d]=L.useState("desc"),[g,v]=L.useState({equipmentId:"",actionType:"",search:"",type:"",status:"",location_id:""}),{data:x}=kt({queryKey:["equipment-types"],queryFn:js,staleTime:3e5}),{data:b}=kt(["locations"],ml),{data:E,isLoading:_,isError:k,error:A}=kt(["allEquipmentLogs",e,n,g,r,a],()=>YB({page:e,limit:n,equipmentId:g.equipmentId||void 0,actionType:g.actionType||void 0,search:g.search||void 0,type:g.type||void 0,status:g.status||void 0,location_id:g.location_id||void 0,sortBy:r,sortOrder:a}),{keepPreviousData:!0}),R=z=>{switch(z){case"created":return"badge-success";case"updated":return"badge-info";case"deleted":return"badge-danger";case"status_change":return"badge-warning";case"location_change":return"badge-primary";default:return"badge-secondary"}},M=z=>z.split("_").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "),I=z=>{const{name:j,value:G}=z.target;v(H=>({...H,[j]:G})),t(1)},D=z=>{z.preventDefault()},O=z=>{t(z)};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Movement Logs"})}),c.jsx("div",{className:"card",children:c.jsxs("form",{onSubmit:D,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),c.jsxs("div",{className:"input-group",children:[c.jsx(Vx,{className:"input-icon w-4 h-4"}),c.jsx("input",{type:"text",id:"search",name:"search",value:g.search,onChange:I,placeholder:"Search logs...",className:"input input-with-icon"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"label",children:"Equipment Type"}),c.jsxs("select",{id:"type",name:"type",value:g.type,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Types"}),x!=null&&x.types&&x.types.length>0?x.types.map(z=>c.jsx("option",{value:z.name.toLowerCase(),children:z.name},z.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"label",children:"Equipment Status"}),c.jsxs("select",{id:"status",name:"status",value:g.status,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"available",children:"Available"}),c.jsx("option",{value:"in-use",children:"In Use"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),c.jsxs("select",{id:"location_id",name:"location_id",value:g.location_id,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Locations"}),(q=b==null?void 0:b.locations)==null?void 0:q.map(z=>c.jsx("option",{value:z.id.toString(),children:z.name},z.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"actionType",className:"label",children:"Action Type"}),c.jsxs("select",{id:"actionType",name:"actionType",value:g.actionType,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Actions"}),c.jsx("option",{value:"created",children:"Created"}),c.jsx("option",{value:"updated",children:"Updated"}),c.jsx("option",{value:"deleted",children:"Deleted"}),c.jsx("option",{value:"status_change",children:"Status Change"}),c.jsx("option",{value:"location_change",children:"Location Change"})]})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[c.jsx(Yx,{className:"w-4 h-4"}),c.jsx("span",{children:"Apply Filters"})]})})]})}),c.jsxs("div",{className:"card",children:[_?c.jsx("div",{className:"text-center py-10",children:"Loading..."}):k?c.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",A.message||"Failed to load equipment logs"]}):(Q=E==null?void 0:E.logs)!=null&&Q.length?c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Equipment"}),c.jsx("th",{className:"table-header-cell",children:"User"}),c.jsx("th",{className:"table-header-cell",children:"Action"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:E.logs.map(z=>{var j,G;return c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell whitespace-nowrap",children:ld(new Date(z.created_at),"MMM d, yyyy h:mm a")}),c.jsx("td",{className:"table-cell",children:z.equipment?c.jsxs(jn,{to:`/equipment/${z.equipment.id}`,className:"text-primary-600 hover:text-primary-800",children:[z.equipment.brand," ",z.equipment.model,c.jsxs("span",{className:"text-xs text-slate-500 block",children:["SN: ",z.equipment.serial_number]})]}):c.jsx("span",{className:"text-slate-400",children:"Deleted equipment"})}),c.jsxs("td",{className:"table-cell",children:[((j=z.user)==null?void 0:j.username)||"Unknown",c.jsx("span",{className:"text-xs text-slate-500 block",children:((G=z.user)==null?void 0:G.role)||""})]}),c.jsx("td",{className:"table-cell",children:c.jsx("span",{className:`badge ${R(z.action_type)}`,children:M(z.action_type)})}),c.jsxs("td",{className:"table-cell",children:[z.action_type==="status_change"&&c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",c.jsx("span",{className:"badge badge-outline-secondary",children:z.previous_status})," ",c.jsx("span",{className:"text-slate-400",children:""})," ",c.jsx("span",{className:"badge badge-outline-primary",children:z.new_status})]}),z.action_type==="location_change"&&c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Location:"})," ",c.jsx("span",{className:"badge badge-outline-secondary",children:z.previous_location||"None"})," ",c.jsx("span",{className:"text-slate-400",children:""})," ",c.jsx("span",{className:"badge badge-outline-primary",children:z.new_location||"None"})]}),z.details&&c.jsx("div",{className:"text-sm mt-1",children:z.details})]})]},z.id)})})]})}):c.jsx("div",{className:"text-center py-10 text-slate-500",children:g.search||g.equipmentId||g.actionType?"No logs found matching your search criteria.":"No logs found."}),(E==null?void 0:E.totalPages)>1&&c.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-200",children:[c.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",c.jsx("span",{className:"font-medium text-slate-800",children:(e-1)*n+1})," to"," ",c.jsx("span",{className:"font-medium text-slate-800",children:Math.min(e*n,E.total)})," of"," ",c.jsx("span",{className:"font-medium text-slate-800",children:E.total})," logs"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>O(e-1),disabled:e===1,className:`btn ${e===1?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Previous"}),c.jsx("button",{onClick:()=>O(e+1),disabled:e===E.totalPages,className:`btn ${e===E.totalPages?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Next"})]})]})]})]})},PU=new GI({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),Pa=({children:e})=>{const{user:t,loading:n}=Jn();return n?c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?e:c.jsx(G0,{to:"/login"})},i3=({children:e})=>{const{user:t,loading:n,isAdmin:r}=Jn();return n?c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?r()?e:c.jsx(G0,{to:"/dashboard"}):c.jsx(G0,{to:"/login"})},bs=({children:e})=>{const[t,n]=L.useState(!0),[r,i]=L.useState(!1);return c.jsxs("div",{className:"min-h-screen bg-slate-50",children:[c.jsx(U9,{}),c.jsx(P9,{}),c.jsx(B9,{isOpen:t,isCollapsed:r,toggleSidebar:n,toggleCollapse:i}),c.jsx("main",{className:`main-content pt-16 ${t?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:c.jsx("div",{className:"container-app",children:c.jsx("div",{className:"space-y-6",children:e})})})]})},FU=()=>c.jsx(kI,{children:c.jsxs(CI,{children:[c.jsx(mi,{path:"/login",element:c.jsx(z9,{})}),c.jsx(mi,{path:"/",element:c.jsx(Pa,{children:c.jsx(bs,{children:c.jsx(Rb,{})})})}),c.jsx(mi,{path:"/dashboard",element:c.jsx(Pa,{children:c.jsx(bs,{children:c.jsx(Rb,{})})})}),c.jsx(mi,{path:"/advanced-dashboard",element:c.jsx(Pa,{children:c.jsx(bs,{children:c.jsx(kF,{})})})}),c.jsx(mi,{path:"/equipment/new",element:c.jsx(Pa,{children:c.jsx(bs,{children:c.jsx(jU,{})})})}),c.jsx(mi,{path:"/equipment/:id/edit",element:c.jsx(Pa,{children:c.jsx(bs,{children:c.jsx(OU,{})})})}),c.jsx(mi,{path:"/equipment/:id",element:c.jsx(Pa,{children:c.jsx(bs,{children:c.jsx(DU,{})})})}),c.jsx(mi,{path:"/equipment",element:c.jsx(Pa,{children:c.jsx(bs,{children:c.jsx(VB,{})})})}),c.jsx(mi,{path:"/admin",element:c.jsx(i3,{children:c.jsx(bs,{children:c.jsx(MU,{})})})}),c.jsx(mi,{path:"/equipment-logs",element:c.jsx(i3,{children:c.jsx(bs,{children:c.jsx(LU,{})})})}),c.jsx(mi,{path:"/settings",element:c.jsx(Pa,{children:c.jsx(bs,{children:c.jsx(VF,{})})})}),c.jsx(mi,{path:"*",element:c.jsx(G0,{to:"/"})})]})}),BU=()=>c.jsx(l7,{client:PU,children:c.jsx(eO,{children:c.jsxs(DE,{children:[c.jsx(Qh,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),c.jsx(FU,{})]})})});const UU=async()=>{try{return(await it.get("/api/csrf-token",{withCredentials:!0})).data.csrfToken}catch(e){return console.error("Failed to fetch CSRF token:",e),null}},zU=async()=>{it.defaults.withCredentials=!0;const e=localStorage.getItem("token");e&&(it.defaults.headers.common.Authorization=`Bearer ${e}`),it.interceptors.response.use(t=>t,async t=>{var r;const n=t.config;if(n&&(n.url.includes("/files/")||n.url.includes("/public-files/")))return console.log("File access error:",t),Promise.reject(t);if(((r=t.response)==null?void 0:r.status)===401&&!n._retry){n._retry=!0;try{return window.location.pathname!=="/login"&&(localStorage.removeItem("token"),delete it.defaults.headers.common.Authorization,alert("Your session has expired. Please log in again."),window.location.href="/login"),Promise.reject(t)}catch(i){return Promise.reject(i)}}return Promise.reject(t)});{const t=await UU();t&&it.interceptors.request.use(async n=>(n.method!=="get"&&(n.headers["CSRF-Token"]=t),n),n=>Promise.reject(n))}return it};console.log("API URL:",{}.VITE_API_URL);const e_={}.VITE_API_URL||"http://localhost:5000";it.defaults.baseURL=e_;console.log("Setting axios baseURL to:",e_);const WU=async()=>{await zU(),nm.createRoot(document.getElementById("root")).render(c.jsx(ue.StrictMode,{children:c.jsx(BU,{})}))};WU();
//# sourceMappingURL=index-594abe12.js.map
